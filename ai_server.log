2025-11-16 03:34:53,828 - INFO - Server is starting up...
2025-11-16 03:34:53,853 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-16 03:35:00,645 - INFO - WebSocket connection established.
2025-11-16 03:36:41,589 - INFO - Start time: 1763239001.5890622
2025-11-16 03:36:41,589 - INFO - Pipeline started for question: 'What adverse event is caused by Fulvestrant ?'
2025-11-16 03:36:50,976 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for side effects (adverse events) caused by a compound. I will start with the Compound 'Fulvestrant' and find its neighboring SideEffect nodes using the CAUSES_CcSE edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-16 03:36:52,821 - INFO - Execution completed. Final Context Store is ready.
2025-11-16 03:37:07,020 - INFO - Final answer generated.
2025-11-16 03:37:07,021 - INFO - End time: 1763239027.0219877
2025-11-16 03:37:07,023 - INFO - Total time for entire processing: 25.43292546272278
2025-11-16 03:45:45,816 - INFO - WebSocket connection closed.
2025-11-17 10:19:14,403 - INFO - Server is starting up...
2025-11-17 10:19:14,430 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 10:19:42,410 - INFO - WebSocket connection established.
2025-11-17 10:19:42,410 - INFO - Start time: 1763349582.410911
2025-11-17 10:19:42,425 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 10:19:51,477 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for symptoms of a compound. I will find the 'Compound' node for 'Aspirin' and then find its neighboring 'Symptom' nodes connected by the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get symptoms caused by 'Aspirin'",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 10:19:53,300 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 10:19:53,300 - INFO - Final answer generated.
2025-11-17 10:19:53,300 - INFO - End time: 1763349593.3003182
2025-11-17 10:19:53,300 - INFO - Total time for entire processing: 10.88940715789795
2025-11-17 10:20:40,189 - INFO - WebSocket connection closed.
2025-11-17 10:20:53,150 - INFO - Server is shutting down...
2025-11-17 10:21:41,672 - INFO - Server is starting up...
2025-11-17 10:21:41,675 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 10:22:07,716 - INFO - WebSocket connection established.
2025-11-17 10:22:07,716 - INFO - Start time: 1763349727.7168715
2025-11-17 10:22:07,716 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 10:22:17,646 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the symptoms of Aspirin. In the SPOKE schema, this relationship is modeled as a Compound causing a SideEffect. Therefore, this is a one-hop query from the Compound 'Aspirin' to the SideEffect node type via the CAUSES_CcSE edge.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Aspirin'.",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 10:22:18,684 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 10:22:30,287 - INFO - Final answer generated.
2025-11-17 10:22:30,287 - INFO - End time: 1763349750.2879412
2025-11-17 10:22:30,287 - INFO - Total time for entire processing: 22.571069717407227
2025-11-17 10:25:22,938 - INFO - WebSocket connection closed.
2025-11-17 10:25:28,457 - INFO - WebSocket connection established.
2025-11-17 10:25:28,457 - INFO - Start time: 1763349928.4579148
2025-11-17 10:25:28,457 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 10:25:40,050 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the symptoms of Aspirin. In the SPOKE schema, this relationship is modeled as a Compound causing a SideEffect. Therefore, this is a one-hop query from the Compound 'Aspirin' to the SideEffect node type via the CAUSES_CcSE edge.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Aspirin'.",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 10:25:40,886 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 10:26:00,469 - INFO - Final answer generated.
2025-11-17 10:26:00,469 - INFO - End time: 1763349960.4699156
2025-11-17 10:26:00,469 - INFO - Total time for entire processing: 32.01200079917908
2025-11-17 10:26:19,534 - INFO - WebSocket connection closed.
2025-11-17 10:26:19,650 - INFO - Server is shutting down...
2025-11-17 10:57:26,868 - INFO - Server is starting up...
2025-11-17 10:57:26,883 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 10:57:32,051 - INFO - WebSocket connection established.
2025-11-17 10:57:32,061 - INFO - Start time: 1763351852.0616202
2025-11-17 10:57:32,062 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 10:57:49,191 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the symptoms of Aspirin. In the SPOKE schema, the adverse effects of a compound are represented by the 'SideEffect' node type. The relationship is Compound-CAUSES_CcSE-SideEffect. Therefore, this is a one-hop query to find all SideEffect nodes connected to the Compound 'Aspirin'.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by 'Aspirin'",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 10:57:50,910 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27968626,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Lightheadedness",
          "identifier": "C0220870",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968609,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Tinnitus",
          "identifier": "C0040264",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968484,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Syncope",
          "identifier": "C0039070",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968327,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Rash",
          "identifier": "C0015230",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27970405,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Arthritic pains",
          "identifier": "C0857177",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968307,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Anaemia",
          "identifier": "C0002871",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968317,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Chest pain",
          "identifier": "C0008031",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969054,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatocellular injury",
          "identifier": "C0151763",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968326,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Dyspnoea",
          "identifier": "C0013404",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969624,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Peptic ulcer",
          "identifier": "C0030920",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969785,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Metabolic acidosis",
          "identifier": "C0220981",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27970402,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Reye's syndrome",
          "identifier": "C0035400",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968415,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Ulcer",
          "identifier": "C0041582",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969745,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Breast feeding",
          "identifier": "C0006147",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-17 10:57:50,913 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 10:58:01,199 - INFO - Final answer generated.
2025-11-17 10:58:01,199 - INFO - End time: 1763351881.1999717
2025-11-17 10:58:01,199 - INFO - Total time for entire processing: 29.138351440429688
2025-11-17 11:00:21,115 - INFO - WebSocket connection closed.
2025-11-17 11:14:34,792 - INFO - Server is shutting down...
2025-11-17 11:14:38,324 - INFO - Server is starting up...
2025-11-17 11:14:38,327 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 11:15:06,892 - INFO - Server is shutting down...
2025-11-17 11:15:07,881 - INFO - Server is starting up...
2025-11-17 11:15:07,881 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 11:15:17,369 - INFO - Server is shutting down...
2025-11-17 11:15:18,412 - INFO - Server is starting up...
2025-11-17 11:15:18,412 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 11:15:28,785 - INFO - Server is shutting down...
2025-11-17 11:25:14,551 - INFO - Server is starting up...
2025-11-17 11:25:14,553 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 11:25:22,630 - INFO - WebSocket connection established.
2025-11-17 11:25:22,636 - INFO - Start time: 1763353522.6366348
2025-11-17 11:25:22,636 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 11:25:36,962 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the symptoms of Aspirin. In the SPOKE schema, the adverse effects of a compound are represented by the 'SideEffect' node type. The relationship is Compound-CAUSES_CcSE-SideEffect. Therefore, this is a one-hop query to find all SideEffect nodes connected to the Compound 'Aspirin'.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by 'Aspirin'",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 11:25:38,829 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27968626,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Lightheadedness",
          "identifier": "C0220870",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968609,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Tinnitus",
          "identifier": "C0040264",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968484,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Syncope",
          "identifier": "C0039070",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968327,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Rash",
          "identifier": "C0015230",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27970405,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Arthritic pains",
          "identifier": "C0857177",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968307,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Anaemia",
          "identifier": "C0002871",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968317,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Chest pain",
          "identifier": "C0008031",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969054,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatocellular injury",
          "identifier": "C0151763",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968326,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Dyspnoea",
          "identifier": "C0013404",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969624,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Peptic ulcer",
          "identifier": "C0030920",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969785,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Metabolic acidosis",
          "identifier": "C0220981",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27970402,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Reye's syndrome",
          "identifier": "C0035400",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968415,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Ulcer",
          "identifier": "C0041582",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969745,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Breast feeding",
          "identifier": "C0006147",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-17 11:25:38,831 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 11:25:46,901 - INFO - Final answer generated.
2025-11-17 11:25:46,917 - INFO - End time: 1763353546.9179008
2025-11-17 11:25:46,917 - INFO - Total time for entire processing: 24.2812659740448
2025-11-17 13:26:47,931 - INFO - Server is starting up...
2025-11-17 13:26:47,940 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 13:28:20,704 - INFO - Server is shutting down...
2025-11-17 13:28:53,505 - INFO - Server is starting up...
2025-11-17 13:28:53,508 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 13:29:26,340 - INFO - Server is shutting down...
2025-11-17 13:29:28,862 - INFO - Server is starting up...
2025-11-17 13:29:28,872 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 13:29:47,304 - INFO - WebSocket connection established.
2025-11-17 13:29:47,310 - INFO - Start time: 1763360987.310555
2025-11-17 13:29:47,310 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 13:30:00,402 - INFO - Plan created: {
  "query_type": "complex",
  "thought": "This is a disjunctive (OR) query. The user wants to find all symptoms presented by 'ovarian tumors' and all symptoms presented by 'colorectal cancer'. Plan: 1. Get symptoms for 'ovarian tumors' (Set A). 2. Get symptoms for 'colorectal cancer' (Set B). 3. Combine the two sets using a UNION operation.",
  "entities": [
    {
      "name_in_query": "ovarian tumors",
      "normalized_type": "Disease",
      "id_placeholder": "ovarian_tumors_entity"
    },
    {
      "name_in_query": "colorectal cancer",
      "normalized_type": "Disease",
      "id_placeholder": "colorectal_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get symptoms for 'ovarian tumors' (Set A)",
      "api_call": "/api/v1/neighborhood/Disease/name/ovarian tumors?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "symptoms_A"
    },
    {
      "step": 2,
      "description": "Get symptoms for 'colorectal cancer' (Set B)",
      "api_call": "/api/v1/neighborhood/Disease/name/colorectal cancer?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "symptoms_B"
    },
    {
      "step": 3,
      "description": "Find union of symptom lists",
      "api_call": null,
      "logic": "UNION",
      "inputs": [
        "symptoms_A",
        "symptoms_B"
      ],
      "store_as": "final_result"
    }
  ]
}
2025-11-17 13:30:06,069 - INFO - Context store: {
  "symptoms_A": [],
  "symptoms_B": [
    {
      "data": {
        "id": 36677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcoma",
          "obsolete": true,
          "identifier": "D012509",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 37677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Leiomyosarcoma",
          "obsolete": true,
          "identifier": "D007890",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 24121,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Postoperative Nausea and Vomiting",
          "identifier": "D020250",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D020250"
        }
      }
    },
    {
      "data": {
        "id": 24158,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypercalciuria",
          "identifier": "D053565",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D053565"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23894,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Constipation",
          "identifier": "D003248",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003248"
        }
      }
    },
    {
      "data": {
        "id": 23858,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypoxia",
          "identifier": "D000860",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000860"
        }
      }
    },
    {
      "data": {
        "id": 24170,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcopenia",
          "identifier": "D055948",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D055948"
        }
      }
    },
    {
      "data": {
        "id": 24176,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Obesity, Abdominal",
          "identifier": "D056128",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D056128"
        }
      }
    },
    {
      "data": {
        "id": 24103,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cafe-au-Lait Spots",
          "identifier": "D019080",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D019080"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 23902,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Diarrhea",
          "identifier": "D003967",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003967"
        }
      }
    },
    {
      "data": {
        "id": 24186,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Visceral Pain",
          "identifier": "D059265",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059265"
        }
      }
    }
  ],
  "final_result": [
    {
      "data": {
        "id": 36677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcoma",
          "obsolete": true,
          "identifier": "D012509",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 37677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Leiomyosarcoma",
          "obsolete": true,
          "identifier": "D007890",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 24121,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Postoperative Nausea and Vomiting",
          "identifier": "D020250",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D020250"
        }
      }
    },
    {
      "data": {
        "id": 24158,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypercalciuria",
          "identifier": "D053565",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D053565"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23894,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Constipation",
          "identifier": "D003248",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003248"
        }
      }
    },
    {
      "data": {
        "id": 23858,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypoxia",
          "identifier": "D000860",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000860"
        }
      }
    },
    {
      "data": {
        "id": 24170,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcopenia",
          "identifier": "D055948",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D055948"
        }
      }
    },
    {
      "data": {
        "id": 24176,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Obesity, Abdominal",
          "identifier": "D056128",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D056128"
        }
      }
    },
    {
      "data": {
        "id": 24103,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cafe-au-Lait Spots",
          "identifier": "D019080",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D019080"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 23902,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Diarrhea",
          "identifier": "D003967",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003967"
        }
      }
    },
    {
      "data": {
        "id": 24186,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Visceral Pain",
          "identifier": "D059265",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059265"
        }
      }
    }
  ]
}
2025-11-17 13:30:06,076 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 13:30:18,106 - INFO - Final answer generated.
2025-11-17 13:30:18,115 - INFO - End time: 1763361018.106685
2025-11-17 13:30:18,115 - INFO - Total time for entire processing: 30.796129941940308
2025-11-17 13:34:11,038 - INFO - WebSocket connection closed.
2025-11-17 13:34:11,152 - INFO - Server is shutting down...
2025-11-18 17:47:09,799 - INFO - Server is starting up...
2025-11-18 17:47:09,828 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 17:47:14,918 - INFO - WebSocket connection established.
2025-11-18 17:47:31,819 - INFO - Start time: 1763462851.8198304
2025-11-18 17:47:31,819 - INFO - Pipeline started for question: 'triệu chứng của bệnh ung thư'
2025-11-18 17:47:44,452 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for symptoms of cancer. I will find the 'Disease' node for 'cancer' and then find all connected 'Symptom' nodes via the 'PRESENTS_DpS' edge.",
  "entities": [
    {
      "name_in_query": "cancer",
      "normalized_type": "Disease",
      "id_placeholder": "cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get symptoms presented by the disease 'cancer'",
      "api_call": "/api/v1/neighborhood/Disease/name/cancer?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 17:47:46,192 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 23836,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hyperthermia",
          "identifier": "D000084462",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000084462"
        }
      }
    },
    {
      "data": {
        "id": 23813,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Compassion Fatigue",
          "identifier": "D000068376",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000068376"
        }
      }
    },
    {
      "data": {
        "id": 24109,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Aging, Premature",
          "identifier": "D019588",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D019588"
        }
      }
    },
    {
      "data": {
        "id": 23934,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Feminization",
          "identifier": "D005262",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005262"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23933,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Mental Fatigue",
          "identifier": "D005222",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005222"
        }
      }
    },
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 23938,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fever",
          "identifier": "D005334",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005334"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 23964,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hiccup",
          "identifier": "D006606",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D006606"
        }
      }
    },
    {
      "data": {
        "id": 23939,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fever of Unknown Origin",
          "identifier": "D005335",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005335"
        }
      }
    },
    {
      "data": {
        "id": 24183,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nociceptive Pain",
          "identifier": "D059226",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059226"
        }
      }
    },
    {
      "data": {
        "id": 23907,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Dysgeusia",
          "identifier": "D004408",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D004408"
        }
      }
    },
    {
      "data": {
        "id": 23856,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Anorexia",
          "identifier": "D000855",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000855"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    }
  ]
}
2025-11-18 17:47:46,199 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 17:47:57,361 - INFO - Final answer generated.
2025-11-18 17:47:57,362 - INFO - End time: 1763462877.3626935
2025-11-18 17:47:57,362 - INFO - Total time for entire processing: 25.542863130569458
2025-11-18 17:57:39,455 - INFO - WebSocket connection closed.
2025-11-18 17:59:02,560 - INFO - WebSocket connection established.
2025-11-18 17:59:07,283 - INFO - WebSocket connection closed.
2025-11-18 19:01:34,413 - INFO - WebSocket connection established.
2025-11-18 19:01:59,612 - INFO - Start time: 1763467319.6128166
2025-11-18 19:01:59,612 - INFO - Pipeline started for question: 'what are side effects of Fulvestrant'
2025-11-18 19:02:13,543 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for side effects of a compound. The plan is to start with the Compound 'Fulvestrant' and find its neighboring SideEffect nodes via the CAUSES_CcSE edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 19:02:15,520 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-18 19:02:15,524 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 19:02:26,499 - INFO - Final answer generated.
2025-11-18 19:02:26,499 - INFO - End time: 1763467346.4993007
2025-11-18 19:02:26,499 - INFO - Total time for entire processing: 26.886484146118164
2025-11-18 19:03:05,573 - INFO - Start time: 1763467385.5737133
2025-11-18 19:03:05,573 - INFO - Pipeline started for question: 'Những tác dụng phụ của thuốc Fulvestrant là gì ?'
2025-11-18 19:03:59,790 - ERROR - Planning failed: Gemini API call failed
2025-11-18 19:05:15,814 - INFO - Start time: 1763467515.8143368
2025-11-18 19:05:15,816 - INFO - Pipeline started for question: 'Những tác dụng phụ của thuốc Fulvestrant là gì'
2025-11-18 19:05:34,066 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the side effects of the drug 'Fulvestrant'. This is a one-hop query from a Compound to a SideEffect. I will use the /neighborhood endpoint to find 'SideEffect' nodes connected to the 'Compound' 'Fulvestrant' via the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 19:05:35,417 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-18 19:05:35,419 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 19:05:59,772 - INFO - Final answer generated.
2025-11-18 19:05:59,775 - INFO - End time: 1763467559.775587
2025-11-18 19:05:59,775 - INFO - Total time for entire processing: 43.96125030517578
2025-11-18 19:22:07,803 - INFO - WebSocket connection closed.
2025-11-18 19:22:07,905 - INFO - Server is shutting down...
2025-11-18 19:22:15,775 - INFO - Server is starting up...
2025-11-18 19:22:15,781 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 19:23:06,524 - INFO - WebSocket connection established.
2025-11-18 19:23:15,484 - INFO - Start time: 1763468595.4842932
2025-11-18 19:23:15,485 - INFO - Pipeline started for question: 'hii'
2025-11-18 19:23:29,556 - INFO - Plan created: {
  "query_type": "unsupported",
  "thought": "The user provided a greeting ('Hii') instead of a biomedical question. I cannot parse any entities or relationships from this input, so I cannot generate a valid execution plan.",
  "entities": [],
  "plan": [
    {
      "step": 1,
      "description": "Cannot generate a plan. The user input is a greeting, not a valid biomedical query.",
      "api_call": null,
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 19:23:29,560 - INFO - Context store: {
  "final_result": []
}
2025-11-18 19:23:29,561 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 19:23:29,563 - INFO - Final answer generated.
2025-11-18 19:23:29,563 - INFO - End time: 1763468609.563615
2025-11-18 19:23:29,563 - INFO - Total time for entire processing: 14.07932186126709
2025-11-18 19:23:59,527 - INFO - Start time: 1763468639.5279093
2025-11-18 19:23:59,527 - INFO - Pipeline started for question: 'tại sao'
2025-11-18 19:24:13,737 - INFO - Plan created: {
  "query_type": "unplannable",
  "thought": "The user's query, 'T\u1ea1i sao b\u1ea1n kh\u00f4ng th\u1ec3 t\u00ecm th\u1ea5y c\u00e2u tr\u1ea3 l\u1eddi cu\u1ed1i c\u00f9ng cho c\u00e2u h\u1ecfi c\u1ee7a t\u00f4i?', translates to 'Why can't you find the final answer to my question?'. This is a meta-question about the system's capabilities, not a biomedical query. It contains no identifiable biomedical entities and cannot be mapped to the SPOKE API schema. Therefore, no execution plan can be generated.",
  "entities": [],
  "plan": []
}
2025-11-18 19:24:13,740 - INFO - Context store: {}
2025-11-18 19:24:13,740 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 19:24:13,740 - INFO - Final answer generated.
2025-11-18 19:24:13,743 - INFO - End time: 1763468653.7434933
2025-11-18 19:24:13,743 - INFO - Total time for entire processing: 14.21558403968811
2025-11-18 20:12:31,780 - INFO - WebSocket connection closed.
2025-11-18 20:14:58,944 - INFO - WebSocket connection established.
2025-11-18 20:15:20,882 - INFO - Start time: 1763471720.8822622
2025-11-18 20:15:20,882 - INFO - Pipeline started for question: 'What are side effects of Fulvestrant'
2025-11-18 20:15:33,545 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for the side effects of a specific compound. The plan is to use the /neighborhood API to find 'SideEffect' nodes connected to the 'Compound' node named 'Fulvestrant' via the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 20:15:35,496 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-18 20:15:35,497 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 20:15:44,526 - INFO - Final answer generated.
2025-11-18 20:15:44,527 - INFO - End time: 1763471744.527746
2025-11-18 20:15:44,527 - INFO - Total time for entire processing: 23.64548373222351
2025-11-18 20:29:39,146 - INFO - Start time: 1763472579.1256485
2025-11-18 20:29:39,172 - INFO - Pipeline started for question: 'Why'
2025-11-18 20:30:33,812 - INFO - Plan created: {
  "query_type": "complex",
  "thought": "The user is asking for the mechanism behind Fulvestrant's side effects. A good way to answer this is to find the biological pathways affected by the drug and the pathways implicated in its side effects, and then find the overlap. The plan is: 1. Find proteins that Fulvestrant interacts with. 2. Find the genes that encode these proteins. 3. Find the pathways these genes participate in (Drug Pathways). 4. Find the side effects caused by Fulvestrant. 5. Find the genes associated with these side effects. 6. Find the pathways these side effect genes participate in (Side Effect Pathways). 7. Find the intersection of the Drug Pathways and Side Effect Pathways to identify the shared biological mechanisms.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Find proteins that 'Fulvestrant' interacts with.",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=INTERACTS_PiC&node_filters=Protein",
      "logic": null,
      "inputs": null,
      "store_as": "drug_proteins"
    },
    {
      "step": 2,
      "description": "Find genes that encode these proteins.",
      "api_call": "/api/v1/neighborhood/{drug_proteins.type}/name/{drug_proteins.name}?edge_filters=ENCODES_GeP&node_filters=Gene",
      "logic": null,
      "inputs": [
        "drug_proteins"
      ],
      "store_as": "drug_genes"
    },
    {
      "step": 3,
      "description": "Find pathways associated with the drug's target genes.",
      "api_call": "/api/v1/neighborhood/{drug_genes.type}/name/{drug_genes.name}?edge_filters=PARTICIPATES_GpPW&node_filters=Pathway",
      "logic": null,
      "inputs": [
        "drug_genes"
      ],
      "store_as": "drug_pathways"
    },
    {
      "step": 4,
      "description": "Get side effects caused by 'Fulvestrant'.",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "side_effects"
    },
    {
      "step": 5,
      "description": "Find genes associated with these side effects.",
      "api_call": "/api/v1/neighborhood/{side_effects.type}/name/{side_effects.name}?edge_filters=ASSOCIATES_GaS&node_filters=Gene",
      "logic": null,
      "inputs": [
        "side_effects"
      ],
      "store_as": "side_effect_genes"
    },
    {
      "step": 6,
      "description": "Find pathways associated with the side effect genes.",
      "api_call": "/api/v1/neighborhood/{side_effect_genes.type}/name/{side_effect_genes.name}?edge_filters=PARTICIPATES_GpPW&node_filters=Pathway",
      "logic": null,
      "inputs": [
        "side_effect_genes"
      ],
      "store_as": "side_effect_pathways"
    },
    {
      "step": 7,
      "description": "Find the intersection of pathways to explain the mechanism.",
      "api_call": null,
      "logic": "INTERSECTION",
      "inputs": [
        "drug_pathways",
        "side_effect_pathways"
      ],
      "store_as": "final_result"
    }
  ]
}
2025-11-18 20:31:11,443 - ERROR - An error occurred in the AI pipeline: argument of type 'NoneType' is not iterable
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 118, in run_full_pipeline
    context_store = await executor.execute_plan(plan, standalone_question)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\modules\spoke_executor.py", line 79, in execute_plan
    if step["store_as"] in future_step.get("inputs", []):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable
2025-11-18 20:42:08,175 - INFO - WebSocket connection closed.
2025-11-18 20:42:08,266 - INFO - Server is shutting down...
2025-11-18 20:42:12,714 - INFO - Server is starting up...
2025-11-18 20:42:12,715 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 20:42:44,277 - INFO - Server is shutting down...
2025-11-18 20:42:45,356 - INFO - Server is starting up...
2025-11-18 20:42:45,356 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 20:42:57,488 - INFO - Server is shutting down...
2025-11-18 20:50:22,477 - INFO - Server is starting up...
2025-11-18 20:50:22,481 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 20:51:24,197 - INFO - WebSocket connection established.
2025-11-18 20:56:45,813 - INFO - WebSocket connection closed.
2025-11-18 20:57:25,661 - INFO - WebSocket connection established.
2025-11-18 21:03:22,531 - INFO - WebSocket connection closed.
2025-11-18 21:03:43,014 - INFO - WebSocket connection established.
2025-11-18 21:07:47,133 - INFO - WebSocket connection closed.
2025-11-18 21:13:43,264 - INFO - Server is shutting down...
2025-11-18 21:13:53,509 - INFO - Server is starting up...
2025-11-18 21:13:53,512 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 21:15:26,366 - INFO - WebSocket connection established.
2025-11-18 21:25:37,365 - INFO - WebSocket connection closed.
2025-11-18 21:26:03,690 - INFO - WebSocket connection established.
2025-11-18 21:45:38,058 - INFO - WebSocket connection closed.
2025-11-18 21:46:05,301 - INFO - WebSocket connection established.
2025-11-18 21:49:24,392 - INFO - Start time: 1763477364.383669
2025-11-18 21:49:24,406 - INFO - Pipeline started for question: 'what are side effects of Fulvestrant'
2025-11-18 21:49:41,261 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for side effects of a compound. The plan is to use the /neighborhood endpoint to find 'SideEffect' nodes connected to the 'Compound' node 'Fulvestrant' via the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 21:49:43,269 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-18 21:49:43,271 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 21:51:08,609 - INFO - Final answer generated.
2025-11-18 21:51:08,612 - INFO - End time: 1763477468.6125538
2025-11-18 21:51:08,612 - INFO - Total time for entire processing: 104.22888493537903
2025-11-18 21:51:08,645 - INFO - WebSocket connection closed.
2025-11-19 07:30:04,893 - INFO - Server is starting up...
2025-11-19 07:30:04,905 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-19 07:32:58,594 - INFO - WebSocket connection established.
2025-11-19 08:11:05,187 - INFO - WebSocket connection closed.
2025-11-19 08:12:07,737 - INFO - WebSocket connection established.
2025-11-19 08:12:54,987 - INFO - Start time: 1763514774.9879436
2025-11-19 08:12:54,987 - INFO - Pipeline started for question: 'where is the first to comment'
2025-11-19 08:12:55,715 - ERROR - Planning failed: Gemini API call failed
2025-11-19 08:17:11,566 - INFO - WebSocket connection closed.
2025-11-19 08:19:12,304 - INFO - WebSocket connection established.
2025-11-19 08:19:53,633 - INFO - Start time: 1763515193.6330404
2025-11-19 08:19:53,633 - INFO - Pipeline started for question: 'what are side effects of Fulvestrant'
2025-11-19 08:19:54,078 - ERROR - Planning failed: Gemini API call failed
2025-11-19 08:21:33,418 - INFO - WebSocket connection closed.
2025-11-19 08:26:55,640 - INFO - WebSocket connection established.
2025-11-19 08:33:08,864 - INFO - WebSocket connection closed.
2025-11-19 08:33:39,440 - INFO - WebSocket connection established.
2025-11-19 08:33:43,760 - INFO - Start time: 1763516023.7598183
2025-11-19 08:33:43,761 - INFO - Pipeline started for question: 'hiiii'
2025-11-19 08:33:44,275 - ERROR - Planning failed: Gemini API call failed
2025-11-19 08:34:29,641 - INFO - WebSocket connection closed.
2025-11-19 08:34:29,767 - INFO - Server is shutting down...
2025-11-19 08:35:18,238 - INFO - Server is starting up...
2025-11-19 08:35:18,270 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-19 10:37:11,295 - INFO - Server is starting up...
2025-11-19 10:37:11,323 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-19 11:00:12,166 - INFO - Server is shutting down...
2025-11-19 11:00:18,667 - INFO - Server is starting up...
2025-11-19 11:00:18,670 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-19 11:13:29,935 - INFO - Server is shutting down...
2025-11-20 01:35:23,848 - INFO - Server is starting up...
2025-11-20 01:35:23,859 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-20 01:41:01,080 - INFO - WebSocket connection established.
2025-11-20 02:00:19,614 - INFO - WebSocket connection closed.
2025-11-20 02:00:25,741 - INFO - WebSocket connection established.
2025-11-20 02:14:52,049 - INFO - WebSocket connection closed.
2025-11-20 02:14:58,219 - INFO - WebSocket connection established.
2025-11-20 02:15:06,304 - INFO - WebSocket connection closed.
2025-11-20 02:15:18,617 - INFO - WebSocket connection established.
2025-11-20 02:22:47,876 - INFO - WebSocket connection closed.
2025-11-20 02:22:55,379 - INFO - WebSocket connection established.
2025-11-20 02:24:14,482 - INFO - WebSocket connection closed.
2025-11-20 02:24:20,227 - INFO - WebSocket connection established.
2025-11-20 02:26:29,050 - INFO - Start time: 1763580389.0507722
2025-11-20 02:26:29,050 - INFO - Pipeline started for question: 'what are side effects of Fulvestrant'
2025-11-20 02:26:40,716 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for the side effects of a specific compound. The plan is to use the /neighborhood API to find 'SideEffect' nodes connected to the 'Compound' node named 'Fulvestrant' via the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-20 02:26:42,500 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-20 02:26:42,504 - INFO - Execution completed. Final Context Store is ready.
2025-11-20 02:26:57,097 - INFO - Final answer generated.
2025-11-20 02:26:57,097 - INFO - End time: 1763580417.097916
2025-11-20 02:26:57,097 - INFO - Total time for entire processing: 28.047143697738647
2025-11-20 02:28:09,168 - INFO - Start time: 1763580489.168364
2025-11-20 02:28:09,168 - INFO - Pipeline started for question: 'what are side effects of Fulvestrant'
2025-11-20 02:28:20,030 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for the side effects of a specific compound. The plan is to use the /neighborhood API to find 'SideEffect' nodes connected to the 'Compound' node named 'Fulvestrant' via the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-20 02:28:21,696 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-20 02:28:21,698 - INFO - Execution completed. Final Context Store is ready.
2025-11-20 02:28:29,023 - INFO - Final answer generated.
2025-11-20 02:28:29,023 - INFO - End time: 1763580509.023402
2025-11-20 02:28:29,023 - INFO - Total time for entire processing: 19.855037927627563
2025-11-20 02:29:21,174 - INFO - Start time: 1763580561.174718
2025-11-20 02:29:21,174 - INFO - Pipeline started for question: 'hii'
2025-11-20 02:29:32,519 - INFO - Plan created: {
  "query_type": "unsupported",
  "thought": "The user provided a greeting ('Hii') instead of a biomedical question. I cannot parse any entities or relationships from this input, so I cannot generate a valid execution plan.",
  "entities": [],
  "plan": [
    {
      "step": 1,
      "description": "Cannot generate a plan. The user input is a greeting, not a valid biomedical query.",
      "api_call": null,
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-20 02:29:32,523 - INFO - Context store: {
  "final_result": []
}
2025-11-20 02:29:32,523 - INFO - Execution completed. Final Context Store is ready.
2025-11-20 02:29:32,523 - INFO - Final answer generated.
2025-11-20 02:29:32,525 - INFO - End time: 1763580572.525934
2025-11-20 02:29:32,525 - INFO - Total time for entire processing: 11.351216077804565
2025-11-20 02:37:56,251 - INFO - WebSocket connection closed.
2025-11-20 02:38:02,594 - INFO - WebSocket connection established.
2025-11-20 02:39:16,263 - INFO - Start time: 1763581156.2634358
2025-11-20 02:39:16,263 - INFO - Pipeline started for question: 'hiii'
2025-11-20 02:39:22,565 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's query is a greeting ('hiii') and not a biomedical question. It cannot be answered using the SPOKE API.",
  "entities": [],
  "plan": []
}
2025-11-20 02:39:22,565 - INFO - Context store: {}
2025-11-20 02:39:22,573 - INFO - Execution completed. Final Context Store is ready.
2025-11-20 02:39:22,573 - INFO - Final answer generated.
2025-11-20 02:39:22,573 - INFO - End time: 1763581162.573233
2025-11-20 02:39:22,575 - INFO - Total time for entire processing: 6.309797048568726
2025-11-20 02:40:18,630 - INFO - Start time: 1763581218.6309776
2025-11-20 02:40:18,630 - INFO - Pipeline started for question: 'hiiii'
2025-11-20 02:40:30,239 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's input is a greeting ('hiiii') and not a biomedical question. I cannot generate a valid SPOKE API query plan from this input.",
  "entities": [],
  "plan": []
}
2025-11-20 02:40:30,254 - INFO - Context store: {}
2025-11-20 02:40:30,256 - INFO - Execution completed. Final Context Store is ready.
2025-11-20 02:40:30,256 - INFO - Final answer generated.
2025-11-20 02:40:30,256 - INFO - End time: 1763581230.2560186
2025-11-20 02:40:30,256 - INFO - Total time for entire processing: 11.625041007995605
2025-11-20 02:45:35,756 - INFO - WebSocket connection closed.
2025-11-20 02:45:46,984 - INFO - WebSocket connection established.
2025-11-20 02:51:04,956 - INFO - WebSocket connection closed.
2025-11-20 02:51:16,381 - INFO - WebSocket connection established.
2025-11-20 02:51:43,280 - INFO - WebSocket connection closed.
2025-11-20 02:51:49,086 - INFO - WebSocket connection established.
2025-11-20 02:52:09,401 - INFO - WebSocket connection closed.
2025-11-20 02:52:38,122 - INFO - WebSocket connection established.
2025-11-20 02:53:32,872 - INFO - WebSocket connection closed.
2025-11-20 02:53:38,408 - INFO - WebSocket connection established.
2025-11-20 02:53:43,706 - INFO - Start time: 1763582023.70645
2025-11-20 02:53:43,706 - INFO - Pipeline started for question: 'jsjs'
2025-11-20 02:53:59,685 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's query 'What does \"jsjs\" mean?' is not a biomedical question and cannot be answered using the SPOKE API. The term 'jsjs' does not correspond to any known biomedical entity type in the schema (e.g., Gene, Disease, Compound). Therefore, no execution plan can be generated.",
  "entities": [],
  "plan": []
}
2025-11-20 02:53:59,686 - INFO - Context store: {}
2025-11-20 02:53:59,688 - INFO - Execution completed. Final Context Store is ready.
2025-11-20 02:53:59,689 - INFO - Final answer generated.
2025-11-20 02:53:59,689 - INFO - End time: 1763582039.689836
2025-11-20 02:53:59,689 - INFO - Total time for entire processing: 15.983386039733887
2025-11-20 02:53:59,694 - INFO - WebSocket connection closed.
2025-11-20 02:54:11,304 - INFO - WebSocket connection established.
2025-11-20 03:00:18,961 - INFO - WebSocket connection closed.
2025-11-20 03:00:25,713 - INFO - WebSocket connection established.
2025-11-20 03:26:27,986 - INFO - WebSocket connection closed.
2025-11-20 03:26:34,287 - INFO - WebSocket connection established.
2025-11-20 03:27:17,473 - INFO - WebSocket connection closed.
2025-11-20 03:27:23,677 - INFO - WebSocket connection established.
2025-11-20 03:33:08,742 - INFO - WebSocket connection closed.
2025-11-20 03:33:18,408 - INFO - WebSocket connection established.
2025-11-20 03:34:14,042 - INFO - WebSocket connection closed.
2025-11-20 03:34:20,210 - INFO - WebSocket connection established.
2025-11-20 03:41:16,065 - INFO - WebSocket connection closed.
2025-11-20 03:41:22,328 - INFO - WebSocket connection established.
2025-11-20 03:42:14,166 - INFO - WebSocket connection closed.
2025-11-20 03:42:19,770 - INFO - WebSocket connection established.
2025-11-20 04:00:22,782 - INFO - WebSocket connection closed.
2025-11-20 04:00:37,234 - INFO - WebSocket connection established.
2025-11-20 04:00:57,106 - INFO - Start time: 1763586057.1065507
2025-11-20 04:00:57,106 - INFO - Pipeline started for question: 'haks'
2025-11-20 04:01:06,784 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's query 'haks' is not a well-formed question and cannot be translated into a valid execution plan. It does not contain any recognizable biomedical entities or relationships.",
  "entities": [],
  "plan": []
}
2025-11-20 04:01:06,784 - INFO - Context store: {}
2025-11-20 04:01:06,784 - INFO - Execution completed. Final Context Store is ready.
2025-11-20 04:01:06,799 - INFO - Final answer generated.
2025-11-20 04:01:06,799 - INFO - End time: 1763586066.7993329
2025-11-20 04:01:06,799 - INFO - Total time for entire processing: 9.692782163619995
2025-11-20 04:10:08,202 - INFO - WebSocket connection closed.
2025-11-20 04:27:25,318 - INFO - WebSocket connection established.
2025-11-20 04:29:49,751 - INFO - WebSocket connection closed.
2025-11-20 04:30:00,150 - INFO - WebSocket connection established.
2025-11-20 04:38:17,223 - INFO - WebSocket connection closed.
2025-11-20 04:38:23,655 - INFO - WebSocket connection established.
2025-11-20 04:42:22,559 - INFO - WebSocket connection closed.
2025-11-20 04:42:29,049 - INFO - WebSocket connection established.
2025-11-20 04:42:29,375 - INFO - WebSocket connection closed.
2025-11-20 04:42:41,705 - INFO - WebSocket connection established.
2025-11-20 04:50:18,763 - INFO - WebSocket connection closed.
2025-11-20 04:50:18,892 - INFO - Server is shutting down...
2025-11-22 23:39:32,592 - INFO - Server is starting up...
2025-11-22 23:39:32,621 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:39:37,478 - INFO - WebSocket connection established.
2025-11-22 23:39:37,488 - INFO - Start time: 1763829577.4888756
2025-11-22 23:39:37,493 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-22 23:39:47,183 - INFO - Plan created: {
  "query_type": "complex",
  "thought": "The user is asking for symptoms of two different diseases, which implies an OR condition. The plan is to find the symptoms for 'ovarian tumors', then find the symptoms for 'colorectal cancer', and finally combine the two lists of symptoms using a UNION operation.",
  "entities": [
    {
      "name_in_query": "ovarian tumors",
      "normalized_type": "Disease",
      "id_placeholder": "ovarian_tumors_entity"
    },
    {
      "name_in_query": "colorectal cancer",
      "normalized_type": "Disease",
      "id_placeholder": "colorectal_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get symptoms presented by 'ovarian tumors'",
      "api_call": "/api/v1/neighborhood/Disease/name/ovarian tumors?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "symptoms_A"
    },
    {
      "step": 2,
      "description": "Get symptoms presented by 'colorectal cancer'",
      "api_call": "/api/v1/neighborhood/Disease/name/colorectal cancer?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "symptoms_B"
    },
    {
      "step": 3,
      "description": "Combine the lists of symptoms",
      "api_call": null,
      "logic": "UNION",
      "inputs": [
        "symptoms_A",
        "symptoms_B"
      ],
      "store_as": "final_result"
    }
  ]
}
2025-11-22 23:39:51,803 - INFO - Context store: {
  "symptoms_A": [],
  "symptoms_B": [
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 24121,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Postoperative Nausea and Vomiting",
          "identifier": "D020250",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D020250"
        }
      }
    },
    {
      "data": {
        "id": 24158,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypercalciuria",
          "identifier": "D053565",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D053565"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23822,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Pain, Procedural",
          "identifier": "D000073818",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000073818"
        }
      }
    },
    {
      "data": {
        "id": 23894,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Constipation",
          "identifier": "D003248",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003248"
        }
      }
    },
    {
      "data": {
        "id": 23858,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypoxia",
          "identifier": "D000860",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000860"
        }
      }
    },
    {
      "data": {
        "id": 24170,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcopenia",
          "identifier": "D055948",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D055948"
        }
      }
    },
    {
      "data": {
        "id": 24176,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Obesity, Abdominal",
          "identifier": "D056128",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D056128"
        }
      }
    },
    {
      "data": {
        "id": 24103,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cafe-au-Lait Spots",
          "identifier": "D019080",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D019080"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 24010,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Pain, Postoperative",
          "identifier": "D010149",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D010149"
        }
      }
    },
    {
      "data": {
        "id": 23902,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Diarrhea",
          "identifier": "D003967",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003967"
        }
      }
    },
    {
      "data": {
        "id": 24186,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Visceral Pain",
          "identifier": "D059265",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059265"
        }
      }
    }
  ],
  "final_result": [
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 24121,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Postoperative Nausea and Vomiting",
          "identifier": "D020250",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D020250"
        }
      }
    },
    {
      "data": {
        "id": 24158,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypercalciuria",
          "identifier": "D053565",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D053565"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23822,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Pain, Procedural",
          "identifier": "D000073818",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000073818"
        }
      }
    },
    {
      "data": {
        "id": 23894,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Constipation",
          "identifier": "D003248",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003248"
        }
      }
    },
    {
      "data": {
        "id": 23858,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypoxia",
          "identifier": "D000860",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000860"
        }
      }
    },
    {
      "data": {
        "id": 24170,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcopenia",
          "identifier": "D055948",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D055948"
        }
      }
    },
    {
      "data": {
        "id": 24176,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Obesity, Abdominal",
          "identifier": "D056128",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D056128"
        }
      }
    },
    {
      "data": {
        "id": 24103,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cafe-au-Lait Spots",
          "identifier": "D019080",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D019080"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 24010,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Pain, Postoperative",
          "identifier": "D010149",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D010149"
        }
      }
    },
    {
      "data": {
        "id": 23902,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Diarrhea",
          "identifier": "D003967",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003967"
        }
      }
    },
    {
      "data": {
        "id": 24186,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Visceral Pain",
          "identifier": "D059265",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059265"
        }
      }
    }
  ]
}
2025-11-22 23:39:51,809 - INFO - Execution completed. Final Context Store is ready.
2025-11-22 23:40:04,972 - INFO - Final answer generated.
2025-11-22 23:40:04,972 - INFO - End time: 1763829604.9723284
2025-11-22 23:40:04,973 - INFO - Total time for entire processing: 27.483452796936035
2025-11-22 23:41:29,229 - INFO - WebSocket connection closed.
2025-11-22 23:41:29,345 - INFO - Server is shutting down...
2025-11-22 23:41:32,454 - INFO - Server is starting up...
2025-11-22 23:41:32,460 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:41:33,680 - INFO - Server is starting up...
2025-11-22 23:41:33,687 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:41:38,315 - INFO - WebSocket connection established.
2025-11-22 23:41:38,320 - INFO - Start time: 1763829698.3207407
2025-11-22 23:41:38,320 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-22 23:41:49,186 - INFO - Plan created: {
  "query_type": "complex",
  "thought": "This is a disjunctive (OR) query. The user wants to find symptoms for two different diseases. The plan is to find the symptoms for 'ovarian tumors', then find the symptoms for 'colorectal cancer', and finally combine the two lists using a UNION operation.",
  "entities": [
    {
      "name_in_query": "ovarian tumors",
      "normalized_type": "Disease",
      "id_placeholder": "ovarian_tumors_entity"
    },
    {
      "name_in_query": "colorectal cancer",
      "normalized_type": "Disease",
      "id_placeholder": "colorectal_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get symptoms presented by 'ovarian tumors' (Set A)",
      "api_call": "/api/v1/neighborhood/Disease/name/ovarian tumors?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "symptoms_A"
    },
    {
      "step": 2,
      "description": "Get symptoms presented by 'colorectal cancer' (Set B)",
      "api_call": "/api/v1/neighborhood/Disease/name/colorectal cancer?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "symptoms_B"
    },
    {
      "step": 3,
      "description": "Find the union of the two symptom lists",
      "api_call": null,
      "logic": "UNION",
      "inputs": [
        "symptoms_A",
        "symptoms_B"
      ],
      "store_as": "final_result"
    }
  ]
}
2025-11-22 23:41:53,187 - INFO - Context store: {
  "symptoms_A": [],
  "symptoms_B": [
    {
      "data": {
        "id": 36677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcoma",
          "obsolete": true,
          "identifier": "D012509",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 24121,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Postoperative Nausea and Vomiting",
          "identifier": "D020250",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D020250"
        }
      }
    },
    {
      "data": {
        "id": 24158,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypercalciuria",
          "identifier": "D053565",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D053565"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23822,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Pain, Procedural",
          "identifier": "D000073818",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000073818"
        }
      }
    },
    {
      "data": {
        "id": 23894,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Constipation",
          "identifier": "D003248",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003248"
        }
      }
    },
    {
      "data": {
        "id": 23858,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypoxia",
          "identifier": "D000860",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000860"
        }
      }
    },
    {
      "data": {
        "id": 24170,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcopenia",
          "identifier": "D055948",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D055948"
        }
      }
    },
    {
      "data": {
        "id": 24176,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Obesity, Abdominal",
          "identifier": "D056128",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D056128"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 24010,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Pain, Postoperative",
          "identifier": "D010149",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D010149"
        }
      }
    },
    {
      "data": {
        "id": 23902,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Diarrhea",
          "identifier": "D003967",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003967"
        }
      }
    },
    {
      "data": {
        "id": 24186,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Visceral Pain",
          "identifier": "D059265",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059265"
        }
      }
    }
  ],
  "final_result": [
    {
      "data": {
        "id": 36677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcoma",
          "obsolete": true,
          "identifier": "D012509",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 24121,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Postoperative Nausea and Vomiting",
          "identifier": "D020250",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D020250"
        }
      }
    },
    {
      "data": {
        "id": 24158,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypercalciuria",
          "identifier": "D053565",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D053565"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23822,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Pain, Procedural",
          "identifier": "D000073818",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000073818"
        }
      }
    },
    {
      "data": {
        "id": 23894,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Constipation",
          "identifier": "D003248",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003248"
        }
      }
    },
    {
      "data": {
        "id": 23858,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypoxia",
          "identifier": "D000860",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000860"
        }
      }
    },
    {
      "data": {
        "id": 24170,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcopenia",
          "identifier": "D055948",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D055948"
        }
      }
    },
    {
      "data": {
        "id": 24176,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Obesity, Abdominal",
          "identifier": "D056128",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D056128"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 24010,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Pain, Postoperative",
          "identifier": "D010149",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D010149"
        }
      }
    },
    {
      "data": {
        "id": 23902,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Diarrhea",
          "identifier": "D003967",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003967"
        }
      }
    },
    {
      "data": {
        "id": 24186,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Visceral Pain",
          "identifier": "D059265",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059265"
        }
      }
    }
  ]
}
2025-11-22 23:41:53,194 - INFO - Execution completed. Final Context Store is ready.
2025-11-22 23:42:03,727 - INFO - Final answer generated.
2025-11-22 23:42:03,727 - INFO - End time: 1763829723.7273784
2025-11-22 23:42:03,727 - INFO - Total time for entire processing: 25.40663766860962
2025-11-22 23:42:03,732 - INFO - WebSocket connection closed.
2025-11-22 23:42:15,045 - INFO - Server is starting up...
2025-11-22 23:42:15,045 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:42:31,275 - INFO - WebSocket connection established.
2025-11-22 23:42:31,279 - INFO - Start time: 1763829751.279962
2025-11-22 23:42:31,280 - INFO - Pipeline started for question: 'Tại sao bạn lại gọi cho tôi?'
2025-11-22 23:42:38,264 - INFO - Plan created: {
  "query_type": "unplannable",
  "thought": "The user's question 'Why did you call me?' is not a biomedical query and does not contain any recognizable entities that can be queried against the SPOKE API. Therefore, no execution plan can be generated.",
  "entities": [],
  "plan": []
}
2025-11-22 23:42:38,265 - INFO - Context store: {}
2025-11-22 23:42:38,265 - INFO - Execution completed. Final Context Store is ready.
2025-11-22 23:42:39,823 - INFO - Final answer generated.
2025-11-22 23:42:39,839 - INFO - End time: 1763829759.839249
2025-11-22 23:42:39,839 - INFO - Total time for entire processing: 8.559286832809448
2025-11-22 23:43:26,120 - INFO - WebSocket connection closed.
2025-11-22 23:43:49,469 - INFO - Server is shutting down...
2025-11-22 23:43:52,521 - INFO - Server is starting up...
2025-11-22 23:43:52,521 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:54:08,480 - INFO - Server is shutting down...
2025-11-22 23:54:09,501 - INFO - Server is starting up...
2025-11-22 23:54:09,506 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:54:10,413 - INFO - Server is shutting down...
2025-11-22 23:54:11,451 - INFO - Server is starting up...
2025-11-22 23:54:11,454 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:54:32,544 - INFO - Server is shutting down...
2025-11-22 23:54:33,607 - INFO - Server is starting up...
2025-11-22 23:54:33,609 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:55:29,524 - INFO - Server is shutting down...
2025-11-22 23:55:30,587 - INFO - Server is starting up...
2025-11-22 23:55:30,590 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:56:23,291 - INFO - Server is shutting down...
2025-11-22 23:56:24,424 - INFO - Server is starting up...
2025-11-22 23:56:24,427 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:56:33,287 - INFO - Server is shutting down...
2025-11-22 23:56:34,363 - INFO - Server is starting up...
2025-11-22 23:56:34,369 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:59:37,580 - INFO - Server is shutting down...
2025-11-22 23:59:38,647 - INFO - Server is starting up...
2025-11-22 23:59:38,651 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-22 23:59:42,710 - INFO - Server is shutting down...
2025-11-22 23:59:43,762 - INFO - Server is starting up...
2025-11-22 23:59:43,763 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:00:06,123 - INFO - Server is shutting down...
2025-11-23 00:00:07,461 - INFO - Server is starting up...
2025-11-23 00:00:07,483 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:01:06,940 - INFO - Server is shutting down...
2025-11-23 00:01:08,034 - INFO - Server is starting up...
2025-11-23 00:01:08,037 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:01:17,921 - INFO - Server is shutting down...
2025-11-23 00:01:19,052 - INFO - Server is starting up...
2025-11-23 00:01:19,055 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:01:31,008 - INFO - Server is shutting down...
2025-11-23 00:01:32,244 - INFO - Server is starting up...
2025-11-23 00:01:32,246 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:07:42,750 - INFO - Server is shutting down...
2025-11-23 00:07:43,861 - INFO - Server is starting up...
2025-11-23 00:07:43,866 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:07:46,165 - INFO - Server is shutting down...
2025-11-23 00:07:47,215 - INFO - Server is starting up...
2025-11-23 00:07:47,219 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:07:55,923 - INFO - Server is shutting down...
2025-11-23 00:07:56,933 - INFO - Server is starting up...
2025-11-23 00:07:56,934 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:12:09,697 - INFO - Server is shutting down...
2025-11-23 00:12:10,742 - INFO - Server is starting up...
2025-11-23 00:12:10,748 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:12:11,883 - INFO - Server is starting up...
2025-11-23 00:12:11,886 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:12:32,214 - INFO - Server is shutting down...
2025-11-23 00:12:33,199 - INFO - Server is starting up...
2025-11-23 00:12:33,200 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:12:59,310 - INFO - Server is shutting down...
2025-11-23 00:13:00,316 - INFO - Server is starting up...
2025-11-23 00:13:00,316 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:13:12,997 - INFO - Server is shutting down...
2025-11-23 00:13:14,022 - INFO - Server is starting up...
2025-11-23 00:13:14,022 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:13:21,081 - INFO - WebSocket connection established.
2025-11-23 00:13:21,081 - INFO - Start time: 1763831601.0813844
2025-11-23 00:13:21,081 - INFO - Pipeline started for question: 'Tôi sinh vào năm nào?'
2025-11-23 00:13:21,090 - ERROR - An error occurred in the AI pipeline: 'QueryWriting' object has no attribute 'get_standalone_question'
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 107, in run_full_pipeline
    standalone_question = await query_writing.get_standalone_question(question, history)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'QueryWriting' object has no attribute 'get_standalone_question'
2025-11-23 00:14:19,378 - INFO - WebSocket connection closed.
2025-11-23 00:14:19,493 - INFO - Server is shutting down...
2025-11-23 00:14:20,498 - INFO - Server is starting up...
2025-11-23 00:14:20,499 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:14:53,861 - INFO - WebSocket connection established.
2025-11-23 00:14:53,863 - INFO - Start time: 1763831693.863464
2025-11-23 00:14:53,863 - INFO - Pipeline started for question: 'Tôi sinh vào năm nào?'
2025-11-23 00:14:53,863 - ERROR - An error occurred in the AI pipeline: 'QueryWriting' object has no attribute 'get_standalone_question'
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 107, in run_full_pipeline
    standalone_question = await query_writing.get_standalone_question(question, history)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'QueryWriting' object has no attribute 'get_standalone_question'
2025-11-23 00:15:18,671 - INFO - WebSocket connection closed.
2025-11-23 00:15:18,787 - INFO - Server is shutting down...
2025-11-23 00:15:19,812 - INFO - Server is starting up...
2025-11-23 00:15:19,812 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:15:20,388 - INFO - Server is shutting down...
2025-11-23 00:15:21,367 - INFO - Server is starting up...
2025-11-23 00:15:21,367 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:15:22,443 - INFO - Server is starting up...
2025-11-23 00:15:22,456 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:15:32,773 - INFO - Server is shutting down...
2025-11-23 00:15:33,789 - INFO - Server is starting up...
2025-11-23 00:15:33,789 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:15:50,520 - INFO - Server is shutting down...
2025-11-23 00:15:53,017 - INFO - Server is starting up...
2025-11-23 00:15:53,020 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:15:58,599 - INFO - WebSocket connection established.
2025-11-23 00:15:58,599 - INFO - Start time: 1763831758.5992997
2025-11-23 00:15:58,599 - INFO - Pipeline started for question: 'Tôi sinh vào năm nào?'
2025-11-23 00:16:08,189 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's question is personal and cannot be answered using the biomedical knowledge graph. The SPOKE API does not contain personal information like birth dates. Therefore, no valid execution plan can be generated.",
  "entities": [],
  "plan": []
}
2025-11-23 00:16:08,189 - INFO - Context store: {}
2025-11-23 00:16:08,189 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 00:16:09,512 - INFO - Final answer generated.
2025-11-23 00:16:09,512 - INFO - End time: 1763831769.5129094
2025-11-23 00:16:09,512 - INFO - Total time for entire processing: 10.913609743118286
2025-11-23 00:17:43,960 - INFO - WebSocket connection closed.
2025-11-23 00:17:44,064 - INFO - Server is shutting down...
2025-11-23 00:17:47,105 - INFO - Server is starting up...
2025-11-23 00:17:47,108 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:17:58,527 - INFO - Server is shutting down...
2025-11-23 00:17:59,600 - INFO - Server is starting up...
2025-11-23 00:17:59,600 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:21:09,851 - INFO - Server is shutting down...
2025-11-23 00:21:10,886 - INFO - Server is starting up...
2025-11-23 00:21:10,897 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:21:13,832 - INFO - Server is shutting down...
2025-11-23 00:21:14,890 - INFO - Server is starting up...
2025-11-23 00:21:14,890 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:21:32,452 - INFO - WebSocket connection established.
2025-11-23 00:21:32,452 - INFO - Start time: 1763832092.4523468
2025-11-23 00:21:32,452 - INFO - Pipeline started for question: 'Tôi sinh vào năm nào?'
2025-11-23 00:22:55,675 - INFO - Server is starting up...
2025-11-23 00:22:55,678 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:23:08,745 - INFO - WebSocket connection established.
2025-11-23 00:23:08,748 - INFO - Start time: 1763832188.748052
2025-11-23 00:23:08,748 - INFO - Pipeline started for question: 'Tôi sinh vào năm nào?'
2025-11-23 00:28:17,263 - INFO - Server is starting up...
2025-11-23 00:28:17,296 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:28:34,998 - INFO - WebSocket connection established.
2025-11-23 00:28:35,009 - INFO - Start time: 1763832515.0099494
2025-11-23 00:28:35,010 - INFO - Pipeline started for question: 'Tôi sinh vào năm nào?'
2025-11-23 00:28:46,263 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's question 'When was I born?' is a personal question and cannot be answered using the SPOKE biomedical knowledge graph. The API schema does not contain personal data or concepts related to individual birth dates. Therefore, no valid execution plan can be generated.",
  "entities": [],
  "plan": []
}
2025-11-23 00:28:46,267 - INFO - Context store: {}
2025-11-23 00:28:46,268 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 00:28:47,079 - INFO - Final answer generated.
2025-11-23 00:28:47,079 - INFO - End time: 1763832527.079375
2025-11-23 00:28:47,081 - INFO - Total time for entire processing: 12.069425582885742
2025-11-23 00:29:17,314 - INFO - WebSocket connection closed.
2025-11-23 00:29:17,429 - INFO - Server is shutting down...
2025-11-23 00:29:20,467 - INFO - Server is starting up...
2025-11-23 00:29:20,467 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 00:29:21,565 - INFO - WebSocket connection established.
2025-11-23 00:29:21,569 - INFO - Start time: 1763832561.569368
2025-11-23 00:29:21,569 - INFO - Pipeline started for question: 'Tôi sinh vào năm nào?'
2025-11-23 00:29:27,440 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's question is personal and cannot be answered using the SPOKE biomedical knowledge graph. The query does not contain any recognizable biomedical entities or relationships defined in the SPOKE API schema.",
  "entities": [],
  "plan": []
}
2025-11-23 00:29:27,440 - INFO - Context store: {}
2025-11-23 00:29:27,440 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 00:29:28,231 - INFO - Final answer generated.
2025-11-23 00:29:28,231 - INFO - End time: 1763832568.2315524
2025-11-23 00:29:28,231 - INFO - Total time for entire processing: 6.662184476852417
2025-11-23 00:29:30,481 - INFO - WebSocket connection closed.
2025-11-23 00:29:35,141 - INFO - WebSocket connection established.
2025-11-23 00:29:35,146 - INFO - Start time: 1763832575.1462812
2025-11-23 00:29:35,146 - INFO - Pipeline started for question: 'when i was born?'
2025-11-23 00:29:41,261 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's question is personal and cannot be answered using the SPOKE biomedical knowledge graph. The query does not contain any recognizable biomedical entities or relationships defined in the SPOKE API schema.",
  "entities": [],
  "plan": []
}
2025-11-23 00:29:41,268 - INFO - Context store: {}
2025-11-23 00:29:41,268 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 00:29:42,154 - INFO - Final answer generated.
2025-11-23 00:29:42,154 - INFO - End time: 1763832582.154999
2025-11-23 00:29:42,154 - INFO - Total time for entire processing: 7.008717775344849
2025-11-23 00:29:50,530 - INFO - WebSocket connection closed.
2025-11-23 00:29:57,324 - INFO - Server is shutting down...
2025-11-23 01:37:46,498 - INFO - Server is starting up...
2025-11-23 01:37:46,529 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:37:58,459 - INFO - WebSocket connection established.
2025-11-23 01:37:58,471 - INFO - Start time: 1763836678.4712412
2025-11-23 01:37:58,472 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 01:37:58,472 - INFO - Running tasks in parallel...
2025-11-23 01:38:06,290 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for 'medications' that 'treat' a specific disease, 'lung cancer'. This translates to a one-hop query from a Disease node to Compound nodes. I will use the /neighborhood API to find Compounds connected to the Disease 'lung cancer' via the TREATS_CtD edge.",
  "entities": [
    {
      "name_in_query": "lung cancer",
      "normalized_type": "Disease",
      "id_placeholder": "lung_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get medications (Compounds) that are used to treat 'lung cancer'.",
      "api_call": "/api/v1/neighborhood/Disease/name/lung cancer?edge_filters=TREATS_CtD&node_filters=Compound",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-23 01:38:08,310 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 416873,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CN1CCC[C@@H]1c1cccnc1",
          "identifier": "inchikey:SNICXCGAKADSCV-SNVBAGLBSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CN1CCC[C@@H]1C2=CN=CC=C2",
          "synonyms": [
            "(+)-Nicotine",
            "(R)-(+)-Nicotine",
            "(R)-3-(1-Methyl-2-pyrrolidinyl)pyridine",
            "(R)-nicotine",
            "157672",
            "2'-beta-H-Nicotine",
            "25162-00-9",
            "3-[(2R)-1-methylpyrrolidin-2-yl]pyridine",
            "C16386",
            "CHEBI:39162",
            "CHEBI:79008",
            "CHEMBL9732",
            "D-Nicotine",
            "Pseudonicotine",
            "R-NICOTINE"
          ],
          "name": "(R)-Nicotine",
          "xrefs": [
            "biocyc:R-NICOTINE",
            "CHEBI:39162",
            "CHEBI:79008",
            "chembl.compound:CHEMBL9732",
            "kegg.compound:C16386",
            "pubchem.compound:157672"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385055,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CC(NC(C)(C)C)C(=O)c1cccc(Cl)c1",
          "identifier": "inchikey:SNPPWIUOZRMYNY-UHFFFAOYSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC(C(=O)C1=CC(=CC=C1)Cl)NC(C)(C)C",
          "synonyms": [
            "(+-)-Bupropion",
            "2-(tert-butylamino)-1-(3-chlorophenyl)propan-1-one",
            "34841-39-9",
            "34911-55-2",
            "444",
            "Amfebutamona",
            "Amfebutamone",
            "Bupropion (INN)",
            "Bupropion extended release",
            "Bupropion slow release",
            "C06860",
            "CHEBI:3219",
            "CHEBI:3220",
            "CHEMBL1201735",
            "CHEMBL1698",
            "CHEMBL894",
            "CPD-3481",
            "D00817",
            "D07591",
            "D07938",
            "DB01156",
            "HMDB0001510",
            "NSC-758686",
            "Wellbatrin",
            "Wellbutrin",
            "Zyban",
            "amfebutamonum",
            "bupropion",
            "bupropione"
          ],
          "max_phase": 4.0,
          "name": "Bupropion",
          "xrefs": [
            "biocyc:CPD-3481",
            "CHEBI:3219",
            "CHEBI:3220",
            "chembl.compound:CHEMBL1201735",
            "chembl.compound:CHEMBL1698",
            "chembl.compound:CHEMBL894",
            "drugbank:DB01156",
            "hmdb:HMDB0001510",
            "kegg.compound:C06860",
            "kegg.drug:D00817",
            "kegg.drug:D07591",
            "kegg.drug:D07938",
            "pubchem.compound:444"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1623343,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "Cc1cc2c(s1)Nc1ccccc1N=C2N1CCN(C)CC1",
          "identifier": "inchikey:KVWDHTXUZHCGIO-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC1=CC2=C(S1)NC3=CC=CC=C3N=C2N4CCN(CC4)C",
          "synonyms": [
            "132539-06-1",
            "135398745",
            "2-Methyl-4-(4-methyl-1-piperazinyl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "2-methyl-4-(4-methylpiperazin-1-yl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "C07322",
            "CHEBI:7735",
            "CHEBI:94534",
            "CHEMBL715",
            "D00454",
            "DB00334",
            "HMDB0005012",
            "LY-170053",
            "LY170053",
            "Lanzac",
            "Olansek",
            "Olanzapin",
            "Olanzapine (JAN/USP/INN)",
            "Olanzapine Glenmark",
            "Olanzapine Mylan",
            "Olanzapine Teva",
            "Olanzapine apotex",
            "Olanzapine cipla",
            "Olazax",
            "Olazax Disperzi",
            "Zyprexa",
            "Zyprexa (TN)",
            "Zyprexa Intramuscular",
            "Zyprexa Velotab",
            "Zyprexa Zydis",
            "olanzapina",
            "olanzapine",
            "olanzapinum"
          ],
          "max_phase": 4.0,
          "name": "Olanzapine",
          "xrefs": [
            "CHEBI:7735",
            "CHEBI:94534",
            "chembl.compound:CHEMBL715",
            "drugbank:DB00334",
            "hmdb:HMDB0005012",
            "kegg.compound:C07322",
            "kegg.drug:D00454",
            "pubchem.compound:135398745"
          ]
        }
      }
    },
    {
      "data": {
        "id": 401890,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "O=C[C@H]([18F])[C@@H](O)[C@H](O)[C@H](O)CO",
          "identifier": "inchikey:AOYNUTHNTBLRMT-MXWOLSILSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "PubChem"
          ],
          "smiles": "C([C@H]([C@H]([C@@H]([C@H](C=O)[18F])O)O)O)O",
          "synonyms": [
            "(18F)-FDG",
            "18-F FDG",
            "18F-FDG",
            "2-deoxy-2-((18)F)fluoro-aldehydo-D-glucose",
            "68614",
            "CHEBI:49136",
            "CHEMBL1808698",
            "DB09502",
            "FLUDEOXYGLUCOSE F-18",
            "Fludeoxyglucose (18F)",
            "Fludeoxyglucose F 18",
            "Fludeoxyglucose, F-18"
          ],
          "name": "Fludeoxyglucose F-18",
          "xrefs": [
            "CHEBI:49136",
            "chembl.compound:CHEMBL1808698",
            "drugbank:DB09502",
            "pubchem.compound:68614"
          ]
        }
      }
    },
    {
      "data": {
        "id": 386149,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCCN1CCCCC1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:LEBVLXFERQHONN-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCCN1CCCCC1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(+-)-Bupivacaine",
            "(+/-)-Bupivacaine",
            "(RS)-bupivacaine",
            "1-Butyl-2',6'-pipecoloxylidide",
            "1-Butyl-N-(2,6-dimethylphenyl)-2-piperidinecarboxamide",
            "1-butyl-N-(2,6-dimethylphenyl)piperidine-2-carboxamide",
            "2180-92-9",
            "2474",
            "38396-39-3",
            "Bloqueina",
            "Bucaine",
            "Bucaine (TN)",
            "Bupivacaina",
            "Bupivacaina [INN-Spanish]",
            "Bupivacaine (USAN/INN)",
            "Bupivacaine HCL",
            "Bupivacaine HCL KIT",
            "Bupivacaine liposome",
            "Bupivacainum",
            "Bupivacainum [INN-Latin]",
            "C07529",
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "CHEMBL1098",
            "CHEMBL1200396",
            "D01450",
            "D07552",
            "DB00297",
            "DL-Bupivacaine",
            "DUR-843",
            "Exparel (TN)",
            "HMDB0014442",
            "LAC-43",
            "LIQ-865",
            "LIQ865",
            "Liposomal bupivacaine",
            "Marcaine",
            "Ropivacaine hydrochloride impurity, bupivacaine-",
            "SKY-0402",
            "SKY0402",
            "Sensorcaine",
            "bupivacaine",
            "cBupivacaine",
            "dl-1-Butyl-2',6'-pipecoloxylidide",
            "racemic bupivacaine"
          ],
          "max_phase": 4.0,
          "name": "Bupivacaine",
          "xrefs": [
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "chembl.compound:CHEMBL1098",
            "chembl.compound:CHEMBL1200396",
            "drugbank:DB00297",
            "hmdb:HMDB0014442",
            "kegg.compound:C07529",
            "kegg.drug:D01450",
            "kegg.drug:D07552",
            "pubchem.compound:2474"
          ]
        }
      }
    },
    {
      "data": {
        "id": 2277918,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@]5(C)[C@H]4[C@@H](O)C[C@]3(C)[C@]2(C(=O)CO)O1",
          "identifier": "inchikey:VOVIALXJUBGFJZ-KWVAZRHASA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@@]5([C@H]4[C@H](C[C@@]3([C@@]2(O1)C(=O)CO)C)O)C",
          "synonyms": [
            "(11beta,16alpha)-16,17-(Butylidenebis(oxy))-11,21-dihydroxypregna-1,4-diene-3,20-dione",
            "11beta,21-dihydroxy-16alpha,17alpha-(butane-1,1-diyldioxy)pregna-1,4-diene-3,20-dione",
            "51333-22-3",
            "5281004",
            "Budesonida",
            "Budesonide (JP18/USP/INN)",
            "CHEBI:3207",
            "CHEMBL1370",
            "D00246",
            "DB01222",
            "Entocort EC (TN)",
            "HMDB0015353",
            "MAP-0010",
            "MAP0010",
            "NSC-757788",
            "Pulmicort (TN)",
            "R01AD05",
            "Rhinocort (TN)",
            "S-1320",
            "Uceris (TN)",
            "budesonide"
          ],
          "max_phase": 4.0,
          "name": "Budesonide",
          "xrefs": [
            "CHEBI:3207",
            "chembl.compound:CHEMBL1370",
            "drugbank:DB01222",
            "hmdb:HMDB0015353",
            "kegg.drug:D00246",
            "pubchem.compound:5281004"
          ]
        }
      }
    },
    {
      "data": {
        "id": 418916,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCN1CCCC[C@H]1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:ZKMNUMMKYBVTFN-HNNXBMFYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCN1CCCC[C@H]1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(-)-1-Propyl-2',6'-pipecoloxylidide",
            "(-)-1-propyl-2',6'-dimethyl-2-piperidylcarboxyanilide",
            "(2S)-N-(2,6-dimethylphenyl)-1-propylpiperidine-2-carboxamide",
            "(S)-(-)-1-propyl-2',6'-pipecoloxylidide",
            "(S)-Ropivacaine",
            "175805",
            "84057-95-4",
            "C07532",
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "CHEMBL1077896",
            "CHEMBL1889140",
            "D04048",
            "D08490",
            "DB00296",
            "HMDB0014441",
            "L-N-n-propylpipecolic acid-2,6-xylidide",
            "Naropin (TN)",
            "Ropivacaina",
            "Ropivacaina [INN-Spanish]",
            "Ropivacaina [Spanish]",
            "Ropivacaine",
            "Ropivacaine (INN)",
            "Ropivacaine [INN]",
            "Ropivacainum",
            "Ropivacainum [INN-Latin]",
            "Ropivicaine",
            "S-Ropivacaine",
            "TLC-590",
            "TLC590"
          ],
          "max_phase": 4.0,
          "name": "Ropivacaine",
          "xrefs": [
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "chembl.compound:CHEMBL1077896",
            "chembl.compound:CHEMBL1889140",
            "drugbank:DB00296",
            "hmdb:HMDB0014441",
            "kegg.compound:C07532",
            "kegg.drug:D04048",
            "kegg.drug:D08490",
            "pubchem.compound:175805"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28122850,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "NIVOLUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL2108738",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "Opdivo",
            "MDX1106",
            "MDX-1106",
            "ONO-4538",
            "Nivolumab",
            "BMS-986298",
            "BMS-936558"
          ]
        }
      }
    },
    {
      "data": {
        "id": 388142,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "C[C@]12C=CC(=O)C=C1CC[C@@H]1[C@@H]2C(=O)C[C@@]2(C)[C@H]1CC[C@]2(O)C(=O)CO",
          "identifier": "inchikey:XOFYZVNMUHMLCC-ZPOLXVRWSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C[C@]12CC(=O)[C@H]3[C@H]([C@@H]1CC[C@@]2(C(=O)CO)O)CCC4=CC(=O)C=C[C@]34C",
          "synonyms": [
            "1,2-Dehydrocortisone",
            "1,4-Pregnadiene-17alpha,21-diol-3,11,20-trione",
            "17,21-Dihydroxypregna-1,4-diene-3,11,20-trione",
            "3en3hg4wsw",
            "53-03-2",
            "5865",
            "C07370",
            "CHEBI:8382",
            "CHEMBL635",
            "CPD-22917",
            "D00473",
            "DB00635",
            "Decortin",
            "Dehydrocortisone",
            "HMDB0014773",
            "Metacortandracin",
            "NSC-10023",
            "Prednison",
            "Prednisona",
            "Prednisona [INN-Spanish]",
            "Prednisone tablets",
            "Prednisonum",
            "Prednisonum [INN-Latin]",
            "Supercortil",
            "prednisone",
            "prednisone anhydrous"
          ],
          "max_phase": 4.0,
          "name": "Prednisone",
          "xrefs": [
            "biocyc:CPD-22917",
            "CHEBI:8382",
            "chembl.compound:CHEMBL635",
            "drugbank:DB00635",
            "hmdb:HMDB0014773",
            "kegg.compound:C07370",
            "kegg.drug:D00473",
            "pubchem.compound:5865"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28126416,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "ATEZOLIZUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL3707227",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "RG7446",
            "RG-7446",
            "MPDL3280A",
            "Tecentriq",
            "Anti-PDL1",
            "Anti-PD-L1",
            "0ine2sfd9e",
            "MPDL-3280A",
            "Atezolizumab"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1034329,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCc1cc2c(cc1N1CCC(N3CCOCC3)CC1)C(C)(C)c1[nH]c3cc(C#N)ccc3c1C2=O",
          "identifier": "inchikey:KDGFLJKFZUIJMX-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "Protein Data Bank in Europe (PDBe)",
            "PubChem"
          ],
          "smiles": "CCC1=CC2=C(C=C1N3CCC(CC3)N4CCOCC4)C(C5=C(C2=O)C6=C(N5)C=C(C=C6)C#N)(C)C",
          "synonyms": [
            "1256580-46-7",
            "49806720",
            "9-Ethyl-6,6-Dimethyl-8-[4-(Morpholin-4-Yl)piperidin-1-Yl]-11-Oxo-6,11-Dihydro-5h-Benzo[b]carbazole-3-Carbonitrile",
            "AF 802",
            "AF-802",
            "AF802",
            "Alectinib",
            "Alectinib (USAN/INN)",
            "CH 5424802",
            "CH-5424802",
            "CH5424802",
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "CHEMBL1738797",
            "CHEMBL3707320",
            "D10450",
            "D10542",
            "DB11363",
            "EMH",
            "HMDB0248129",
            "RO-5424802",
            "RO5424802"
          ],
          "max_phase": 4.0,
          "name": "Alectinib",
          "xrefs": [
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "chembl.compound:CHEMBL1738797",
            "chembl.compound:CHEMBL3707320",
            "drugbank:DB11363",
            "hmdb:HMDB0248129",
            "kegg.drug:D10450",
            "kegg.drug:D10542",
            "pdb.ligand:EMH",
            "pubchem.compound:49806720"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385941,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "NCCCNCCSP(=O)(O)O",
          "identifier": "inchikey:JKOQGQFVAUAYPM-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C(CN)CNCCSP(=O)(O)O",
          "synonyms": [
            "20537-88-6",
            "2141",
            "Amifostina",
            "Amifostine Anhydrous",
            "Amifostine Ethiofos",
            "Amifostine disulfide",
            "Amifostine trihydrate",
            "Amifostinum",
            "Aminopropylaminoethyl thiophosphate",
            "Apaetp",
            "C06819",
            "CHEBI:2636",
            "CHEMBL1006",
            "D00226",
            "DB01143",
            "Ethiofos",
            "Ethiofos Anhydrous",
            "Ethyol",
            "Gammaphos",
            "HMDB0015274",
            "NSC-296961",
            "NSC-758236",
            "S-{2-[(3-aminopropyl)amino]ethyl} dihydrogen thiophosphate",
            "Sapep",
            "WR-1065",
            "WR-2721",
            "WR-2721 TRIHYDRATE",
            "YM-08310",
            "amifostine"
          ],
          "name": "Amifostine",
          "max_phase": 4.0,
          "xrefs": [
            "CHEBI:2636",
            "chembl.compound:CHEMBL1006",
            "drugbank:DB01143",
            "hmdb:HMDB0015274",
            "kegg.compound:C06819",
            "kegg.drug:D00226",
            "pubchem.compound:2141"
          ]
        }
      }
    }
  ]
}
2025-11-23 01:38:08,320 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 01:39:13,974 - INFO - Final answer generated.
2025-11-23 01:39:13,974 - INFO - End time: 1763836753.9747577
2025-11-23 01:39:13,974 - INFO - Total time for entire processing: 75.50351643562317
2025-11-23 01:44:56,369 - INFO - WebSocket connection closed.
2025-11-23 01:44:56,484 - INFO - Server is shutting down...
2025-11-23 01:44:59,566 - INFO - Server is starting up...
2025-11-23 01:44:59,567 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:45:01,787 - INFO - Server is shutting down...
2025-11-23 01:45:02,860 - INFO - Server is starting up...
2025-11-23 01:45:02,864 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:45:04,949 - INFO - Server is shutting down...
2025-11-23 01:45:06,006 - INFO - Server is starting up...
2025-11-23 01:45:06,008 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:45:26,121 - INFO - WebSocket connection established.
2025-11-23 01:45:26,123 - INFO - Start time: 1763837126.1231577
2025-11-23 01:45:26,123 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 01:45:34,997 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for medications (Compounds) that treat a specific disease (lung cancer). I will use the /neighborhood API to find Compound neighbors of the Disease 'lung cancer' connected by the 'TREATS_CtD' edge.",
  "entities": [
    {
      "name_in_query": "lung cancer",
      "normalized_type": "Disease",
      "id_placeholder": "lung_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get medications (Compounds) that treat 'lung cancer'",
      "api_call": "/api/v1/neighborhood/Disease/name/lung cancer?edge_filters=TREATS_CtD&node_filters=Compound",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-23 01:45:36,858 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 416873,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CN1CCC[C@@H]1c1cccnc1",
          "identifier": "inchikey:SNICXCGAKADSCV-SNVBAGLBSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CN1CCC[C@@H]1C2=CN=CC=C2",
          "synonyms": [
            "(+)-Nicotine",
            "(R)-(+)-Nicotine",
            "(R)-3-(1-Methyl-2-pyrrolidinyl)pyridine",
            "(R)-nicotine",
            "157672",
            "2'-beta-H-Nicotine",
            "25162-00-9",
            "3-[(2R)-1-methylpyrrolidin-2-yl]pyridine",
            "C16386",
            "CHEBI:39162",
            "CHEBI:79008",
            "CHEMBL9732",
            "D-Nicotine",
            "Pseudonicotine",
            "R-NICOTINE"
          ],
          "name": "(R)-Nicotine",
          "xrefs": [
            "biocyc:R-NICOTINE",
            "CHEBI:39162",
            "CHEBI:79008",
            "chembl.compound:CHEMBL9732",
            "kegg.compound:C16386",
            "pubchem.compound:157672"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385055,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CC(NC(C)(C)C)C(=O)c1cccc(Cl)c1",
          "identifier": "inchikey:SNPPWIUOZRMYNY-UHFFFAOYSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC(C(=O)C1=CC(=CC=C1)Cl)NC(C)(C)C",
          "synonyms": [
            "(+-)-Bupropion",
            "2-(tert-butylamino)-1-(3-chlorophenyl)propan-1-one",
            "34841-39-9",
            "34911-55-2",
            "444",
            "Amfebutamona",
            "Amfebutamone",
            "Bupropion (INN)",
            "Bupropion extended release",
            "Bupropion slow release",
            "C06860",
            "CHEBI:3219",
            "CHEBI:3220",
            "CHEMBL1201735",
            "CHEMBL1698",
            "CHEMBL894",
            "CPD-3481",
            "D00817",
            "D07591",
            "D07938",
            "DB01156",
            "HMDB0001510",
            "NSC-758686",
            "Wellbatrin",
            "Wellbutrin",
            "Zyban",
            "amfebutamonum",
            "bupropion",
            "bupropione"
          ],
          "max_phase": 4.0,
          "name": "Bupropion",
          "xrefs": [
            "biocyc:CPD-3481",
            "CHEBI:3219",
            "CHEBI:3220",
            "chembl.compound:CHEMBL1201735",
            "chembl.compound:CHEMBL1698",
            "chembl.compound:CHEMBL894",
            "drugbank:DB01156",
            "hmdb:HMDB0001510",
            "kegg.compound:C06860",
            "kegg.drug:D00817",
            "kegg.drug:D07591",
            "kegg.drug:D07938",
            "pubchem.compound:444"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1623343,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "Cc1cc2c(s1)Nc1ccccc1N=C2N1CCN(C)CC1",
          "identifier": "inchikey:KVWDHTXUZHCGIO-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC1=CC2=C(S1)NC3=CC=CC=C3N=C2N4CCN(CC4)C",
          "synonyms": [
            "132539-06-1",
            "135398745",
            "2-Methyl-4-(4-methyl-1-piperazinyl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "2-methyl-4-(4-methylpiperazin-1-yl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "C07322",
            "CHEBI:7735",
            "CHEBI:94534",
            "CHEMBL715",
            "D00454",
            "DB00334",
            "HMDB0005012",
            "LY-170053",
            "LY170053",
            "Lanzac",
            "Olansek",
            "Olanzapin",
            "Olanzapine (JAN/USP/INN)",
            "Olanzapine Glenmark",
            "Olanzapine Mylan",
            "Olanzapine Teva",
            "Olanzapine apotex",
            "Olanzapine cipla",
            "Olazax",
            "Olazax Disperzi",
            "Zyprexa",
            "Zyprexa (TN)",
            "Zyprexa Intramuscular",
            "Zyprexa Velotab",
            "Zyprexa Zydis",
            "olanzapina",
            "olanzapine",
            "olanzapinum"
          ],
          "max_phase": 4.0,
          "name": "Olanzapine",
          "xrefs": [
            "CHEBI:7735",
            "CHEBI:94534",
            "chembl.compound:CHEMBL715",
            "drugbank:DB00334",
            "hmdb:HMDB0005012",
            "kegg.compound:C07322",
            "kegg.drug:D00454",
            "pubchem.compound:135398745"
          ]
        }
      }
    },
    {
      "data": {
        "id": 401890,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "O=C[C@H]([18F])[C@@H](O)[C@H](O)[C@H](O)CO",
          "identifier": "inchikey:AOYNUTHNTBLRMT-MXWOLSILSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "PubChem"
          ],
          "smiles": "C([C@H]([C@H]([C@@H]([C@H](C=O)[18F])O)O)O)O",
          "synonyms": [
            "(18F)-FDG",
            "18-F FDG",
            "18F-FDG",
            "2-deoxy-2-((18)F)fluoro-aldehydo-D-glucose",
            "68614",
            "CHEBI:49136",
            "CHEMBL1808698",
            "DB09502",
            "FLUDEOXYGLUCOSE F-18",
            "Fludeoxyglucose (18F)",
            "Fludeoxyglucose F 18",
            "Fludeoxyglucose, F-18"
          ],
          "name": "Fludeoxyglucose F-18",
          "xrefs": [
            "CHEBI:49136",
            "chembl.compound:CHEMBL1808698",
            "drugbank:DB09502",
            "pubchem.compound:68614"
          ]
        }
      }
    },
    {
      "data": {
        "id": 386149,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCCN1CCCCC1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:LEBVLXFERQHONN-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCCN1CCCCC1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(+-)-Bupivacaine",
            "(+/-)-Bupivacaine",
            "(RS)-bupivacaine",
            "1-Butyl-2',6'-pipecoloxylidide",
            "1-Butyl-N-(2,6-dimethylphenyl)-2-piperidinecarboxamide",
            "1-butyl-N-(2,6-dimethylphenyl)piperidine-2-carboxamide",
            "2180-92-9",
            "2474",
            "38396-39-3",
            "Bloqueina",
            "Bucaine",
            "Bucaine (TN)",
            "Bupivacaina",
            "Bupivacaina [INN-Spanish]",
            "Bupivacaine (USAN/INN)",
            "Bupivacaine HCL",
            "Bupivacaine HCL KIT",
            "Bupivacaine liposome",
            "Bupivacainum",
            "Bupivacainum [INN-Latin]",
            "C07529",
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "CHEMBL1098",
            "CHEMBL1200396",
            "D01450",
            "D07552",
            "DB00297",
            "DL-Bupivacaine",
            "DUR-843",
            "Exparel (TN)",
            "HMDB0014442",
            "LAC-43",
            "LIQ-865",
            "LIQ865",
            "Liposomal bupivacaine",
            "Marcaine",
            "Ropivacaine hydrochloride impurity, bupivacaine-",
            "SKY-0402",
            "SKY0402",
            "Sensorcaine",
            "bupivacaine",
            "cBupivacaine",
            "dl-1-Butyl-2',6'-pipecoloxylidide",
            "racemic bupivacaine"
          ],
          "max_phase": 4.0,
          "name": "Bupivacaine",
          "xrefs": [
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "chembl.compound:CHEMBL1098",
            "chembl.compound:CHEMBL1200396",
            "drugbank:DB00297",
            "hmdb:HMDB0014442",
            "kegg.compound:C07529",
            "kegg.drug:D01450",
            "kegg.drug:D07552",
            "pubchem.compound:2474"
          ]
        }
      }
    },
    {
      "data": {
        "id": 2277918,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@]5(C)[C@H]4[C@@H](O)C[C@]3(C)[C@]2(C(=O)CO)O1",
          "identifier": "inchikey:VOVIALXJUBGFJZ-KWVAZRHASA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@@]5([C@H]4[C@H](C[C@@]3([C@@]2(O1)C(=O)CO)C)O)C",
          "synonyms": [
            "(11beta,16alpha)-16,17-(Butylidenebis(oxy))-11,21-dihydroxypregna-1,4-diene-3,20-dione",
            "11beta,21-dihydroxy-16alpha,17alpha-(butane-1,1-diyldioxy)pregna-1,4-diene-3,20-dione",
            "51333-22-3",
            "5281004",
            "Budesonida",
            "Budesonide (JP18/USP/INN)",
            "CHEBI:3207",
            "CHEMBL1370",
            "D00246",
            "DB01222",
            "Entocort EC (TN)",
            "HMDB0015353",
            "MAP-0010",
            "MAP0010",
            "NSC-757788",
            "Pulmicort (TN)",
            "R01AD05",
            "Rhinocort (TN)",
            "S-1320",
            "Uceris (TN)",
            "budesonide"
          ],
          "max_phase": 4.0,
          "name": "Budesonide",
          "xrefs": [
            "CHEBI:3207",
            "chembl.compound:CHEMBL1370",
            "drugbank:DB01222",
            "hmdb:HMDB0015353",
            "kegg.drug:D00246",
            "pubchem.compound:5281004"
          ]
        }
      }
    },
    {
      "data": {
        "id": 418916,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCN1CCCC[C@H]1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:ZKMNUMMKYBVTFN-HNNXBMFYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCN1CCCC[C@H]1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(-)-1-Propyl-2',6'-pipecoloxylidide",
            "(-)-1-propyl-2',6'-dimethyl-2-piperidylcarboxyanilide",
            "(2S)-N-(2,6-dimethylphenyl)-1-propylpiperidine-2-carboxamide",
            "(S)-(-)-1-propyl-2',6'-pipecoloxylidide",
            "(S)-Ropivacaine",
            "175805",
            "84057-95-4",
            "C07532",
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "CHEMBL1077896",
            "CHEMBL1889140",
            "D04048",
            "D08490",
            "DB00296",
            "HMDB0014441",
            "L-N-n-propylpipecolic acid-2,6-xylidide",
            "Naropin (TN)",
            "Ropivacaina",
            "Ropivacaina [INN-Spanish]",
            "Ropivacaina [Spanish]",
            "Ropivacaine",
            "Ropivacaine (INN)",
            "Ropivacaine [INN]",
            "Ropivacainum",
            "Ropivacainum [INN-Latin]",
            "Ropivicaine",
            "S-Ropivacaine",
            "TLC-590",
            "TLC590"
          ],
          "max_phase": 4.0,
          "name": "Ropivacaine",
          "xrefs": [
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "chembl.compound:CHEMBL1077896",
            "chembl.compound:CHEMBL1889140",
            "drugbank:DB00296",
            "hmdb:HMDB0014441",
            "kegg.compound:C07532",
            "kegg.drug:D04048",
            "kegg.drug:D08490",
            "pubchem.compound:175805"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28122850,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "NIVOLUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL2108738",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "Opdivo",
            "MDX1106",
            "MDX-1106",
            "ONO-4538",
            "Nivolumab",
            "BMS-986298",
            "BMS-936558"
          ]
        }
      }
    },
    {
      "data": {
        "id": 388142,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "C[C@]12C=CC(=O)C=C1CC[C@@H]1[C@@H]2C(=O)C[C@@]2(C)[C@H]1CC[C@]2(O)C(=O)CO",
          "identifier": "inchikey:XOFYZVNMUHMLCC-ZPOLXVRWSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C[C@]12CC(=O)[C@H]3[C@H]([C@@H]1CC[C@@]2(C(=O)CO)O)CCC4=CC(=O)C=C[C@]34C",
          "synonyms": [
            "1,2-Dehydrocortisone",
            "1,4-Pregnadiene-17alpha,21-diol-3,11,20-trione",
            "17,21-Dihydroxypregna-1,4-diene-3,11,20-trione",
            "3en3hg4wsw",
            "53-03-2",
            "5865",
            "C07370",
            "CHEBI:8382",
            "CHEMBL635",
            "CPD-22917",
            "D00473",
            "DB00635",
            "Decortin",
            "Dehydrocortisone",
            "HMDB0014773",
            "Metacortandracin",
            "NSC-10023",
            "Prednison",
            "Prednisona",
            "Prednisona [INN-Spanish]",
            "Prednisone tablets",
            "Prednisonum",
            "Prednisonum [INN-Latin]",
            "Supercortil",
            "prednisone",
            "prednisone anhydrous"
          ],
          "max_phase": 4.0,
          "name": "Prednisone",
          "xrefs": [
            "biocyc:CPD-22917",
            "CHEBI:8382",
            "chembl.compound:CHEMBL635",
            "drugbank:DB00635",
            "hmdb:HMDB0014773",
            "kegg.compound:C07370",
            "kegg.drug:D00473",
            "pubchem.compound:5865"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28126416,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "ATEZOLIZUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL3707227",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "RG7446",
            "RG-7446",
            "MPDL3280A",
            "Tecentriq",
            "Anti-PDL1",
            "Anti-PD-L1",
            "0ine2sfd9e",
            "MPDL-3280A",
            "Atezolizumab"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1034329,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCc1cc2c(cc1N1CCC(N3CCOCC3)CC1)C(C)(C)c1[nH]c3cc(C#N)ccc3c1C2=O",
          "identifier": "inchikey:KDGFLJKFZUIJMX-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "Protein Data Bank in Europe (PDBe)",
            "PubChem"
          ],
          "smiles": "CCC1=CC2=C(C=C1N3CCC(CC3)N4CCOCC4)C(C5=C(C2=O)C6=C(N5)C=C(C=C6)C#N)(C)C",
          "synonyms": [
            "1256580-46-7",
            "49806720",
            "9-Ethyl-6,6-Dimethyl-8-[4-(Morpholin-4-Yl)piperidin-1-Yl]-11-Oxo-6,11-Dihydro-5h-Benzo[b]carbazole-3-Carbonitrile",
            "AF 802",
            "AF-802",
            "AF802",
            "Alectinib",
            "Alectinib (USAN/INN)",
            "CH 5424802",
            "CH-5424802",
            "CH5424802",
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "CHEMBL1738797",
            "CHEMBL3707320",
            "D10450",
            "D10542",
            "DB11363",
            "EMH",
            "HMDB0248129",
            "RO-5424802",
            "RO5424802"
          ],
          "max_phase": 4.0,
          "name": "Alectinib",
          "xrefs": [
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "chembl.compound:CHEMBL1738797",
            "chembl.compound:CHEMBL3707320",
            "drugbank:DB11363",
            "hmdb:HMDB0248129",
            "kegg.drug:D10450",
            "kegg.drug:D10542",
            "pdb.ligand:EMH",
            "pubchem.compound:49806720"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385941,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "NCCCNCCSP(=O)(O)O",
          "identifier": "inchikey:JKOQGQFVAUAYPM-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C(CN)CNCCSP(=O)(O)O",
          "synonyms": [
            "20537-88-6",
            "2141",
            "Amifostina",
            "Amifostine Anhydrous",
            "Amifostine Ethiofos",
            "Amifostine disulfide",
            "Amifostine trihydrate",
            "Amifostinum",
            "Aminopropylaminoethyl thiophosphate",
            "Apaetp",
            "C06819",
            "CHEBI:2636",
            "CHEMBL1006",
            "D00226",
            "DB01143",
            "Ethiofos",
            "Ethiofos Anhydrous",
            "Ethyol",
            "Gammaphos",
            "HMDB0015274",
            "NSC-296961",
            "NSC-758236",
            "S-{2-[(3-aminopropyl)amino]ethyl} dihydrogen thiophosphate",
            "Sapep",
            "WR-1065",
            "WR-2721",
            "WR-2721 TRIHYDRATE",
            "YM-08310",
            "amifostine"
          ],
          "name": "Amifostine",
          "max_phase": 4.0,
          "xrefs": [
            "CHEBI:2636",
            "chembl.compound:CHEMBL1006",
            "drugbank:DB01143",
            "hmdb:HMDB0015274",
            "kegg.compound:C06819",
            "kegg.drug:D00226",
            "pubchem.compound:2141"
          ]
        }
      }
    }
  ]
}
2025-11-23 01:45:36,866 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 01:45:49,728 - INFO - Final answer generated.
2025-11-23 01:45:49,728 - INFO - End time: 1763837149.7281053
2025-11-23 01:45:49,729 - INFO - Total time for entire processing: 23.604947566986084
2025-11-23 01:46:43,081 - INFO - WebSocket connection closed.
2025-11-23 01:46:43,197 - INFO - Server is shutting down...
2025-11-23 01:46:46,231 - INFO - Server is starting up...
2025-11-23 01:46:46,231 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:46:47,279 - INFO - Server is shutting down...
2025-11-23 01:46:48,340 - INFO - Server is starting up...
2025-11-23 01:46:48,340 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:46:57,079 - INFO - Server is shutting down...
2025-11-23 01:47:06,429 - INFO - Server is starting up...
2025-11-23 01:47:06,429 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:47:11,915 - INFO - WebSocket connection established.
2025-11-23 01:47:11,917 - INFO - Start time: 1763837231.917668
2025-11-23 01:47:11,917 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 01:47:11,917 - INFO - Is fisrt: False
2025-11-23 01:47:19,747 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for 'medications' that 'treat' a specific disease, 'lung cancer'. This translates to a one-hop query from a Disease node to Compound nodes. I will use the /neighborhood API to find Compounds connected to the Disease 'lung cancer' via the TREATS_CtD edge.",
  "entities": [
    {
      "name_in_query": "lung cancer",
      "normalized_type": "Disease",
      "id_placeholder": "lung_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get medications (Compounds) that are used to treat 'lung cancer'.",
      "api_call": "/api/v1/neighborhood/Disease/name/lung cancer?edge_filters=TREATS_CtD&node_filters=Compound",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-23 01:47:21,646 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 416873,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CN1CCC[C@@H]1c1cccnc1",
          "identifier": "inchikey:SNICXCGAKADSCV-SNVBAGLBSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CN1CCC[C@@H]1C2=CN=CC=C2",
          "synonyms": [
            "(+)-Nicotine",
            "(R)-(+)-Nicotine",
            "(R)-3-(1-Methyl-2-pyrrolidinyl)pyridine",
            "(R)-nicotine",
            "157672",
            "2'-beta-H-Nicotine",
            "25162-00-9",
            "3-[(2R)-1-methylpyrrolidin-2-yl]pyridine",
            "C16386",
            "CHEBI:39162",
            "CHEBI:79008",
            "CHEMBL9732",
            "D-Nicotine",
            "Pseudonicotine",
            "R-NICOTINE"
          ],
          "name": "(R)-Nicotine",
          "xrefs": [
            "biocyc:R-NICOTINE",
            "CHEBI:39162",
            "CHEBI:79008",
            "chembl.compound:CHEMBL9732",
            "kegg.compound:C16386",
            "pubchem.compound:157672"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385055,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CC(NC(C)(C)C)C(=O)c1cccc(Cl)c1",
          "identifier": "inchikey:SNPPWIUOZRMYNY-UHFFFAOYSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC(C(=O)C1=CC(=CC=C1)Cl)NC(C)(C)C",
          "synonyms": [
            "(+-)-Bupropion",
            "2-(tert-butylamino)-1-(3-chlorophenyl)propan-1-one",
            "34841-39-9",
            "34911-55-2",
            "444",
            "Amfebutamona",
            "Amfebutamone",
            "Bupropion (INN)",
            "Bupropion extended release",
            "Bupropion slow release",
            "C06860",
            "CHEBI:3219",
            "CHEBI:3220",
            "CHEMBL1201735",
            "CHEMBL1698",
            "CHEMBL894",
            "CPD-3481",
            "D00817",
            "D07591",
            "D07938",
            "DB01156",
            "HMDB0001510",
            "NSC-758686",
            "Wellbatrin",
            "Wellbutrin",
            "Zyban",
            "amfebutamonum",
            "bupropion",
            "bupropione"
          ],
          "max_phase": 4.0,
          "name": "Bupropion",
          "xrefs": [
            "biocyc:CPD-3481",
            "CHEBI:3219",
            "CHEBI:3220",
            "chembl.compound:CHEMBL1201735",
            "chembl.compound:CHEMBL1698",
            "chembl.compound:CHEMBL894",
            "drugbank:DB01156",
            "hmdb:HMDB0001510",
            "kegg.compound:C06860",
            "kegg.drug:D00817",
            "kegg.drug:D07591",
            "kegg.drug:D07938",
            "pubchem.compound:444"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1623343,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "Cc1cc2c(s1)Nc1ccccc1N=C2N1CCN(C)CC1",
          "identifier": "inchikey:KVWDHTXUZHCGIO-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC1=CC2=C(S1)NC3=CC=CC=C3N=C2N4CCN(CC4)C",
          "synonyms": [
            "132539-06-1",
            "135398745",
            "2-Methyl-4-(4-methyl-1-piperazinyl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "2-methyl-4-(4-methylpiperazin-1-yl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "C07322",
            "CHEBI:7735",
            "CHEBI:94534",
            "CHEMBL715",
            "D00454",
            "DB00334",
            "HMDB0005012",
            "LY-170053",
            "LY170053",
            "Lanzac",
            "Olansek",
            "Olanzapin",
            "Olanzapine (JAN/USP/INN)",
            "Olanzapine Glenmark",
            "Olanzapine Mylan",
            "Olanzapine Teva",
            "Olanzapine apotex",
            "Olanzapine cipla",
            "Olazax",
            "Olazax Disperzi",
            "Zyprexa",
            "Zyprexa (TN)",
            "Zyprexa Intramuscular",
            "Zyprexa Velotab",
            "Zyprexa Zydis",
            "olanzapina",
            "olanzapine",
            "olanzapinum"
          ],
          "max_phase": 4.0,
          "name": "Olanzapine",
          "xrefs": [
            "CHEBI:7735",
            "CHEBI:94534",
            "chembl.compound:CHEMBL715",
            "drugbank:DB00334",
            "hmdb:HMDB0005012",
            "kegg.compound:C07322",
            "kegg.drug:D00454",
            "pubchem.compound:135398745"
          ]
        }
      }
    },
    {
      "data": {
        "id": 401890,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "O=C[C@H]([18F])[C@@H](O)[C@H](O)[C@H](O)CO",
          "identifier": "inchikey:AOYNUTHNTBLRMT-MXWOLSILSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "PubChem"
          ],
          "smiles": "C([C@H]([C@H]([C@@H]([C@H](C=O)[18F])O)O)O)O",
          "synonyms": [
            "(18F)-FDG",
            "18-F FDG",
            "18F-FDG",
            "2-deoxy-2-((18)F)fluoro-aldehydo-D-glucose",
            "68614",
            "CHEBI:49136",
            "CHEMBL1808698",
            "DB09502",
            "FLUDEOXYGLUCOSE F-18",
            "Fludeoxyglucose (18F)",
            "Fludeoxyglucose F 18",
            "Fludeoxyglucose, F-18"
          ],
          "name": "Fludeoxyglucose F-18",
          "xrefs": [
            "CHEBI:49136",
            "chembl.compound:CHEMBL1808698",
            "drugbank:DB09502",
            "pubchem.compound:68614"
          ]
        }
      }
    },
    {
      "data": {
        "id": 386149,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCCN1CCCCC1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:LEBVLXFERQHONN-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCCN1CCCCC1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(+-)-Bupivacaine",
            "(+/-)-Bupivacaine",
            "(RS)-bupivacaine",
            "1-Butyl-2',6'-pipecoloxylidide",
            "1-Butyl-N-(2,6-dimethylphenyl)-2-piperidinecarboxamide",
            "1-butyl-N-(2,6-dimethylphenyl)piperidine-2-carboxamide",
            "2180-92-9",
            "2474",
            "38396-39-3",
            "Bloqueina",
            "Bucaine",
            "Bucaine (TN)",
            "Bupivacaina",
            "Bupivacaina [INN-Spanish]",
            "Bupivacaine (USAN/INN)",
            "Bupivacaine HCL",
            "Bupivacaine HCL KIT",
            "Bupivacaine liposome",
            "Bupivacainum",
            "Bupivacainum [INN-Latin]",
            "C07529",
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "CHEMBL1098",
            "CHEMBL1200396",
            "D01450",
            "D07552",
            "DB00297",
            "DL-Bupivacaine",
            "DUR-843",
            "Exparel (TN)",
            "HMDB0014442",
            "LAC-43",
            "LIQ-865",
            "LIQ865",
            "Liposomal bupivacaine",
            "Marcaine",
            "Ropivacaine hydrochloride impurity, bupivacaine-",
            "SKY-0402",
            "SKY0402",
            "Sensorcaine",
            "bupivacaine",
            "cBupivacaine",
            "dl-1-Butyl-2',6'-pipecoloxylidide",
            "racemic bupivacaine"
          ],
          "max_phase": 4.0,
          "name": "Bupivacaine",
          "xrefs": [
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "chembl.compound:CHEMBL1098",
            "chembl.compound:CHEMBL1200396",
            "drugbank:DB00297",
            "hmdb:HMDB0014442",
            "kegg.compound:C07529",
            "kegg.drug:D01450",
            "kegg.drug:D07552",
            "pubchem.compound:2474"
          ]
        }
      }
    },
    {
      "data": {
        "id": 2277918,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@]5(C)[C@H]4[C@@H](O)C[C@]3(C)[C@]2(C(=O)CO)O1",
          "identifier": "inchikey:VOVIALXJUBGFJZ-KWVAZRHASA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@@]5([C@H]4[C@H](C[C@@]3([C@@]2(O1)C(=O)CO)C)O)C",
          "synonyms": [
            "(11beta,16alpha)-16,17-(Butylidenebis(oxy))-11,21-dihydroxypregna-1,4-diene-3,20-dione",
            "11beta,21-dihydroxy-16alpha,17alpha-(butane-1,1-diyldioxy)pregna-1,4-diene-3,20-dione",
            "51333-22-3",
            "5281004",
            "Budesonida",
            "Budesonide (JP18/USP/INN)",
            "CHEBI:3207",
            "CHEMBL1370",
            "D00246",
            "DB01222",
            "Entocort EC (TN)",
            "HMDB0015353",
            "MAP-0010",
            "MAP0010",
            "NSC-757788",
            "Pulmicort (TN)",
            "R01AD05",
            "Rhinocort (TN)",
            "S-1320",
            "Uceris (TN)",
            "budesonide"
          ],
          "max_phase": 4.0,
          "name": "Budesonide",
          "xrefs": [
            "CHEBI:3207",
            "chembl.compound:CHEMBL1370",
            "drugbank:DB01222",
            "hmdb:HMDB0015353",
            "kegg.drug:D00246",
            "pubchem.compound:5281004"
          ]
        }
      }
    },
    {
      "data": {
        "id": 418916,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCN1CCCC[C@H]1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:ZKMNUMMKYBVTFN-HNNXBMFYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCN1CCCC[C@H]1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(-)-1-Propyl-2',6'-pipecoloxylidide",
            "(-)-1-propyl-2',6'-dimethyl-2-piperidylcarboxyanilide",
            "(2S)-N-(2,6-dimethylphenyl)-1-propylpiperidine-2-carboxamide",
            "(S)-(-)-1-propyl-2',6'-pipecoloxylidide",
            "(S)-Ropivacaine",
            "175805",
            "84057-95-4",
            "C07532",
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "CHEMBL1077896",
            "CHEMBL1889140",
            "D04048",
            "D08490",
            "DB00296",
            "HMDB0014441",
            "L-N-n-propylpipecolic acid-2,6-xylidide",
            "Naropin (TN)",
            "Ropivacaina",
            "Ropivacaina [INN-Spanish]",
            "Ropivacaina [Spanish]",
            "Ropivacaine",
            "Ropivacaine (INN)",
            "Ropivacaine [INN]",
            "Ropivacainum",
            "Ropivacainum [INN-Latin]",
            "Ropivicaine",
            "S-Ropivacaine",
            "TLC-590",
            "TLC590"
          ],
          "max_phase": 4.0,
          "name": "Ropivacaine",
          "xrefs": [
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "chembl.compound:CHEMBL1077896",
            "chembl.compound:CHEMBL1889140",
            "drugbank:DB00296",
            "hmdb:HMDB0014441",
            "kegg.compound:C07532",
            "kegg.drug:D04048",
            "kegg.drug:D08490",
            "pubchem.compound:175805"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28122850,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "NIVOLUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL2108738",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "Opdivo",
            "MDX1106",
            "MDX-1106",
            "ONO-4538",
            "Nivolumab",
            "BMS-986298",
            "BMS-936558"
          ]
        }
      }
    },
    {
      "data": {
        "id": 388142,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "C[C@]12C=CC(=O)C=C1CC[C@@H]1[C@@H]2C(=O)C[C@@]2(C)[C@H]1CC[C@]2(O)C(=O)CO",
          "identifier": "inchikey:XOFYZVNMUHMLCC-ZPOLXVRWSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C[C@]12CC(=O)[C@H]3[C@H]([C@@H]1CC[C@@]2(C(=O)CO)O)CCC4=CC(=O)C=C[C@]34C",
          "synonyms": [
            "1,2-Dehydrocortisone",
            "1,4-Pregnadiene-17alpha,21-diol-3,11,20-trione",
            "17,21-Dihydroxypregna-1,4-diene-3,11,20-trione",
            "3en3hg4wsw",
            "53-03-2",
            "5865",
            "C07370",
            "CHEBI:8382",
            "CHEMBL635",
            "CPD-22917",
            "D00473",
            "DB00635",
            "Decortin",
            "Dehydrocortisone",
            "HMDB0014773",
            "Metacortandracin",
            "NSC-10023",
            "Prednison",
            "Prednisona",
            "Prednisona [INN-Spanish]",
            "Prednisone tablets",
            "Prednisonum",
            "Prednisonum [INN-Latin]",
            "Supercortil",
            "prednisone",
            "prednisone anhydrous"
          ],
          "max_phase": 4.0,
          "name": "Prednisone",
          "xrefs": [
            "biocyc:CPD-22917",
            "CHEBI:8382",
            "chembl.compound:CHEMBL635",
            "drugbank:DB00635",
            "hmdb:HMDB0014773",
            "kegg.compound:C07370",
            "kegg.drug:D00473",
            "pubchem.compound:5865"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28126416,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "ATEZOLIZUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL3707227",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "RG7446",
            "RG-7446",
            "MPDL3280A",
            "Tecentriq",
            "Anti-PDL1",
            "Anti-PD-L1",
            "0ine2sfd9e",
            "MPDL-3280A",
            "Atezolizumab"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1034329,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCc1cc2c(cc1N1CCC(N3CCOCC3)CC1)C(C)(C)c1[nH]c3cc(C#N)ccc3c1C2=O",
          "identifier": "inchikey:KDGFLJKFZUIJMX-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "Protein Data Bank in Europe (PDBe)",
            "PubChem"
          ],
          "smiles": "CCC1=CC2=C(C=C1N3CCC(CC3)N4CCOCC4)C(C5=C(C2=O)C6=C(N5)C=C(C=C6)C#N)(C)C",
          "synonyms": [
            "1256580-46-7",
            "49806720",
            "9-Ethyl-6,6-Dimethyl-8-[4-(Morpholin-4-Yl)piperidin-1-Yl]-11-Oxo-6,11-Dihydro-5h-Benzo[b]carbazole-3-Carbonitrile",
            "AF 802",
            "AF-802",
            "AF802",
            "Alectinib",
            "Alectinib (USAN/INN)",
            "CH 5424802",
            "CH-5424802",
            "CH5424802",
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "CHEMBL1738797",
            "CHEMBL3707320",
            "D10450",
            "D10542",
            "DB11363",
            "EMH",
            "HMDB0248129",
            "RO-5424802",
            "RO5424802"
          ],
          "max_phase": 4.0,
          "name": "Alectinib",
          "xrefs": [
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "chembl.compound:CHEMBL1738797",
            "chembl.compound:CHEMBL3707320",
            "drugbank:DB11363",
            "hmdb:HMDB0248129",
            "kegg.drug:D10450",
            "kegg.drug:D10542",
            "pdb.ligand:EMH",
            "pubchem.compound:49806720"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385941,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "NCCCNCCSP(=O)(O)O",
          "identifier": "inchikey:JKOQGQFVAUAYPM-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C(CN)CNCCSP(=O)(O)O",
          "synonyms": [
            "20537-88-6",
            "2141",
            "Amifostina",
            "Amifostine Anhydrous",
            "Amifostine Ethiofos",
            "Amifostine disulfide",
            "Amifostine trihydrate",
            "Amifostinum",
            "Aminopropylaminoethyl thiophosphate",
            "Apaetp",
            "C06819",
            "CHEBI:2636",
            "CHEMBL1006",
            "D00226",
            "DB01143",
            "Ethiofos",
            "Ethiofos Anhydrous",
            "Ethyol",
            "Gammaphos",
            "HMDB0015274",
            "NSC-296961",
            "NSC-758236",
            "S-{2-[(3-aminopropyl)amino]ethyl} dihydrogen thiophosphate",
            "Sapep",
            "WR-1065",
            "WR-2721",
            "WR-2721 TRIHYDRATE",
            "YM-08310",
            "amifostine"
          ],
          "name": "Amifostine",
          "max_phase": 4.0,
          "xrefs": [
            "CHEBI:2636",
            "chembl.compound:CHEMBL1006",
            "drugbank:DB01143",
            "hmdb:HMDB0015274",
            "kegg.compound:C06819",
            "kegg.drug:D00226",
            "pubchem.compound:2141"
          ]
        }
      }
    }
  ]
}
2025-11-23 01:47:21,657 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 01:47:39,595 - INFO - Final answer generated.
2025-11-23 01:47:39,595 - INFO - End time: 1763837259.5951834
2025-11-23 01:47:39,595 - INFO - Total time for entire processing: 27.677515268325806
2025-11-23 01:50:03,552 - INFO - WebSocket connection closed.
2025-11-23 01:50:03,668 - INFO - Server is shutting down...
2025-11-23 01:50:06,765 - INFO - Server is starting up...
2025-11-23 01:50:06,767 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:50:14,268 - INFO - WebSocket connection established.
2025-11-23 01:50:14,268 - INFO - Start time: 1763837414.268766
2025-11-23 01:50:14,268 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 01:50:14,268 - INFO - Is fisrt: False
2025-11-23 01:50:22,319 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for medications (Compounds) that treat a specific disease (lung cancer). I will use the /neighborhood endpoint to find Compound neighbors of the Disease 'lung cancer' connected by the 'TREATS_CtD' edge.",
  "entities": [
    {
      "name_in_query": "lung cancer",
      "normalized_type": "Disease",
      "id_placeholder": "lung_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get medications (Compounds) that treat 'lung cancer'",
      "api_call": "/api/v1/neighborhood/Disease/name/lung cancer?edge_filters=TREATS_CtD&node_filters=Compound",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-23 01:50:23,997 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 416873,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CN1CCC[C@@H]1c1cccnc1",
          "identifier": "inchikey:SNICXCGAKADSCV-SNVBAGLBSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CN1CCC[C@@H]1C2=CN=CC=C2",
          "synonyms": [
            "(+)-Nicotine",
            "(R)-(+)-Nicotine",
            "(R)-3-(1-Methyl-2-pyrrolidinyl)pyridine",
            "(R)-nicotine",
            "157672",
            "2'-beta-H-Nicotine",
            "25162-00-9",
            "3-[(2R)-1-methylpyrrolidin-2-yl]pyridine",
            "C16386",
            "CHEBI:39162",
            "CHEBI:79008",
            "CHEMBL9732",
            "D-Nicotine",
            "Pseudonicotine",
            "R-NICOTINE"
          ],
          "name": "(R)-Nicotine",
          "xrefs": [
            "biocyc:R-NICOTINE",
            "CHEBI:39162",
            "CHEBI:79008",
            "chembl.compound:CHEMBL9732",
            "kegg.compound:C16386",
            "pubchem.compound:157672"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385055,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CC(NC(C)(C)C)C(=O)c1cccc(Cl)c1",
          "identifier": "inchikey:SNPPWIUOZRMYNY-UHFFFAOYSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC(C(=O)C1=CC(=CC=C1)Cl)NC(C)(C)C",
          "synonyms": [
            "(+-)-Bupropion",
            "2-(tert-butylamino)-1-(3-chlorophenyl)propan-1-one",
            "34841-39-9",
            "34911-55-2",
            "444",
            "Amfebutamona",
            "Amfebutamone",
            "Bupropion (INN)",
            "Bupropion extended release",
            "Bupropion slow release",
            "C06860",
            "CHEBI:3219",
            "CHEBI:3220",
            "CHEMBL1201735",
            "CHEMBL1698",
            "CHEMBL894",
            "CPD-3481",
            "D00817",
            "D07591",
            "D07938",
            "DB01156",
            "HMDB0001510",
            "NSC-758686",
            "Wellbatrin",
            "Wellbutrin",
            "Zyban",
            "amfebutamonum",
            "bupropion",
            "bupropione"
          ],
          "max_phase": 4.0,
          "name": "Bupropion",
          "xrefs": [
            "biocyc:CPD-3481",
            "CHEBI:3219",
            "CHEBI:3220",
            "chembl.compound:CHEMBL1201735",
            "chembl.compound:CHEMBL1698",
            "chembl.compound:CHEMBL894",
            "drugbank:DB01156",
            "hmdb:HMDB0001510",
            "kegg.compound:C06860",
            "kegg.drug:D00817",
            "kegg.drug:D07591",
            "kegg.drug:D07938",
            "pubchem.compound:444"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1623343,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "Cc1cc2c(s1)Nc1ccccc1N=C2N1CCN(C)CC1",
          "identifier": "inchikey:KVWDHTXUZHCGIO-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC1=CC2=C(S1)NC3=CC=CC=C3N=C2N4CCN(CC4)C",
          "synonyms": [
            "132539-06-1",
            "135398745",
            "2-Methyl-4-(4-methyl-1-piperazinyl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "2-methyl-4-(4-methylpiperazin-1-yl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "C07322",
            "CHEBI:7735",
            "CHEBI:94534",
            "CHEMBL715",
            "D00454",
            "DB00334",
            "HMDB0005012",
            "LY-170053",
            "LY170053",
            "Lanzac",
            "Olansek",
            "Olanzapin",
            "Olanzapine (JAN/USP/INN)",
            "Olanzapine Glenmark",
            "Olanzapine Mylan",
            "Olanzapine Teva",
            "Olanzapine apotex",
            "Olanzapine cipla",
            "Olazax",
            "Olazax Disperzi",
            "Zyprexa",
            "Zyprexa (TN)",
            "Zyprexa Intramuscular",
            "Zyprexa Velotab",
            "Zyprexa Zydis",
            "olanzapina",
            "olanzapine",
            "olanzapinum"
          ],
          "max_phase": 4.0,
          "name": "Olanzapine",
          "xrefs": [
            "CHEBI:7735",
            "CHEBI:94534",
            "chembl.compound:CHEMBL715",
            "drugbank:DB00334",
            "hmdb:HMDB0005012",
            "kegg.compound:C07322",
            "kegg.drug:D00454",
            "pubchem.compound:135398745"
          ]
        }
      }
    },
    {
      "data": {
        "id": 401890,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "O=C[C@H]([18F])[C@@H](O)[C@H](O)[C@H](O)CO",
          "identifier": "inchikey:AOYNUTHNTBLRMT-MXWOLSILSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "PubChem"
          ],
          "smiles": "C([C@H]([C@H]([C@@H]([C@H](C=O)[18F])O)O)O)O",
          "synonyms": [
            "(18F)-FDG",
            "18-F FDG",
            "18F-FDG",
            "2-deoxy-2-((18)F)fluoro-aldehydo-D-glucose",
            "68614",
            "CHEBI:49136",
            "CHEMBL1808698",
            "DB09502",
            "FLUDEOXYGLUCOSE F-18",
            "Fludeoxyglucose (18F)",
            "Fludeoxyglucose F 18",
            "Fludeoxyglucose, F-18"
          ],
          "name": "Fludeoxyglucose F-18",
          "xrefs": [
            "CHEBI:49136",
            "chembl.compound:CHEMBL1808698",
            "drugbank:DB09502",
            "pubchem.compound:68614"
          ]
        }
      }
    },
    {
      "data": {
        "id": 386149,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCCN1CCCCC1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:LEBVLXFERQHONN-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCCN1CCCCC1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(+-)-Bupivacaine",
            "(+/-)-Bupivacaine",
            "(RS)-bupivacaine",
            "1-Butyl-2',6'-pipecoloxylidide",
            "1-Butyl-N-(2,6-dimethylphenyl)-2-piperidinecarboxamide",
            "1-butyl-N-(2,6-dimethylphenyl)piperidine-2-carboxamide",
            "2180-92-9",
            "2474",
            "38396-39-3",
            "Bloqueina",
            "Bucaine",
            "Bucaine (TN)",
            "Bupivacaina",
            "Bupivacaina [INN-Spanish]",
            "Bupivacaine (USAN/INN)",
            "Bupivacaine HCL",
            "Bupivacaine HCL KIT",
            "Bupivacaine liposome",
            "Bupivacainum",
            "Bupivacainum [INN-Latin]",
            "C07529",
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "CHEMBL1098",
            "CHEMBL1200396",
            "D01450",
            "D07552",
            "DB00297",
            "DL-Bupivacaine",
            "DUR-843",
            "Exparel (TN)",
            "HMDB0014442",
            "LAC-43",
            "LIQ-865",
            "LIQ865",
            "Liposomal bupivacaine",
            "Marcaine",
            "Ropivacaine hydrochloride impurity, bupivacaine-",
            "SKY-0402",
            "SKY0402",
            "Sensorcaine",
            "bupivacaine",
            "cBupivacaine",
            "dl-1-Butyl-2',6'-pipecoloxylidide",
            "racemic bupivacaine"
          ],
          "max_phase": 4.0,
          "name": "Bupivacaine",
          "xrefs": [
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "chembl.compound:CHEMBL1098",
            "chembl.compound:CHEMBL1200396",
            "drugbank:DB00297",
            "hmdb:HMDB0014442",
            "kegg.compound:C07529",
            "kegg.drug:D01450",
            "kegg.drug:D07552",
            "pubchem.compound:2474"
          ]
        }
      }
    },
    {
      "data": {
        "id": 2277918,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@]5(C)[C@H]4[C@@H](O)C[C@]3(C)[C@]2(C(=O)CO)O1",
          "identifier": "inchikey:VOVIALXJUBGFJZ-KWVAZRHASA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@@]5([C@H]4[C@H](C[C@@]3([C@@]2(O1)C(=O)CO)C)O)C",
          "synonyms": [
            "(11beta,16alpha)-16,17-(Butylidenebis(oxy))-11,21-dihydroxypregna-1,4-diene-3,20-dione",
            "11beta,21-dihydroxy-16alpha,17alpha-(butane-1,1-diyldioxy)pregna-1,4-diene-3,20-dione",
            "51333-22-3",
            "5281004",
            "Budesonida",
            "Budesonide (JP18/USP/INN)",
            "CHEBI:3207",
            "CHEMBL1370",
            "D00246",
            "DB01222",
            "Entocort EC (TN)",
            "HMDB0015353",
            "MAP-0010",
            "MAP0010",
            "NSC-757788",
            "Pulmicort (TN)",
            "R01AD05",
            "Rhinocort (TN)",
            "S-1320",
            "Uceris (TN)",
            "budesonide"
          ],
          "max_phase": 4.0,
          "name": "Budesonide",
          "xrefs": [
            "CHEBI:3207",
            "chembl.compound:CHEMBL1370",
            "drugbank:DB01222",
            "hmdb:HMDB0015353",
            "kegg.drug:D00246",
            "pubchem.compound:5281004"
          ]
        }
      }
    },
    {
      "data": {
        "id": 418916,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCN1CCCC[C@H]1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:ZKMNUMMKYBVTFN-HNNXBMFYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCN1CCCC[C@H]1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(-)-1-Propyl-2',6'-pipecoloxylidide",
            "(-)-1-propyl-2',6'-dimethyl-2-piperidylcarboxyanilide",
            "(2S)-N-(2,6-dimethylphenyl)-1-propylpiperidine-2-carboxamide",
            "(S)-(-)-1-propyl-2',6'-pipecoloxylidide",
            "(S)-Ropivacaine",
            "175805",
            "84057-95-4",
            "C07532",
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "CHEMBL1077896",
            "CHEMBL1889140",
            "D04048",
            "D08490",
            "DB00296",
            "HMDB0014441",
            "L-N-n-propylpipecolic acid-2,6-xylidide",
            "Naropin (TN)",
            "Ropivacaina",
            "Ropivacaina [INN-Spanish]",
            "Ropivacaina [Spanish]",
            "Ropivacaine",
            "Ropivacaine (INN)",
            "Ropivacaine [INN]",
            "Ropivacainum",
            "Ropivacainum [INN-Latin]",
            "Ropivicaine",
            "S-Ropivacaine",
            "TLC-590",
            "TLC590"
          ],
          "max_phase": 4.0,
          "name": "Ropivacaine",
          "xrefs": [
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "chembl.compound:CHEMBL1077896",
            "chembl.compound:CHEMBL1889140",
            "drugbank:DB00296",
            "hmdb:HMDB0014441",
            "kegg.compound:C07532",
            "kegg.drug:D04048",
            "kegg.drug:D08490",
            "pubchem.compound:175805"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28122850,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "NIVOLUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL2108738",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "Opdivo",
            "MDX1106",
            "MDX-1106",
            "ONO-4538",
            "Nivolumab",
            "BMS-986298",
            "BMS-936558"
          ]
        }
      }
    },
    {
      "data": {
        "id": 388142,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "C[C@]12C=CC(=O)C=C1CC[C@@H]1[C@@H]2C(=O)C[C@@]2(C)[C@H]1CC[C@]2(O)C(=O)CO",
          "identifier": "inchikey:XOFYZVNMUHMLCC-ZPOLXVRWSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C[C@]12CC(=O)[C@H]3[C@H]([C@@H]1CC[C@@]2(C(=O)CO)O)CCC4=CC(=O)C=C[C@]34C",
          "synonyms": [
            "1,2-Dehydrocortisone",
            "1,4-Pregnadiene-17alpha,21-diol-3,11,20-trione",
            "17,21-Dihydroxypregna-1,4-diene-3,11,20-trione",
            "3en3hg4wsw",
            "53-03-2",
            "5865",
            "C07370",
            "CHEBI:8382",
            "CHEMBL635",
            "CPD-22917",
            "D00473",
            "DB00635",
            "Decortin",
            "Dehydrocortisone",
            "HMDB0014773",
            "Metacortandracin",
            "NSC-10023",
            "Prednison",
            "Prednisona",
            "Prednisona [INN-Spanish]",
            "Prednisone tablets",
            "Prednisonum",
            "Prednisonum [INN-Latin]",
            "Supercortil",
            "prednisone",
            "prednisone anhydrous"
          ],
          "max_phase": 4.0,
          "name": "Prednisone",
          "xrefs": [
            "biocyc:CPD-22917",
            "CHEBI:8382",
            "chembl.compound:CHEMBL635",
            "drugbank:DB00635",
            "hmdb:HMDB0014773",
            "kegg.compound:C07370",
            "kegg.drug:D00473",
            "pubchem.compound:5865"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28126416,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "ATEZOLIZUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL3707227",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "RG7446",
            "RG-7446",
            "MPDL3280A",
            "Tecentriq",
            "Anti-PDL1",
            "Anti-PD-L1",
            "0ine2sfd9e",
            "MPDL-3280A",
            "Atezolizumab"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1034329,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCc1cc2c(cc1N1CCC(N3CCOCC3)CC1)C(C)(C)c1[nH]c3cc(C#N)ccc3c1C2=O",
          "identifier": "inchikey:KDGFLJKFZUIJMX-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "Protein Data Bank in Europe (PDBe)",
            "PubChem"
          ],
          "smiles": "CCC1=CC2=C(C=C1N3CCC(CC3)N4CCOCC4)C(C5=C(C2=O)C6=C(N5)C=C(C=C6)C#N)(C)C",
          "synonyms": [
            "1256580-46-7",
            "49806720",
            "9-Ethyl-6,6-Dimethyl-8-[4-(Morpholin-4-Yl)piperidin-1-Yl]-11-Oxo-6,11-Dihydro-5h-Benzo[b]carbazole-3-Carbonitrile",
            "AF 802",
            "AF-802",
            "AF802",
            "Alectinib",
            "Alectinib (USAN/INN)",
            "CH 5424802",
            "CH-5424802",
            "CH5424802",
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "CHEMBL1738797",
            "CHEMBL3707320",
            "D10450",
            "D10542",
            "DB11363",
            "EMH",
            "HMDB0248129",
            "RO-5424802",
            "RO5424802"
          ],
          "max_phase": 4.0,
          "name": "Alectinib",
          "xrefs": [
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "chembl.compound:CHEMBL1738797",
            "chembl.compound:CHEMBL3707320",
            "drugbank:DB11363",
            "hmdb:HMDB0248129",
            "kegg.drug:D10450",
            "kegg.drug:D10542",
            "pdb.ligand:EMH",
            "pubchem.compound:49806720"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385941,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "NCCCNCCSP(=O)(O)O",
          "identifier": "inchikey:JKOQGQFVAUAYPM-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C(CN)CNCCSP(=O)(O)O",
          "synonyms": [
            "20537-88-6",
            "2141",
            "Amifostina",
            "Amifostine Anhydrous",
            "Amifostine Ethiofos",
            "Amifostine disulfide",
            "Amifostine trihydrate",
            "Amifostinum",
            "Aminopropylaminoethyl thiophosphate",
            "Apaetp",
            "C06819",
            "CHEBI:2636",
            "CHEMBL1006",
            "D00226",
            "DB01143",
            "Ethiofos",
            "Ethiofos Anhydrous",
            "Ethyol",
            "Gammaphos",
            "HMDB0015274",
            "NSC-296961",
            "NSC-758236",
            "S-{2-[(3-aminopropyl)amino]ethyl} dihydrogen thiophosphate",
            "Sapep",
            "WR-1065",
            "WR-2721",
            "WR-2721 TRIHYDRATE",
            "YM-08310",
            "amifostine"
          ],
          "name": "Amifostine",
          "max_phase": 4.0,
          "xrefs": [
            "CHEBI:2636",
            "chembl.compound:CHEMBL1006",
            "drugbank:DB01143",
            "hmdb:HMDB0015274",
            "kegg.compound:C06819",
            "kegg.drug:D00226",
            "pubchem.compound:2141"
          ]
        }
      }
    }
  ]
}
2025-11-23 01:50:24,006 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 01:50:36,710 - INFO - Final answer generated.
2025-11-23 01:50:36,711 - INFO - End time: 1763837436.7114854
2025-11-23 01:50:36,711 - INFO - Total time for entire processing: 22.44271945953369
2025-11-23 01:50:36,716 - INFO - WebSocket connection closed.
2025-11-23 01:50:36,718 - INFO - WebSocket connection established.
2025-11-23 01:50:36,722 - INFO - Start time: 1763837436.722571
2025-11-23 01:50:36,722 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 01:50:36,723 - INFO - Is fisrt: True
2025-11-23 01:50:36,723 - ERROR - An error occurred in the AI pipeline: 'NoneType' object has no attribute 'generate_topic'
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 113, in run_full_pipeline
    title = await topic_module.generate_topic(question)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'generate_topic'
2025-11-23 01:50:36,727 - ERROR - An error occurred in the WebSocket connection: too many values to unpack (expected 2)
2025-11-23 01:50:42,601 - INFO - Server is shutting down...
2025-11-23 01:50:50,803 - INFO - Server is starting up...
2025-11-23 01:50:50,803 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:50:54,060 - INFO - WebSocket connection established.
2025-11-23 01:50:54,060 - INFO - Start time: 1763837454.0606077
2025-11-23 01:50:54,060 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 01:50:54,060 - INFO - Is fisrt: True
2025-11-23 01:50:54,067 - ERROR - An error occurred in the AI pipeline: 'NoneType' object has no attribute 'generate_topic'
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 113, in run_full_pipeline
    title = await topic_module.generate_topic(question)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'generate_topic'
2025-11-23 01:50:54,070 - ERROR - An error occurred in the WebSocket connection: too many values to unpack (expected 2)
2025-11-23 01:51:15,146 - INFO - Server is shutting down...
2025-11-23 01:51:25,198 - INFO - Server is starting up...
2025-11-23 01:51:25,198 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:51:30,559 - INFO - WebSocket connection established.
2025-11-23 01:51:30,559 - INFO - Start time: 1763837490.5597157
2025-11-23 01:51:30,559 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 01:51:30,559 - INFO - Is fisrt: True
2025-11-23 01:51:30,559 - ERROR - An error occurred in the AI pipeline: 'NoneType' object has no attribute 'generate_topic'
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 113, in run_full_pipeline
    title = await topic_module.generate_topic(question)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'generate_topic'
2025-11-23 01:51:30,573 - ERROR - An error occurred in the WebSocket connection: too many values to unpack (expected 2)
2025-11-23 01:54:11,884 - INFO - Server is shutting down...
2025-11-23 01:54:12,953 - INFO - Server is starting up...
2025-11-23 01:54:12,953 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:54:14,087 - INFO - Server is starting up...
2025-11-23 01:54:14,090 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:54:33,244 - INFO - WebSocket connection established.
2025-11-23 01:54:33,252 - INFO - Start time: 1763837673.2520556
2025-11-23 01:54:33,252 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 01:54:33,253 - INFO - Is fisrt: True
2025-11-23 01:54:41,724 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for 'medications' that 'treat' a specific disease, 'lung cancer'. This translates to a one-hop query from a Disease node to Compound nodes. I will use the /neighborhood API to find Compounds connected to the Disease 'lung cancer' via the TREATS_CtD edge.",
  "entities": [
    {
      "name_in_query": "lung cancer",
      "normalized_type": "Disease",
      "id_placeholder": "lung_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get medications (Compounds) that are used to treat 'lung cancer'.",
      "api_call": "/api/v1/neighborhood/Disease/name/lung cancer?edge_filters=TREATS_CtD&node_filters=Compound",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-23 01:54:42,630 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 416873,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CN1CCC[C@@H]1c1cccnc1",
          "identifier": "inchikey:SNICXCGAKADSCV-SNVBAGLBSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CN1CCC[C@@H]1C2=CN=CC=C2",
          "synonyms": [
            "(+)-Nicotine",
            "(R)-(+)-Nicotine",
            "(R)-3-(1-Methyl-2-pyrrolidinyl)pyridine",
            "(R)-nicotine",
            "157672",
            "2'-beta-H-Nicotine",
            "25162-00-9",
            "3-[(2R)-1-methylpyrrolidin-2-yl]pyridine",
            "C16386",
            "CHEBI:39162",
            "CHEBI:79008",
            "CHEMBL9732",
            "D-Nicotine",
            "Pseudonicotine",
            "R-NICOTINE"
          ],
          "name": "(R)-Nicotine",
          "xrefs": [
            "biocyc:R-NICOTINE",
            "CHEBI:39162",
            "CHEBI:79008",
            "chembl.compound:CHEMBL9732",
            "kegg.compound:C16386",
            "pubchem.compound:157672"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385055,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CC(NC(C)(C)C)C(=O)c1cccc(Cl)c1",
          "identifier": "inchikey:SNPPWIUOZRMYNY-UHFFFAOYSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC(C(=O)C1=CC(=CC=C1)Cl)NC(C)(C)C",
          "synonyms": [
            "(+-)-Bupropion",
            "2-(tert-butylamino)-1-(3-chlorophenyl)propan-1-one",
            "34841-39-9",
            "34911-55-2",
            "444",
            "Amfebutamona",
            "Amfebutamone",
            "Bupropion (INN)",
            "Bupropion extended release",
            "Bupropion slow release",
            "C06860",
            "CHEBI:3219",
            "CHEBI:3220",
            "CHEMBL1201735",
            "CHEMBL1698",
            "CHEMBL894",
            "CPD-3481",
            "D00817",
            "D07591",
            "D07938",
            "DB01156",
            "HMDB0001510",
            "NSC-758686",
            "Wellbatrin",
            "Wellbutrin",
            "Zyban",
            "amfebutamonum",
            "bupropion",
            "bupropione"
          ],
          "max_phase": 4.0,
          "name": "Bupropion",
          "xrefs": [
            "biocyc:CPD-3481",
            "CHEBI:3219",
            "CHEBI:3220",
            "chembl.compound:CHEMBL1201735",
            "chembl.compound:CHEMBL1698",
            "chembl.compound:CHEMBL894",
            "drugbank:DB01156",
            "hmdb:HMDB0001510",
            "kegg.compound:C06860",
            "kegg.drug:D00817",
            "kegg.drug:D07591",
            "kegg.drug:D07938",
            "pubchem.compound:444"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1623343,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "Cc1cc2c(s1)Nc1ccccc1N=C2N1CCN(C)CC1",
          "identifier": "inchikey:KVWDHTXUZHCGIO-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC1=CC2=C(S1)NC3=CC=CC=C3N=C2N4CCN(CC4)C",
          "synonyms": [
            "132539-06-1",
            "135398745",
            "2-Methyl-4-(4-methyl-1-piperazinyl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "2-methyl-4-(4-methylpiperazin-1-yl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "C07322",
            "CHEBI:7735",
            "CHEBI:94534",
            "CHEMBL715",
            "D00454",
            "DB00334",
            "HMDB0005012",
            "LY-170053",
            "LY170053",
            "Lanzac",
            "Olansek",
            "Olanzapin",
            "Olanzapine (JAN/USP/INN)",
            "Olanzapine Glenmark",
            "Olanzapine Mylan",
            "Olanzapine Teva",
            "Olanzapine apotex",
            "Olanzapine cipla",
            "Olazax",
            "Olazax Disperzi",
            "Zyprexa",
            "Zyprexa (TN)",
            "Zyprexa Intramuscular",
            "Zyprexa Velotab",
            "Zyprexa Zydis",
            "olanzapina",
            "olanzapine",
            "olanzapinum"
          ],
          "max_phase": 4.0,
          "name": "Olanzapine",
          "xrefs": [
            "CHEBI:7735",
            "CHEBI:94534",
            "chembl.compound:CHEMBL715",
            "drugbank:DB00334",
            "hmdb:HMDB0005012",
            "kegg.compound:C07322",
            "kegg.drug:D00454",
            "pubchem.compound:135398745"
          ]
        }
      }
    },
    {
      "data": {
        "id": 401890,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "O=C[C@H]([18F])[C@@H](O)[C@H](O)[C@H](O)CO",
          "identifier": "inchikey:AOYNUTHNTBLRMT-MXWOLSILSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "PubChem"
          ],
          "smiles": "C([C@H]([C@H]([C@@H]([C@H](C=O)[18F])O)O)O)O",
          "synonyms": [
            "(18F)-FDG",
            "18-F FDG",
            "18F-FDG",
            "2-deoxy-2-((18)F)fluoro-aldehydo-D-glucose",
            "68614",
            "CHEBI:49136",
            "CHEMBL1808698",
            "DB09502",
            "FLUDEOXYGLUCOSE F-18",
            "Fludeoxyglucose (18F)",
            "Fludeoxyglucose F 18",
            "Fludeoxyglucose, F-18"
          ],
          "name": "Fludeoxyglucose F-18",
          "xrefs": [
            "CHEBI:49136",
            "chembl.compound:CHEMBL1808698",
            "drugbank:DB09502",
            "pubchem.compound:68614"
          ]
        }
      }
    },
    {
      "data": {
        "id": 386149,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCCN1CCCCC1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:LEBVLXFERQHONN-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCCN1CCCCC1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(+-)-Bupivacaine",
            "(+/-)-Bupivacaine",
            "(RS)-bupivacaine",
            "1-Butyl-2',6'-pipecoloxylidide",
            "1-Butyl-N-(2,6-dimethylphenyl)-2-piperidinecarboxamide",
            "1-butyl-N-(2,6-dimethylphenyl)piperidine-2-carboxamide",
            "2180-92-9",
            "2474",
            "38396-39-3",
            "Bloqueina",
            "Bucaine",
            "Bucaine (TN)",
            "Bupivacaina",
            "Bupivacaina [INN-Spanish]",
            "Bupivacaine (USAN/INN)",
            "Bupivacaine HCL",
            "Bupivacaine HCL KIT",
            "Bupivacaine liposome",
            "Bupivacainum",
            "Bupivacainum [INN-Latin]",
            "C07529",
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "CHEMBL1098",
            "CHEMBL1200396",
            "D01450",
            "D07552",
            "DB00297",
            "DL-Bupivacaine",
            "DUR-843",
            "Exparel (TN)",
            "HMDB0014442",
            "LAC-43",
            "LIQ-865",
            "LIQ865",
            "Liposomal bupivacaine",
            "Marcaine",
            "Ropivacaine hydrochloride impurity, bupivacaine-",
            "SKY-0402",
            "SKY0402",
            "Sensorcaine",
            "bupivacaine",
            "cBupivacaine",
            "dl-1-Butyl-2',6'-pipecoloxylidide",
            "racemic bupivacaine"
          ],
          "max_phase": 4.0,
          "name": "Bupivacaine",
          "xrefs": [
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "chembl.compound:CHEMBL1098",
            "chembl.compound:CHEMBL1200396",
            "drugbank:DB00297",
            "hmdb:HMDB0014442",
            "kegg.compound:C07529",
            "kegg.drug:D01450",
            "kegg.drug:D07552",
            "pubchem.compound:2474"
          ]
        }
      }
    },
    {
      "data": {
        "id": 2277918,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@]5(C)[C@H]4[C@@H](O)C[C@]3(C)[C@]2(C(=O)CO)O1",
          "identifier": "inchikey:VOVIALXJUBGFJZ-KWVAZRHASA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@@]5([C@H]4[C@H](C[C@@]3([C@@]2(O1)C(=O)CO)C)O)C",
          "synonyms": [
            "(11beta,16alpha)-16,17-(Butylidenebis(oxy))-11,21-dihydroxypregna-1,4-diene-3,20-dione",
            "11beta,21-dihydroxy-16alpha,17alpha-(butane-1,1-diyldioxy)pregna-1,4-diene-3,20-dione",
            "51333-22-3",
            "5281004",
            "Budesonida",
            "Budesonide (JP18/USP/INN)",
            "CHEBI:3207",
            "CHEMBL1370",
            "D00246",
            "DB01222",
            "Entocort EC (TN)",
            "HMDB0015353",
            "MAP-0010",
            "MAP0010",
            "NSC-757788",
            "Pulmicort (TN)",
            "R01AD05",
            "Rhinocort (TN)",
            "S-1320",
            "Uceris (TN)",
            "budesonide"
          ],
          "max_phase": 4.0,
          "name": "Budesonide",
          "xrefs": [
            "CHEBI:3207",
            "chembl.compound:CHEMBL1370",
            "drugbank:DB01222",
            "hmdb:HMDB0015353",
            "kegg.drug:D00246",
            "pubchem.compound:5281004"
          ]
        }
      }
    },
    {
      "data": {
        "id": 418916,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCN1CCCC[C@H]1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:ZKMNUMMKYBVTFN-HNNXBMFYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCN1CCCC[C@H]1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(-)-1-Propyl-2',6'-pipecoloxylidide",
            "(-)-1-propyl-2',6'-dimethyl-2-piperidylcarboxyanilide",
            "(2S)-N-(2,6-dimethylphenyl)-1-propylpiperidine-2-carboxamide",
            "(S)-(-)-1-propyl-2',6'-pipecoloxylidide",
            "(S)-Ropivacaine",
            "175805",
            "84057-95-4",
            "C07532",
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "CHEMBL1077896",
            "CHEMBL1889140",
            "D04048",
            "D08490",
            "DB00296",
            "HMDB0014441",
            "L-N-n-propylpipecolic acid-2,6-xylidide",
            "Naropin (TN)",
            "Ropivacaina",
            "Ropivacaina [INN-Spanish]",
            "Ropivacaina [Spanish]",
            "Ropivacaine",
            "Ropivacaine (INN)",
            "Ropivacaine [INN]",
            "Ropivacainum",
            "Ropivacainum [INN-Latin]",
            "Ropivicaine",
            "S-Ropivacaine",
            "TLC-590",
            "TLC590"
          ],
          "max_phase": 4.0,
          "name": "Ropivacaine",
          "xrefs": [
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "chembl.compound:CHEMBL1077896",
            "chembl.compound:CHEMBL1889140",
            "drugbank:DB00296",
            "hmdb:HMDB0014441",
            "kegg.compound:C07532",
            "kegg.drug:D04048",
            "kegg.drug:D08490",
            "pubchem.compound:175805"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28122850,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "NIVOLUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL2108738",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "Opdivo",
            "MDX1106",
            "MDX-1106",
            "ONO-4538",
            "Nivolumab",
            "BMS-986298",
            "BMS-936558"
          ]
        }
      }
    },
    {
      "data": {
        "id": 388142,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "C[C@]12C=CC(=O)C=C1CC[C@@H]1[C@@H]2C(=O)C[C@@]2(C)[C@H]1CC[C@]2(O)C(=O)CO",
          "identifier": "inchikey:XOFYZVNMUHMLCC-ZPOLXVRWSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C[C@]12CC(=O)[C@H]3[C@H]([C@@H]1CC[C@@]2(C(=O)CO)O)CCC4=CC(=O)C=C[C@]34C",
          "synonyms": [
            "1,2-Dehydrocortisone",
            "1,4-Pregnadiene-17alpha,21-diol-3,11,20-trione",
            "17,21-Dihydroxypregna-1,4-diene-3,11,20-trione",
            "3en3hg4wsw",
            "53-03-2",
            "5865",
            "C07370",
            "CHEBI:8382",
            "CHEMBL635",
            "CPD-22917",
            "D00473",
            "DB00635",
            "Decortin",
            "Dehydrocortisone",
            "HMDB0014773",
            "Metacortandracin",
            "NSC-10023",
            "Prednison",
            "Prednisona",
            "Prednisona [INN-Spanish]",
            "Prednisone tablets",
            "Prednisonum",
            "Prednisonum [INN-Latin]",
            "Supercortil",
            "prednisone",
            "prednisone anhydrous"
          ],
          "max_phase": 4.0,
          "name": "Prednisone",
          "xrefs": [
            "biocyc:CPD-22917",
            "CHEBI:8382",
            "chembl.compound:CHEMBL635",
            "drugbank:DB00635",
            "hmdb:HMDB0014773",
            "kegg.compound:C07370",
            "kegg.drug:D00473",
            "pubchem.compound:5865"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28126416,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "ATEZOLIZUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL3707227",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "RG7446",
            "RG-7446",
            "MPDL3280A",
            "Tecentriq",
            "Anti-PDL1",
            "Anti-PD-L1",
            "0ine2sfd9e",
            "MPDL-3280A",
            "Atezolizumab"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1034329,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCc1cc2c(cc1N1CCC(N3CCOCC3)CC1)C(C)(C)c1[nH]c3cc(C#N)ccc3c1C2=O",
          "identifier": "inchikey:KDGFLJKFZUIJMX-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "Protein Data Bank in Europe (PDBe)",
            "PubChem"
          ],
          "smiles": "CCC1=CC2=C(C=C1N3CCC(CC3)N4CCOCC4)C(C5=C(C2=O)C6=C(N5)C=C(C=C6)C#N)(C)C",
          "synonyms": [
            "1256580-46-7",
            "49806720",
            "9-Ethyl-6,6-Dimethyl-8-[4-(Morpholin-4-Yl)piperidin-1-Yl]-11-Oxo-6,11-Dihydro-5h-Benzo[b]carbazole-3-Carbonitrile",
            "AF 802",
            "AF-802",
            "AF802",
            "Alectinib",
            "Alectinib (USAN/INN)",
            "CH 5424802",
            "CH-5424802",
            "CH5424802",
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "CHEMBL1738797",
            "CHEMBL3707320",
            "D10450",
            "D10542",
            "DB11363",
            "EMH",
            "HMDB0248129",
            "RO-5424802",
            "RO5424802"
          ],
          "max_phase": 4.0,
          "name": "Alectinib",
          "xrefs": [
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "chembl.compound:CHEMBL1738797",
            "chembl.compound:CHEMBL3707320",
            "drugbank:DB11363",
            "hmdb:HMDB0248129",
            "kegg.drug:D10450",
            "kegg.drug:D10542",
            "pdb.ligand:EMH",
            "pubchem.compound:49806720"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385941,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "NCCCNCCSP(=O)(O)O",
          "identifier": "inchikey:JKOQGQFVAUAYPM-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C(CN)CNCCSP(=O)(O)O",
          "synonyms": [
            "20537-88-6",
            "2141",
            "Amifostina",
            "Amifostine Anhydrous",
            "Amifostine Ethiofos",
            "Amifostine disulfide",
            "Amifostine trihydrate",
            "Amifostinum",
            "Aminopropylaminoethyl thiophosphate",
            "Apaetp",
            "C06819",
            "CHEBI:2636",
            "CHEMBL1006",
            "D00226",
            "DB01143",
            "Ethiofos",
            "Ethiofos Anhydrous",
            "Ethyol",
            "Gammaphos",
            "HMDB0015274",
            "NSC-296961",
            "NSC-758236",
            "S-{2-[(3-aminopropyl)amino]ethyl} dihydrogen thiophosphate",
            "Sapep",
            "WR-1065",
            "WR-2721",
            "WR-2721 TRIHYDRATE",
            "YM-08310",
            "amifostine"
          ],
          "name": "Amifostine",
          "max_phase": 4.0,
          "xrefs": [
            "CHEBI:2636",
            "chembl.compound:CHEMBL1006",
            "drugbank:DB01143",
            "hmdb:HMDB0015274",
            "kegg.compound:C06819",
            "kegg.drug:D00226",
            "pubchem.compound:2141"
          ]
        }
      }
    }
  ]
}
2025-11-23 01:54:42,635 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 01:54:57,483 - INFO - Final answer generated.
2025-11-23 01:54:57,483 - INFO - End time: 1763837697.4831376
2025-11-23 01:54:57,491 - INFO - Total time for entire processing: 24.23108196258545
2025-11-23 01:55:32,914 - INFO - WebSocket connection closed.
2025-11-23 01:55:33,030 - INFO - Server is shutting down...
2025-11-23 01:55:44,691 - INFO - Server is starting up...
2025-11-23 01:55:44,693 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:55:56,846 - INFO - Server is shutting down...
2025-11-23 01:55:57,869 - INFO - Server is starting up...
2025-11-23 01:55:57,871 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:56:11,516 - INFO - Server is shutting down...
2025-11-23 01:56:12,521 - INFO - Server is starting up...
2025-11-23 01:56:12,523 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:58:08,270 - INFO - Server is shutting down...
2025-11-23 01:58:09,360 - INFO - Server is starting up...
2025-11-23 01:58:09,361 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:58:38,170 - INFO - Server is shutting down...
2025-11-23 01:58:39,215 - INFO - Server is starting up...
2025-11-23 01:58:39,216 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:59:10,085 - INFO - Server is shutting down...
2025-11-23 01:59:11,112 - INFO - Server is starting up...
2025-11-23 01:59:11,112 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:59:25,948 - INFO - Server is shutting down...
2025-11-23 01:59:27,016 - INFO - Server is starting up...
2025-11-23 01:59:27,018 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 01:59:59,478 - INFO - Server is shutting down...
2025-11-23 02:00:00,549 - INFO - Server is starting up...
2025-11-23 02:00:00,550 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:00:01,629 - INFO - Server is starting up...
2025-11-23 02:00:01,631 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:00:03,067 - INFO - Server is shutting down...
2025-11-23 02:00:04,112 - INFO - Server is starting up...
2025-11-23 02:00:04,112 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:00:24,694 - INFO - Server is shutting down...
2025-11-23 02:00:25,740 - INFO - Server is starting up...
2025-11-23 02:00:25,743 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:00:29,976 - INFO - Server is shutting down...
2025-11-23 02:00:30,976 - INFO - Server is starting up...
2025-11-23 02:00:30,979 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:00:35,062 - INFO - Server is shutting down...
2025-11-23 02:00:37,458 - INFO - Server is starting up...
2025-11-23 02:00:37,458 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:00:42,299 - INFO - WebSocket connection established.
2025-11-23 02:00:42,303 - INFO - Start time: 1763838042.3035626
2025-11-23 02:00:42,303 - INFO - Pipeline started for question: 'các thuốc chữa bệnh ung thư phổi?'
2025-11-23 02:00:42,303 - INFO - Is fisrt: True
2025-11-23 02:00:42,305 - INFO - Running tasks in parallel...
2025-11-23 02:00:49,887 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for 'medications' that 'treat' a specific disease, 'lung cancer'. This translates to a one-hop query from a Disease node to Compound nodes. I will use the /neighborhood API to find Compounds connected to the Disease 'lung cancer' via the TREATS_CtD edge.",
  "entities": [
    {
      "name_in_query": "lung cancer",
      "normalized_type": "Disease",
      "id_placeholder": "lung_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get medications (Compounds) that are used to treat 'lung cancer'.",
      "api_call": "/api/v1/neighborhood/Disease/name/lung cancer?edge_filters=TREATS_CtD&node_filters=Compound",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-23 02:00:51,809 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 416873,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CN1CCC[C@@H]1c1cccnc1",
          "identifier": "inchikey:SNICXCGAKADSCV-SNVBAGLBSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CN1CCC[C@@H]1C2=CN=CC=C2",
          "synonyms": [
            "(+)-Nicotine",
            "(R)-(+)-Nicotine",
            "(R)-3-(1-Methyl-2-pyrrolidinyl)pyridine",
            "(R)-nicotine",
            "157672",
            "2'-beta-H-Nicotine",
            "25162-00-9",
            "3-[(2R)-1-methylpyrrolidin-2-yl]pyridine",
            "C16386",
            "CHEBI:39162",
            "CHEBI:79008",
            "CHEMBL9732",
            "D-Nicotine",
            "Pseudonicotine",
            "R-NICOTINE"
          ],
          "name": "(R)-Nicotine",
          "xrefs": [
            "biocyc:R-NICOTINE",
            "CHEBI:39162",
            "CHEBI:79008",
            "chembl.compound:CHEMBL9732",
            "kegg.compound:C16386",
            "pubchem.compound:157672"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385055,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CC(NC(C)(C)C)C(=O)c1cccc(Cl)c1",
          "identifier": "inchikey:SNPPWIUOZRMYNY-UHFFFAOYSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC(C(=O)C1=CC(=CC=C1)Cl)NC(C)(C)C",
          "synonyms": [
            "(+-)-Bupropion",
            "2-(tert-butylamino)-1-(3-chlorophenyl)propan-1-one",
            "34841-39-9",
            "34911-55-2",
            "444",
            "Amfebutamona",
            "Amfebutamone",
            "Bupropion (INN)",
            "Bupropion extended release",
            "Bupropion slow release",
            "C06860",
            "CHEBI:3219",
            "CHEBI:3220",
            "CHEMBL1201735",
            "CHEMBL1698",
            "CHEMBL894",
            "CPD-3481",
            "D00817",
            "D07591",
            "D07938",
            "DB01156",
            "HMDB0001510",
            "NSC-758686",
            "Wellbatrin",
            "Wellbutrin",
            "Zyban",
            "amfebutamonum",
            "bupropion",
            "bupropione"
          ],
          "max_phase": 4.0,
          "name": "Bupropion",
          "xrefs": [
            "biocyc:CPD-3481",
            "CHEBI:3219",
            "CHEBI:3220",
            "chembl.compound:CHEMBL1201735",
            "chembl.compound:CHEMBL1698",
            "chembl.compound:CHEMBL894",
            "drugbank:DB01156",
            "hmdb:HMDB0001510",
            "kegg.compound:C06860",
            "kegg.drug:D00817",
            "kegg.drug:D07591",
            "kegg.drug:D07938",
            "pubchem.compound:444"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1623343,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "Cc1cc2c(s1)Nc1ccccc1N=C2N1CCN(C)CC1",
          "identifier": "inchikey:KVWDHTXUZHCGIO-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC1=CC2=C(S1)NC3=CC=CC=C3N=C2N4CCN(CC4)C",
          "synonyms": [
            "132539-06-1",
            "135398745",
            "2-Methyl-4-(4-methyl-1-piperazinyl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "2-methyl-4-(4-methylpiperazin-1-yl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "C07322",
            "CHEBI:7735",
            "CHEBI:94534",
            "CHEMBL715",
            "D00454",
            "DB00334",
            "HMDB0005012",
            "LY-170053",
            "LY170053",
            "Lanzac",
            "Olansek",
            "Olanzapin",
            "Olanzapine (JAN/USP/INN)",
            "Olanzapine Glenmark",
            "Olanzapine Mylan",
            "Olanzapine Teva",
            "Olanzapine apotex",
            "Olanzapine cipla",
            "Olazax",
            "Olazax Disperzi",
            "Zyprexa",
            "Zyprexa (TN)",
            "Zyprexa Intramuscular",
            "Zyprexa Velotab",
            "Zyprexa Zydis",
            "olanzapina",
            "olanzapine",
            "olanzapinum"
          ],
          "max_phase": 4.0,
          "name": "Olanzapine",
          "xrefs": [
            "CHEBI:7735",
            "CHEBI:94534",
            "chembl.compound:CHEMBL715",
            "drugbank:DB00334",
            "hmdb:HMDB0005012",
            "kegg.compound:C07322",
            "kegg.drug:D00454",
            "pubchem.compound:135398745"
          ]
        }
      }
    },
    {
      "data": {
        "id": 401890,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "O=C[C@H]([18F])[C@@H](O)[C@H](O)[C@H](O)CO",
          "identifier": "inchikey:AOYNUTHNTBLRMT-MXWOLSILSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "PubChem"
          ],
          "smiles": "C([C@H]([C@H]([C@@H]([C@H](C=O)[18F])O)O)O)O",
          "synonyms": [
            "(18F)-FDG",
            "18-F FDG",
            "18F-FDG",
            "2-deoxy-2-((18)F)fluoro-aldehydo-D-glucose",
            "68614",
            "CHEBI:49136",
            "CHEMBL1808698",
            "DB09502",
            "FLUDEOXYGLUCOSE F-18",
            "Fludeoxyglucose (18F)",
            "Fludeoxyglucose F 18",
            "Fludeoxyglucose, F-18"
          ],
          "name": "Fludeoxyglucose F-18",
          "xrefs": [
            "CHEBI:49136",
            "chembl.compound:CHEMBL1808698",
            "drugbank:DB09502",
            "pubchem.compound:68614"
          ]
        }
      }
    },
    {
      "data": {
        "id": 386149,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCCN1CCCCC1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:LEBVLXFERQHONN-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCCN1CCCCC1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(+-)-Bupivacaine",
            "(+/-)-Bupivacaine",
            "(RS)-bupivacaine",
            "1-Butyl-2',6'-pipecoloxylidide",
            "1-Butyl-N-(2,6-dimethylphenyl)-2-piperidinecarboxamide",
            "1-butyl-N-(2,6-dimethylphenyl)piperidine-2-carboxamide",
            "2180-92-9",
            "2474",
            "38396-39-3",
            "Bloqueina",
            "Bucaine",
            "Bucaine (TN)",
            "Bupivacaina",
            "Bupivacaina [INN-Spanish]",
            "Bupivacaine (USAN/INN)",
            "Bupivacaine HCL",
            "Bupivacaine HCL KIT",
            "Bupivacaine liposome",
            "Bupivacainum",
            "Bupivacainum [INN-Latin]",
            "C07529",
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "CHEMBL1098",
            "CHEMBL1200396",
            "D01450",
            "D07552",
            "DB00297",
            "DL-Bupivacaine",
            "DUR-843",
            "Exparel (TN)",
            "HMDB0014442",
            "LAC-43",
            "LIQ-865",
            "LIQ865",
            "Liposomal bupivacaine",
            "Marcaine",
            "Ropivacaine hydrochloride impurity, bupivacaine-",
            "SKY-0402",
            "SKY0402",
            "Sensorcaine",
            "bupivacaine",
            "cBupivacaine",
            "dl-1-Butyl-2',6'-pipecoloxylidide",
            "racemic bupivacaine"
          ],
          "max_phase": 4.0,
          "name": "Bupivacaine",
          "xrefs": [
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "chembl.compound:CHEMBL1098",
            "chembl.compound:CHEMBL1200396",
            "drugbank:DB00297",
            "hmdb:HMDB0014442",
            "kegg.compound:C07529",
            "kegg.drug:D01450",
            "kegg.drug:D07552",
            "pubchem.compound:2474"
          ]
        }
      }
    },
    {
      "data": {
        "id": 2277918,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@]5(C)[C@H]4[C@@H](O)C[C@]3(C)[C@]2(C(=O)CO)O1",
          "identifier": "inchikey:VOVIALXJUBGFJZ-KWVAZRHASA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@@]5([C@H]4[C@H](C[C@@]3([C@@]2(O1)C(=O)CO)C)O)C",
          "synonyms": [
            "(11beta,16alpha)-16,17-(Butylidenebis(oxy))-11,21-dihydroxypregna-1,4-diene-3,20-dione",
            "11beta,21-dihydroxy-16alpha,17alpha-(butane-1,1-diyldioxy)pregna-1,4-diene-3,20-dione",
            "51333-22-3",
            "5281004",
            "Budesonida",
            "Budesonide (JP18/USP/INN)",
            "CHEBI:3207",
            "CHEMBL1370",
            "D00246",
            "DB01222",
            "Entocort EC (TN)",
            "HMDB0015353",
            "MAP-0010",
            "MAP0010",
            "NSC-757788",
            "Pulmicort (TN)",
            "R01AD05",
            "Rhinocort (TN)",
            "S-1320",
            "Uceris (TN)",
            "budesonide"
          ],
          "max_phase": 4.0,
          "name": "Budesonide",
          "xrefs": [
            "CHEBI:3207",
            "chembl.compound:CHEMBL1370",
            "drugbank:DB01222",
            "hmdb:HMDB0015353",
            "kegg.drug:D00246",
            "pubchem.compound:5281004"
          ]
        }
      }
    },
    {
      "data": {
        "id": 418916,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCN1CCCC[C@H]1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:ZKMNUMMKYBVTFN-HNNXBMFYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCN1CCCC[C@H]1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(-)-1-Propyl-2',6'-pipecoloxylidide",
            "(-)-1-propyl-2',6'-dimethyl-2-piperidylcarboxyanilide",
            "(2S)-N-(2,6-dimethylphenyl)-1-propylpiperidine-2-carboxamide",
            "(S)-(-)-1-propyl-2',6'-pipecoloxylidide",
            "(S)-Ropivacaine",
            "175805",
            "84057-95-4",
            "C07532",
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "CHEMBL1077896",
            "CHEMBL1889140",
            "D04048",
            "D08490",
            "DB00296",
            "HMDB0014441",
            "L-N-n-propylpipecolic acid-2,6-xylidide",
            "Naropin (TN)",
            "Ropivacaina",
            "Ropivacaina [INN-Spanish]",
            "Ropivacaina [Spanish]",
            "Ropivacaine",
            "Ropivacaine (INN)",
            "Ropivacaine [INN]",
            "Ropivacainum",
            "Ropivacainum [INN-Latin]",
            "Ropivicaine",
            "S-Ropivacaine",
            "TLC-590",
            "TLC590"
          ],
          "max_phase": 4.0,
          "name": "Ropivacaine",
          "xrefs": [
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "chembl.compound:CHEMBL1077896",
            "chembl.compound:CHEMBL1889140",
            "drugbank:DB00296",
            "hmdb:HMDB0014441",
            "kegg.compound:C07532",
            "kegg.drug:D04048",
            "kegg.drug:D08490",
            "pubchem.compound:175805"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28122850,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "NIVOLUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL2108738",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "Opdivo",
            "MDX1106",
            "MDX-1106",
            "ONO-4538",
            "Nivolumab",
            "BMS-986298",
            "BMS-936558"
          ]
        }
      }
    },
    {
      "data": {
        "id": 388142,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "C[C@]12C=CC(=O)C=C1CC[C@@H]1[C@@H]2C(=O)C[C@@]2(C)[C@H]1CC[C@]2(O)C(=O)CO",
          "identifier": "inchikey:XOFYZVNMUHMLCC-ZPOLXVRWSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C[C@]12CC(=O)[C@H]3[C@H]([C@@H]1CC[C@@]2(C(=O)CO)O)CCC4=CC(=O)C=C[C@]34C",
          "synonyms": [
            "1,2-Dehydrocortisone",
            "1,4-Pregnadiene-17alpha,21-diol-3,11,20-trione",
            "17,21-Dihydroxypregna-1,4-diene-3,11,20-trione",
            "3en3hg4wsw",
            "53-03-2",
            "5865",
            "C07370",
            "CHEBI:8382",
            "CHEMBL635",
            "CPD-22917",
            "D00473",
            "DB00635",
            "Decortin",
            "Dehydrocortisone",
            "HMDB0014773",
            "Metacortandracin",
            "NSC-10023",
            "Prednison",
            "Prednisona",
            "Prednisona [INN-Spanish]",
            "Prednisone tablets",
            "Prednisonum",
            "Prednisonum [INN-Latin]",
            "Supercortil",
            "prednisone",
            "prednisone anhydrous"
          ],
          "max_phase": 4.0,
          "name": "Prednisone",
          "xrefs": [
            "biocyc:CPD-22917",
            "CHEBI:8382",
            "chembl.compound:CHEMBL635",
            "drugbank:DB00635",
            "hmdb:HMDB0014773",
            "kegg.compound:C07370",
            "kegg.drug:D00473",
            "pubchem.compound:5865"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28126416,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "ATEZOLIZUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL3707227",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "RG7446",
            "RG-7446",
            "MPDL3280A",
            "Tecentriq",
            "Anti-PDL1",
            "Anti-PD-L1",
            "0ine2sfd9e",
            "MPDL-3280A",
            "Atezolizumab"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1034329,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCc1cc2c(cc1N1CCC(N3CCOCC3)CC1)C(C)(C)c1[nH]c3cc(C#N)ccc3c1C2=O",
          "identifier": "inchikey:KDGFLJKFZUIJMX-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "Protein Data Bank in Europe (PDBe)",
            "PubChem"
          ],
          "smiles": "CCC1=CC2=C(C=C1N3CCC(CC3)N4CCOCC4)C(C5=C(C2=O)C6=C(N5)C=C(C=C6)C#N)(C)C",
          "synonyms": [
            "1256580-46-7",
            "49806720",
            "9-Ethyl-6,6-Dimethyl-8-[4-(Morpholin-4-Yl)piperidin-1-Yl]-11-Oxo-6,11-Dihydro-5h-Benzo[b]carbazole-3-Carbonitrile",
            "AF 802",
            "AF-802",
            "AF802",
            "Alectinib",
            "Alectinib (USAN/INN)",
            "CH 5424802",
            "CH-5424802",
            "CH5424802",
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "CHEMBL1738797",
            "CHEMBL3707320",
            "D10450",
            "D10542",
            "DB11363",
            "EMH",
            "HMDB0248129",
            "RO-5424802",
            "RO5424802"
          ],
          "max_phase": 4.0,
          "name": "Alectinib",
          "xrefs": [
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "chembl.compound:CHEMBL1738797",
            "chembl.compound:CHEMBL3707320",
            "drugbank:DB11363",
            "hmdb:HMDB0248129",
            "kegg.drug:D10450",
            "kegg.drug:D10542",
            "pdb.ligand:EMH",
            "pubchem.compound:49806720"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385941,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "NCCCNCCSP(=O)(O)O",
          "identifier": "inchikey:JKOQGQFVAUAYPM-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C(CN)CNCCSP(=O)(O)O",
          "synonyms": [
            "20537-88-6",
            "2141",
            "Amifostina",
            "Amifostine Anhydrous",
            "Amifostine Ethiofos",
            "Amifostine disulfide",
            "Amifostine trihydrate",
            "Amifostinum",
            "Aminopropylaminoethyl thiophosphate",
            "Apaetp",
            "C06819",
            "CHEBI:2636",
            "CHEMBL1006",
            "D00226",
            "DB01143",
            "Ethiofos",
            "Ethiofos Anhydrous",
            "Ethyol",
            "Gammaphos",
            "HMDB0015274",
            "NSC-296961",
            "NSC-758236",
            "S-{2-[(3-aminopropyl)amino]ethyl} dihydrogen thiophosphate",
            "Sapep",
            "WR-1065",
            "WR-2721",
            "WR-2721 TRIHYDRATE",
            "YM-08310",
            "amifostine"
          ],
          "name": "Amifostine",
          "max_phase": 4.0,
          "xrefs": [
            "CHEBI:2636",
            "chembl.compound:CHEMBL1006",
            "drugbank:DB01143",
            "hmdb:HMDB0015274",
            "kegg.compound:C06819",
            "kegg.drug:D00226",
            "pubchem.compound:2141"
          ]
        }
      }
    }
  ]
}
2025-11-23 02:00:51,818 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 02:01:06,345 - INFO - Final answer generated.
2025-11-23 02:01:06,345 - INFO - Final topic generated.
2025-11-23 02:01:07,330 - INFO - Final answer: Dựa trên dữ liệu được cung cấp, các loại thuốc sau đây có liên quan đến việc điều trị ung thư phổi:

*   (R)-Nicotine
*   Bupropion
*   Olanzapine
*   Fludeoxyglucose F-18
*   Bupivacaine
*   Budesonide
*   Ropivacaine
*   NIVOLUMAB (còn được biết đến với tên Opdivo)
*   Prednisone
*   ATEZOLIZUMAB (còn được biết đến với tên Tecentriq)
*   Alectinib
*   Amifostine

Lưu ý: Thông tin này chỉ mang tính tham khảo và không thể thay thế cho lời khuyên, chẩn đoán hoặc điều trị y tế chuyên nghiệp.
2025-11-23 02:01:07,330 - INFO - Final title: Các thuốc chữa bệnh ung thư phổi
2025-11-23 02:01:07,332 - INFO - End time: 1763838067.332947
2025-11-23 02:01:07,332 - INFO - Total time for entire processing: 25.02938437461853
2025-11-23 02:09:25,699 - INFO - WebSocket connection closed.
2025-11-23 02:09:25,812 - INFO - Server is shutting down...
2025-11-23 02:09:28,930 - INFO - Server is starting up...
2025-11-23 02:09:28,932 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:10:03,561 - INFO - Server is shutting down...
2025-11-23 02:10:04,629 - INFO - Server is starting up...
2025-11-23 02:10:04,630 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:10:20,605 - INFO - WebSocket connection established.
2025-11-23 02:10:20,605 - INFO - Start time: 1763838620.6052577
2025-11-23 02:10:20,605 - INFO - Pipeline started for question: 'tôi muốn biết thông tin về ung thư phổi, cụ thể là những thuốc nào có thể chữa ung thư phổi?'
2025-11-23 02:10:20,605 - INFO - Is fisrt: True
2025-11-23 02:10:20,605 - INFO - Running tasks in parallel...
2025-11-23 02:10:28,177 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for drugs (Compounds) that treat a specific disease (lung cancer). I will use the /neighborhood endpoint to find Compound neighbors of the Disease 'lung cancer' connected by the 'TREATS_CtD' edge.",
  "entities": [
    {
      "name_in_query": "lung cancer",
      "normalized_type": "Disease",
      "id_placeholder": "lung_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get drugs (Compounds) that treat 'lung cancer'",
      "api_call": "/api/v1/neighborhood/Disease/name/lung cancer?edge_filters=TREATS_CtD&node_filters=Compound",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-23 02:10:30,095 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 416873,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CN1CCC[C@@H]1c1cccnc1",
          "identifier": "inchikey:SNICXCGAKADSCV-SNVBAGLBSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CN1CCC[C@@H]1C2=CN=CC=C2",
          "synonyms": [
            "(+)-Nicotine",
            "(R)-(+)-Nicotine",
            "(R)-3-(1-Methyl-2-pyrrolidinyl)pyridine",
            "(R)-nicotine",
            "157672",
            "2'-beta-H-Nicotine",
            "25162-00-9",
            "3-[(2R)-1-methylpyrrolidin-2-yl]pyridine",
            "C16386",
            "CHEBI:39162",
            "CHEBI:79008",
            "CHEMBL9732",
            "D-Nicotine",
            "Pseudonicotine",
            "R-NICOTINE"
          ],
          "name": "(R)-Nicotine",
          "xrefs": [
            "biocyc:R-NICOTINE",
            "CHEBI:39162",
            "CHEBI:79008",
            "chembl.compound:CHEMBL9732",
            "kegg.compound:C16386",
            "pubchem.compound:157672"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385055,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CC(NC(C)(C)C)C(=O)c1cccc(Cl)c1",
          "identifier": "inchikey:SNPPWIUOZRMYNY-UHFFFAOYSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC(C(=O)C1=CC(=CC=C1)Cl)NC(C)(C)C",
          "synonyms": [
            "(+-)-Bupropion",
            "2-(tert-butylamino)-1-(3-chlorophenyl)propan-1-one",
            "34841-39-9",
            "34911-55-2",
            "444",
            "Amfebutamona",
            "Amfebutamone",
            "Bupropion (INN)",
            "Bupropion extended release",
            "Bupropion slow release",
            "C06860",
            "CHEBI:3219",
            "CHEBI:3220",
            "CHEMBL1201735",
            "CHEMBL1698",
            "CHEMBL894",
            "CPD-3481",
            "D00817",
            "D07591",
            "D07938",
            "DB01156",
            "HMDB0001510",
            "NSC-758686",
            "Wellbatrin",
            "Wellbutrin",
            "Zyban",
            "amfebutamonum",
            "bupropion",
            "bupropione"
          ],
          "max_phase": 4.0,
          "name": "Bupropion",
          "xrefs": [
            "biocyc:CPD-3481",
            "CHEBI:3219",
            "CHEBI:3220",
            "chembl.compound:CHEMBL1201735",
            "chembl.compound:CHEMBL1698",
            "chembl.compound:CHEMBL894",
            "drugbank:DB01156",
            "hmdb:HMDB0001510",
            "kegg.compound:C06860",
            "kegg.drug:D00817",
            "kegg.drug:D07591",
            "kegg.drug:D07938",
            "pubchem.compound:444"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1623343,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "Cc1cc2c(s1)Nc1ccccc1N=C2N1CCN(C)CC1",
          "identifier": "inchikey:KVWDHTXUZHCGIO-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC1=CC2=C(S1)NC3=CC=CC=C3N=C2N4CCN(CC4)C",
          "synonyms": [
            "132539-06-1",
            "135398745",
            "2-Methyl-4-(4-methyl-1-piperazinyl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "2-methyl-4-(4-methylpiperazin-1-yl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "C07322",
            "CHEBI:7735",
            "CHEBI:94534",
            "CHEMBL715",
            "D00454",
            "DB00334",
            "HMDB0005012",
            "LY-170053",
            "LY170053",
            "Lanzac",
            "Olansek",
            "Olanzapin",
            "Olanzapine (JAN/USP/INN)",
            "Olanzapine Glenmark",
            "Olanzapine Mylan",
            "Olanzapine Teva",
            "Olanzapine apotex",
            "Olanzapine cipla",
            "Olazax",
            "Olazax Disperzi",
            "Zyprexa",
            "Zyprexa (TN)",
            "Zyprexa Intramuscular",
            "Zyprexa Velotab",
            "Zyprexa Zydis",
            "olanzapina",
            "olanzapine",
            "olanzapinum"
          ],
          "max_phase": 4.0,
          "name": "Olanzapine",
          "xrefs": [
            "CHEBI:7735",
            "CHEBI:94534",
            "chembl.compound:CHEMBL715",
            "drugbank:DB00334",
            "hmdb:HMDB0005012",
            "kegg.compound:C07322",
            "kegg.drug:D00454",
            "pubchem.compound:135398745"
          ]
        }
      }
    },
    {
      "data": {
        "id": 401890,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "O=C[C@H]([18F])[C@@H](O)[C@H](O)[C@H](O)CO",
          "identifier": "inchikey:AOYNUTHNTBLRMT-MXWOLSILSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "PubChem"
          ],
          "smiles": "C([C@H]([C@H]([C@@H]([C@H](C=O)[18F])O)O)O)O",
          "synonyms": [
            "(18F)-FDG",
            "18-F FDG",
            "18F-FDG",
            "2-deoxy-2-((18)F)fluoro-aldehydo-D-glucose",
            "68614",
            "CHEBI:49136",
            "CHEMBL1808698",
            "DB09502",
            "FLUDEOXYGLUCOSE F-18",
            "Fludeoxyglucose (18F)",
            "Fludeoxyglucose F 18",
            "Fludeoxyglucose, F-18"
          ],
          "name": "Fludeoxyglucose F-18",
          "xrefs": [
            "CHEBI:49136",
            "chembl.compound:CHEMBL1808698",
            "drugbank:DB09502",
            "pubchem.compound:68614"
          ]
        }
      }
    },
    {
      "data": {
        "id": 386149,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCCN1CCCCC1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:LEBVLXFERQHONN-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCCN1CCCCC1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(+-)-Bupivacaine",
            "(+/-)-Bupivacaine",
            "(RS)-bupivacaine",
            "1-Butyl-2',6'-pipecoloxylidide",
            "1-Butyl-N-(2,6-dimethylphenyl)-2-piperidinecarboxamide",
            "1-butyl-N-(2,6-dimethylphenyl)piperidine-2-carboxamide",
            "2180-92-9",
            "2474",
            "38396-39-3",
            "Bloqueina",
            "Bucaine",
            "Bucaine (TN)",
            "Bupivacaina",
            "Bupivacaina [INN-Spanish]",
            "Bupivacaine (USAN/INN)",
            "Bupivacaine HCL",
            "Bupivacaine HCL KIT",
            "Bupivacaine liposome",
            "Bupivacainum",
            "Bupivacainum [INN-Latin]",
            "C07529",
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "CHEMBL1098",
            "CHEMBL1200396",
            "D01450",
            "D07552",
            "DB00297",
            "DL-Bupivacaine",
            "DUR-843",
            "Exparel (TN)",
            "HMDB0014442",
            "LAC-43",
            "LIQ-865",
            "LIQ865",
            "Liposomal bupivacaine",
            "Marcaine",
            "Ropivacaine hydrochloride impurity, bupivacaine-",
            "SKY-0402",
            "SKY0402",
            "Sensorcaine",
            "bupivacaine",
            "cBupivacaine",
            "dl-1-Butyl-2',6'-pipecoloxylidide",
            "racemic bupivacaine"
          ],
          "max_phase": 4.0,
          "name": "Bupivacaine",
          "xrefs": [
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "chembl.compound:CHEMBL1098",
            "chembl.compound:CHEMBL1200396",
            "drugbank:DB00297",
            "hmdb:HMDB0014442",
            "kegg.compound:C07529",
            "kegg.drug:D01450",
            "kegg.drug:D07552",
            "pubchem.compound:2474"
          ]
        }
      }
    },
    {
      "data": {
        "id": 2277918,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@]5(C)[C@H]4[C@@H](O)C[C@]3(C)[C@]2(C(=O)CO)O1",
          "identifier": "inchikey:VOVIALXJUBGFJZ-KWVAZRHASA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@@]5([C@H]4[C@H](C[C@@]3([C@@]2(O1)C(=O)CO)C)O)C",
          "synonyms": [
            "(11beta,16alpha)-16,17-(Butylidenebis(oxy))-11,21-dihydroxypregna-1,4-diene-3,20-dione",
            "11beta,21-dihydroxy-16alpha,17alpha-(butane-1,1-diyldioxy)pregna-1,4-diene-3,20-dione",
            "51333-22-3",
            "5281004",
            "Budesonida",
            "Budesonide (JP18/USP/INN)",
            "CHEBI:3207",
            "CHEMBL1370",
            "D00246",
            "DB01222",
            "Entocort EC (TN)",
            "HMDB0015353",
            "MAP-0010",
            "MAP0010",
            "NSC-757788",
            "Pulmicort (TN)",
            "R01AD05",
            "Rhinocort (TN)",
            "S-1320",
            "Uceris (TN)",
            "budesonide"
          ],
          "max_phase": 4.0,
          "name": "Budesonide",
          "xrefs": [
            "CHEBI:3207",
            "chembl.compound:CHEMBL1370",
            "drugbank:DB01222",
            "hmdb:HMDB0015353",
            "kegg.drug:D00246",
            "pubchem.compound:5281004"
          ]
        }
      }
    },
    {
      "data": {
        "id": 418916,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCN1CCCC[C@H]1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:ZKMNUMMKYBVTFN-HNNXBMFYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCN1CCCC[C@H]1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(-)-1-Propyl-2',6'-pipecoloxylidide",
            "(-)-1-propyl-2',6'-dimethyl-2-piperidylcarboxyanilide",
            "(2S)-N-(2,6-dimethylphenyl)-1-propylpiperidine-2-carboxamide",
            "(S)-(-)-1-propyl-2',6'-pipecoloxylidide",
            "(S)-Ropivacaine",
            "175805",
            "84057-95-4",
            "C07532",
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "CHEMBL1077896",
            "CHEMBL1889140",
            "D04048",
            "D08490",
            "DB00296",
            "HMDB0014441",
            "L-N-n-propylpipecolic acid-2,6-xylidide",
            "Naropin (TN)",
            "Ropivacaina",
            "Ropivacaina [INN-Spanish]",
            "Ropivacaina [Spanish]",
            "Ropivacaine",
            "Ropivacaine (INN)",
            "Ropivacaine [INN]",
            "Ropivacainum",
            "Ropivacainum [INN-Latin]",
            "Ropivicaine",
            "S-Ropivacaine",
            "TLC-590",
            "TLC590"
          ],
          "max_phase": 4.0,
          "name": "Ropivacaine",
          "xrefs": [
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "chembl.compound:CHEMBL1077896",
            "chembl.compound:CHEMBL1889140",
            "drugbank:DB00296",
            "hmdb:HMDB0014441",
            "kegg.compound:C07532",
            "kegg.drug:D04048",
            "kegg.drug:D08490",
            "pubchem.compound:175805"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28122850,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "NIVOLUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL2108738",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "Opdivo",
            "MDX1106",
            "MDX-1106",
            "ONO-4538",
            "Nivolumab",
            "BMS-986298",
            "BMS-936558"
          ]
        }
      }
    },
    {
      "data": {
        "id": 388142,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "C[C@]12C=CC(=O)C=C1CC[C@@H]1[C@@H]2C(=O)C[C@@]2(C)[C@H]1CC[C@]2(O)C(=O)CO",
          "identifier": "inchikey:XOFYZVNMUHMLCC-ZPOLXVRWSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C[C@]12CC(=O)[C@H]3[C@H]([C@@H]1CC[C@@]2(C(=O)CO)O)CCC4=CC(=O)C=C[C@]34C",
          "synonyms": [
            "1,2-Dehydrocortisone",
            "1,4-Pregnadiene-17alpha,21-diol-3,11,20-trione",
            "17,21-Dihydroxypregna-1,4-diene-3,11,20-trione",
            "3en3hg4wsw",
            "53-03-2",
            "5865",
            "C07370",
            "CHEBI:8382",
            "CHEMBL635",
            "CPD-22917",
            "D00473",
            "DB00635",
            "Decortin",
            "Dehydrocortisone",
            "HMDB0014773",
            "Metacortandracin",
            "NSC-10023",
            "Prednison",
            "Prednisona",
            "Prednisona [INN-Spanish]",
            "Prednisone tablets",
            "Prednisonum",
            "Prednisonum [INN-Latin]",
            "Supercortil",
            "prednisone",
            "prednisone anhydrous"
          ],
          "max_phase": 4.0,
          "name": "Prednisone",
          "xrefs": [
            "biocyc:CPD-22917",
            "CHEBI:8382",
            "chembl.compound:CHEMBL635",
            "drugbank:DB00635",
            "hmdb:HMDB0014773",
            "kegg.compound:C07370",
            "kegg.drug:D00473",
            "pubchem.compound:5865"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28126416,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "ATEZOLIZUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL3707227",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "RG7446",
            "RG-7446",
            "MPDL3280A",
            "Tecentriq",
            "Anti-PDL1",
            "Anti-PD-L1",
            "0ine2sfd9e",
            "MPDL-3280A",
            "Atezolizumab"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1034329,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCc1cc2c(cc1N1CCC(N3CCOCC3)CC1)C(C)(C)c1[nH]c3cc(C#N)ccc3c1C2=O",
          "identifier": "inchikey:KDGFLJKFZUIJMX-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "Protein Data Bank in Europe (PDBe)",
            "PubChem"
          ],
          "smiles": "CCC1=CC2=C(C=C1N3CCC(CC3)N4CCOCC4)C(C5=C(C2=O)C6=C(N5)C=C(C=C6)C#N)(C)C",
          "synonyms": [
            "1256580-46-7",
            "49806720",
            "9-Ethyl-6,6-Dimethyl-8-[4-(Morpholin-4-Yl)piperidin-1-Yl]-11-Oxo-6,11-Dihydro-5h-Benzo[b]carbazole-3-Carbonitrile",
            "AF 802",
            "AF-802",
            "AF802",
            "Alectinib",
            "Alectinib (USAN/INN)",
            "CH 5424802",
            "CH-5424802",
            "CH5424802",
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "CHEMBL1738797",
            "CHEMBL3707320",
            "D10450",
            "D10542",
            "DB11363",
            "EMH",
            "HMDB0248129",
            "RO-5424802",
            "RO5424802"
          ],
          "max_phase": 4.0,
          "name": "Alectinib",
          "xrefs": [
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "chembl.compound:CHEMBL1738797",
            "chembl.compound:CHEMBL3707320",
            "drugbank:DB11363",
            "hmdb:HMDB0248129",
            "kegg.drug:D10450",
            "kegg.drug:D10542",
            "pdb.ligand:EMH",
            "pubchem.compound:49806720"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385941,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "NCCCNCCSP(=O)(O)O",
          "identifier": "inchikey:JKOQGQFVAUAYPM-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C(CN)CNCCSP(=O)(O)O",
          "synonyms": [
            "20537-88-6",
            "2141",
            "Amifostina",
            "Amifostine Anhydrous",
            "Amifostine Ethiofos",
            "Amifostine disulfide",
            "Amifostine trihydrate",
            "Amifostinum",
            "Aminopropylaminoethyl thiophosphate",
            "Apaetp",
            "C06819",
            "CHEBI:2636",
            "CHEMBL1006",
            "D00226",
            "DB01143",
            "Ethiofos",
            "Ethiofos Anhydrous",
            "Ethyol",
            "Gammaphos",
            "HMDB0015274",
            "NSC-296961",
            "NSC-758236",
            "S-{2-[(3-aminopropyl)amino]ethyl} dihydrogen thiophosphate",
            "Sapep",
            "WR-1065",
            "WR-2721",
            "WR-2721 TRIHYDRATE",
            "YM-08310",
            "amifostine"
          ],
          "name": "Amifostine",
          "max_phase": 4.0,
          "xrefs": [
            "CHEBI:2636",
            "chembl.compound:CHEMBL1006",
            "drugbank:DB01143",
            "hmdb:HMDB0015274",
            "kegg.compound:C06819",
            "kegg.drug:D00226",
            "pubchem.compound:2141"
          ]
        }
      }
    }
  ]
}
2025-11-23 02:10:30,104 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 02:10:41,502 - INFO - Final answer generated.
2025-11-23 02:10:41,510 - INFO - Final topic generated.
2025-11-23 02:10:42,215 - INFO - Final answer: Dựa trên dữ liệu được cung cấp, đây là danh sách các hợp chất/thuốc đã được tìm thấy:

*   (R)-Nicotine
*   Bupropion
*   Olanzapine
*   Fludeoxyglucose F-18
*   Bupivacaine
*   Budesonide
*   Ropivacaine
*   NIVOLUMAB (còn được biết đến với tên Opdivo)
*   Prednisone
*   ATEZOLIZUMAB (còn được biết đến với tên Tecentriq)
*   Alectinib
*   Amifostine

Tuy nhiên, thông tin được cung cấp không nêu rõ mối liên hệ điều trị của các loại thuốc này đối với bệnh ung thư phổi.

Lưu ý: Thông tin này chỉ mang tính tham khảo và không thể thay thế cho lời khuyên, chẩn đoán hoặc điều trị y tế chuyên nghiệp.
2025-11-23 02:10:42,215 - INFO - Final title: Thuốc điều trị ung thư phổi
2025-11-23 02:10:42,215 - INFO - End time: 1763838642.2159038
2025-11-23 02:10:42,215 - INFO - Total time for entire processing: 21.61064600944519
2025-11-23 02:11:57,190 - INFO - WebSocket connection closed.
2025-11-23 02:11:57,305 - INFO - Server is shutting down...
2025-11-23 02:12:00,357 - INFO - Server is starting up...
2025-11-23 02:12:00,362 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:12:08,019 - INFO - WebSocket connection established.
2025-11-23 02:12:08,024 - INFO - Start time: 1763838728.0247462
2025-11-23 02:12:08,024 - INFO - Pipeline started for question: 'tôi muốn biết thông tin về ung thư phổi, cụ thể là những thuốc nào có thể chữa ung thư phổi?'
2025-11-23 02:12:08,024 - INFO - Is fisrt: False
2025-11-23 02:12:08,026 - INFO - Running tasks in parallel...
2025-11-23 02:12:16,716 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for compounds (drugs) that treat a specific disease (lung cancer). The plan is to use the /neighborhood endpoint to find 'Compound' neighbors of the 'Disease' node named 'lung cancer' via the 'TREATS_CtD' edge.",
  "entities": [
    {
      "name_in_query": "lung cancer",
      "normalized_type": "Disease",
      "id_placeholder": "lung_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get compounds that treat 'lung cancer'",
      "api_call": "/api/v1/neighborhood/Disease/name/lung cancer?edge_filters=TREATS_CtD&node_filters=Compound",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-23 02:12:17,665 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 416873,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CN1CCC[C@@H]1c1cccnc1",
          "identifier": "inchikey:SNICXCGAKADSCV-SNVBAGLBSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CN1CCC[C@@H]1C2=CN=CC=C2",
          "synonyms": [
            "(+)-Nicotine",
            "(R)-(+)-Nicotine",
            "(R)-3-(1-Methyl-2-pyrrolidinyl)pyridine",
            "(R)-nicotine",
            "157672",
            "2'-beta-H-Nicotine",
            "25162-00-9",
            "3-[(2R)-1-methylpyrrolidin-2-yl]pyridine",
            "C16386",
            "CHEBI:39162",
            "CHEBI:79008",
            "CHEMBL9732",
            "D-Nicotine",
            "Pseudonicotine",
            "R-NICOTINE"
          ],
          "name": "(R)-Nicotine",
          "xrefs": [
            "biocyc:R-NICOTINE",
            "CHEBI:39162",
            "CHEBI:79008",
            "chembl.compound:CHEMBL9732",
            "kegg.compound:C16386",
            "pubchem.compound:157672"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385055,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CC(NC(C)(C)C)C(=O)c1cccc(Cl)c1",
          "identifier": "inchikey:SNPPWIUOZRMYNY-UHFFFAOYSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC(C(=O)C1=CC(=CC=C1)Cl)NC(C)(C)C",
          "synonyms": [
            "(+-)-Bupropion",
            "2-(tert-butylamino)-1-(3-chlorophenyl)propan-1-one",
            "34841-39-9",
            "34911-55-2",
            "444",
            "Amfebutamona",
            "Amfebutamone",
            "Bupropion (INN)",
            "Bupropion extended release",
            "Bupropion slow release",
            "C06860",
            "CHEBI:3219",
            "CHEBI:3220",
            "CHEMBL1201735",
            "CHEMBL1698",
            "CHEMBL894",
            "CPD-3481",
            "D00817",
            "D07591",
            "D07938",
            "DB01156",
            "HMDB0001510",
            "NSC-758686",
            "Wellbatrin",
            "Wellbutrin",
            "Zyban",
            "amfebutamonum",
            "bupropion",
            "bupropione"
          ],
          "max_phase": 4.0,
          "name": "Bupropion",
          "xrefs": [
            "biocyc:CPD-3481",
            "CHEBI:3219",
            "CHEBI:3220",
            "chembl.compound:CHEMBL1201735",
            "chembl.compound:CHEMBL1698",
            "chembl.compound:CHEMBL894",
            "drugbank:DB01156",
            "hmdb:HMDB0001510",
            "kegg.compound:C06860",
            "kegg.drug:D00817",
            "kegg.drug:D07591",
            "kegg.drug:D07938",
            "pubchem.compound:444"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1623343,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "Cc1cc2c(s1)Nc1ccccc1N=C2N1CCN(C)CC1",
          "identifier": "inchikey:KVWDHTXUZHCGIO-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CC1=CC2=C(S1)NC3=CC=CC=C3N=C2N4CCN(CC4)C",
          "synonyms": [
            "132539-06-1",
            "135398745",
            "2-Methyl-4-(4-methyl-1-piperazinyl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "2-methyl-4-(4-methylpiperazin-1-yl)-10H-thieno[2,3-b][1,5]benzodiazepine",
            "C07322",
            "CHEBI:7735",
            "CHEBI:94534",
            "CHEMBL715",
            "D00454",
            "DB00334",
            "HMDB0005012",
            "LY-170053",
            "LY170053",
            "Lanzac",
            "Olansek",
            "Olanzapin",
            "Olanzapine (JAN/USP/INN)",
            "Olanzapine Glenmark",
            "Olanzapine Mylan",
            "Olanzapine Teva",
            "Olanzapine apotex",
            "Olanzapine cipla",
            "Olazax",
            "Olazax Disperzi",
            "Zyprexa",
            "Zyprexa (TN)",
            "Zyprexa Intramuscular",
            "Zyprexa Velotab",
            "Zyprexa Zydis",
            "olanzapina",
            "olanzapine",
            "olanzapinum"
          ],
          "max_phase": 4.0,
          "name": "Olanzapine",
          "xrefs": [
            "CHEBI:7735",
            "CHEBI:94534",
            "chembl.compound:CHEMBL715",
            "drugbank:DB00334",
            "hmdb:HMDB0005012",
            "kegg.compound:C07322",
            "kegg.drug:D00454",
            "pubchem.compound:135398745"
          ]
        }
      }
    },
    {
      "data": {
        "id": 401890,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "O=C[C@H]([18F])[C@@H](O)[C@H](O)[C@H](O)CO",
          "identifier": "inchikey:AOYNUTHNTBLRMT-MXWOLSILSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "PubChem"
          ],
          "smiles": "C([C@H]([C@H]([C@@H]([C@H](C=O)[18F])O)O)O)O",
          "synonyms": [
            "(18F)-FDG",
            "18-F FDG",
            "18F-FDG",
            "2-deoxy-2-((18)F)fluoro-aldehydo-D-glucose",
            "68614",
            "CHEBI:49136",
            "CHEMBL1808698",
            "DB09502",
            "FLUDEOXYGLUCOSE F-18",
            "Fludeoxyglucose (18F)",
            "Fludeoxyglucose F 18",
            "Fludeoxyglucose, F-18"
          ],
          "name": "Fludeoxyglucose F-18",
          "xrefs": [
            "CHEBI:49136",
            "chembl.compound:CHEMBL1808698",
            "drugbank:DB09502",
            "pubchem.compound:68614"
          ]
        }
      }
    },
    {
      "data": {
        "id": 386149,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCCN1CCCCC1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:LEBVLXFERQHONN-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCCN1CCCCC1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(+-)-Bupivacaine",
            "(+/-)-Bupivacaine",
            "(RS)-bupivacaine",
            "1-Butyl-2',6'-pipecoloxylidide",
            "1-Butyl-N-(2,6-dimethylphenyl)-2-piperidinecarboxamide",
            "1-butyl-N-(2,6-dimethylphenyl)piperidine-2-carboxamide",
            "2180-92-9",
            "2474",
            "38396-39-3",
            "Bloqueina",
            "Bucaine",
            "Bucaine (TN)",
            "Bupivacaina",
            "Bupivacaina [INN-Spanish]",
            "Bupivacaine (USAN/INN)",
            "Bupivacaine HCL",
            "Bupivacaine HCL KIT",
            "Bupivacaine liposome",
            "Bupivacainum",
            "Bupivacainum [INN-Latin]",
            "C07529",
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "CHEMBL1098",
            "CHEMBL1200396",
            "D01450",
            "D07552",
            "DB00297",
            "DL-Bupivacaine",
            "DUR-843",
            "Exparel (TN)",
            "HMDB0014442",
            "LAC-43",
            "LIQ-865",
            "LIQ865",
            "Liposomal bupivacaine",
            "Marcaine",
            "Ropivacaine hydrochloride impurity, bupivacaine-",
            "SKY-0402",
            "SKY0402",
            "Sensorcaine",
            "bupivacaine",
            "cBupivacaine",
            "dl-1-Butyl-2',6'-pipecoloxylidide",
            "racemic bupivacaine"
          ],
          "max_phase": 4.0,
          "name": "Bupivacaine",
          "xrefs": [
            "CHEBI:31322",
            "CHEBI:60789",
            "CHEBI:77431",
            "CHEBI:77441",
            "CHEBI:77449",
            "CHEBI:77455",
            "CHEBI:77457",
            "chembl.compound:CHEMBL1098",
            "chembl.compound:CHEMBL1200396",
            "drugbank:DB00297",
            "hmdb:HMDB0014442",
            "kegg.compound:C07529",
            "kegg.drug:D01450",
            "kegg.drug:D07552",
            "pubchem.compound:2474"
          ]
        }
      }
    },
    {
      "data": {
        "id": 2277918,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@]5(C)[C@H]4[C@@H](O)C[C@]3(C)[C@]2(C(=O)CO)O1",
          "identifier": "inchikey:VOVIALXJUBGFJZ-KWVAZRHASA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCC1O[C@@H]2C[C@H]3[C@@H]4CCC5=CC(=O)C=C[C@@]5([C@H]4[C@H](C[C@@]3([C@@]2(O1)C(=O)CO)C)O)C",
          "synonyms": [
            "(11beta,16alpha)-16,17-(Butylidenebis(oxy))-11,21-dihydroxypregna-1,4-diene-3,20-dione",
            "11beta,21-dihydroxy-16alpha,17alpha-(butane-1,1-diyldioxy)pregna-1,4-diene-3,20-dione",
            "51333-22-3",
            "5281004",
            "Budesonida",
            "Budesonide (JP18/USP/INN)",
            "CHEBI:3207",
            "CHEMBL1370",
            "D00246",
            "DB01222",
            "Entocort EC (TN)",
            "HMDB0015353",
            "MAP-0010",
            "MAP0010",
            "NSC-757788",
            "Pulmicort (TN)",
            "R01AD05",
            "Rhinocort (TN)",
            "S-1320",
            "Uceris (TN)",
            "budesonide"
          ],
          "max_phase": 4.0,
          "name": "Budesonide",
          "xrefs": [
            "CHEBI:3207",
            "chembl.compound:CHEMBL1370",
            "drugbank:DB01222",
            "hmdb:HMDB0015353",
            "kegg.drug:D00246",
            "pubchem.compound:5281004"
          ]
        }
      }
    },
    {
      "data": {
        "id": 418916,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCCN1CCCC[C@H]1C(=O)Nc1c(C)cccc1C",
          "identifier": "inchikey:ZKMNUMMKYBVTFN-HNNXBMFYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "CCCN1CCCC[C@H]1C(=O)NC2=C(C=CC=C2C)C",
          "synonyms": [
            "(-)-1-Propyl-2',6'-pipecoloxylidide",
            "(-)-1-propyl-2',6'-dimethyl-2-piperidylcarboxyanilide",
            "(2S)-N-(2,6-dimethylphenyl)-1-propylpiperidine-2-carboxamide",
            "(S)-(-)-1-propyl-2',6'-pipecoloxylidide",
            "(S)-Ropivacaine",
            "175805",
            "84057-95-4",
            "C07532",
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "CHEMBL1077896",
            "CHEMBL1889140",
            "D04048",
            "D08490",
            "DB00296",
            "HMDB0014441",
            "L-N-n-propylpipecolic acid-2,6-xylidide",
            "Naropin (TN)",
            "Ropivacaina",
            "Ropivacaina [INN-Spanish]",
            "Ropivacaina [Spanish]",
            "Ropivacaine",
            "Ropivacaine (INN)",
            "Ropivacaine [INN]",
            "Ropivacainum",
            "Ropivacainum [INN-Latin]",
            "Ropivicaine",
            "S-Ropivacaine",
            "TLC-590",
            "TLC590"
          ],
          "max_phase": 4.0,
          "name": "Ropivacaine",
          "xrefs": [
            "CHEBI:34954",
            "CHEBI:60803",
            "CHEBI:8890",
            "chembl.compound:CHEMBL1077896",
            "chembl.compound:CHEMBL1889140",
            "drugbank:DB00296",
            "hmdb:HMDB0014441",
            "kegg.compound:C07532",
            "kegg.drug:D04048",
            "kegg.drug:D08490",
            "pubchem.compound:175805"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28122850,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "NIVOLUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL2108738",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "Opdivo",
            "MDX1106",
            "MDX-1106",
            "ONO-4538",
            "Nivolumab",
            "BMS-986298",
            "BMS-936558"
          ]
        }
      }
    },
    {
      "data": {
        "id": 388142,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "C[C@]12C=CC(=O)C=C1CC[C@@H]1[C@@H]2C(=O)C[C@@]2(C)[C@H]1CC[C@]2(O)C(=O)CO",
          "identifier": "inchikey:XOFYZVNMUHMLCC-ZPOLXVRWSA-N",
          "sources": [
            "BioCyc",
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C[C@]12CC(=O)[C@H]3[C@H]([C@@H]1CC[C@@]2(C(=O)CO)O)CCC4=CC(=O)C=C[C@]34C",
          "synonyms": [
            "1,2-Dehydrocortisone",
            "1,4-Pregnadiene-17alpha,21-diol-3,11,20-trione",
            "17,21-Dihydroxypregna-1,4-diene-3,11,20-trione",
            "3en3hg4wsw",
            "53-03-2",
            "5865",
            "C07370",
            "CHEBI:8382",
            "CHEMBL635",
            "CPD-22917",
            "D00473",
            "DB00635",
            "Decortin",
            "Dehydrocortisone",
            "HMDB0014773",
            "Metacortandracin",
            "NSC-10023",
            "Prednison",
            "Prednisona",
            "Prednisona [INN-Spanish]",
            "Prednisone tablets",
            "Prednisonum",
            "Prednisonum [INN-Latin]",
            "Supercortil",
            "prednisone",
            "prednisone anhydrous"
          ],
          "max_phase": 4.0,
          "name": "Prednisone",
          "xrefs": [
            "biocyc:CPD-22917",
            "CHEBI:8382",
            "chembl.compound:CHEMBL635",
            "drugbank:DB00635",
            "hmdb:HMDB0014773",
            "kegg.compound:C07370",
            "kegg.drug:D00473",
            "pubchem.compound:5865"
          ]
        }
      }
    },
    {
      "data": {
        "id": 28126416,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "name": "ATEZOLIZUMAB",
          "max_phase": 4.0,
          "identifier": "chembl.compound:CHEMBL3707227",
          "sources": [
            "ChEMBL"
          ],
          "synonyms": [
            "RG7446",
            "RG-7446",
            "MPDL3280A",
            "Tecentriq",
            "Anti-PDL1",
            "Anti-PD-L1",
            "0ine2sfd9e",
            "MPDL-3280A",
            "Atezolizumab"
          ]
        }
      }
    },
    {
      "data": {
        "id": 1034329,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "CCc1cc2c(cc1N1CCC(N3CCOCC3)CC1)C(C)(C)c1[nH]c3cc(C#N)ccc3c1C2=O",
          "identifier": "inchikey:KDGFLJKFZUIJMX-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "Protein Data Bank in Europe (PDBe)",
            "PubChem"
          ],
          "smiles": "CCC1=CC2=C(C=C1N3CCC(CC3)N4CCOCC4)C(C5=C(C2=O)C6=C(N5)C=C(C=C6)C#N)(C)C",
          "synonyms": [
            "1256580-46-7",
            "49806720",
            "9-Ethyl-6,6-Dimethyl-8-[4-(Morpholin-4-Yl)piperidin-1-Yl]-11-Oxo-6,11-Dihydro-5h-Benzo[b]carbazole-3-Carbonitrile",
            "AF 802",
            "AF-802",
            "AF802",
            "Alectinib",
            "Alectinib (USAN/INN)",
            "CH 5424802",
            "CH-5424802",
            "CH5424802",
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "CHEMBL1738797",
            "CHEMBL3707320",
            "D10450",
            "D10542",
            "DB11363",
            "EMH",
            "HMDB0248129",
            "RO-5424802",
            "RO5424802"
          ],
          "max_phase": 4.0,
          "name": "Alectinib",
          "xrefs": [
            "CHEBI:62268",
            "CHEBI:90936",
            "CHEBI:90937",
            "chembl.compound:CHEMBL1738797",
            "chembl.compound:CHEMBL3707320",
            "drugbank:DB11363",
            "hmdb:HMDB0248129",
            "kegg.drug:D10450",
            "kegg.drug:D10542",
            "pdb.ligand:EMH",
            "pubchem.compound:49806720"
          ]
        }
      }
    },
    {
      "data": {
        "id": 385941,
        "neo4j_type": "Compound",
        "neo4j_root": 0,
        "properties": {
          "standardized_smiles": "NCCCNCCSP(=O)(O)O",
          "identifier": "inchikey:JKOQGQFVAUAYPM-UHFFFAOYSA-N",
          "sources": [
            "ChEBI",
            "ChEMBL",
            "DrugBank",
            "Human Metabolome Database (HMDB)",
            "KEGG",
            "PubChem"
          ],
          "smiles": "C(CN)CNCCSP(=O)(O)O",
          "synonyms": [
            "20537-88-6",
            "2141",
            "Amifostina",
            "Amifostine Anhydrous",
            "Amifostine Ethiofos",
            "Amifostine disulfide",
            "Amifostine trihydrate",
            "Amifostinum",
            "Aminopropylaminoethyl thiophosphate",
            "Apaetp",
            "C06819",
            "CHEBI:2636",
            "CHEMBL1006",
            "D00226",
            "DB01143",
            "Ethiofos",
            "Ethiofos Anhydrous",
            "Ethyol",
            "Gammaphos",
            "HMDB0015274",
            "NSC-296961",
            "NSC-758236",
            "S-{2-[(3-aminopropyl)amino]ethyl} dihydrogen thiophosphate",
            "Sapep",
            "WR-1065",
            "WR-2721",
            "WR-2721 TRIHYDRATE",
            "YM-08310",
            "amifostine"
          ],
          "name": "Amifostine",
          "max_phase": 4.0,
          "xrefs": [
            "CHEBI:2636",
            "chembl.compound:CHEMBL1006",
            "drugbank:DB01143",
            "hmdb:HMDB0015274",
            "kegg.compound:C06819",
            "kegg.drug:D00226",
            "pubchem.compound:2141"
          ]
        }
      }
    }
  ]
}
2025-11-23 02:12:17,674 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 02:12:29,027 - INFO - Final answer generated.
2025-11-23 02:12:29,027 - INFO - Final answer: Dựa trên dữ liệu được cung cấp, đây là danh sách các hợp chất/thuốc đã được tìm thấy:

*   (R)-Nicotine
*   Bupropion
*   Olanzapine
*   Fludeoxyglucose F-18
*   Bupivacaine
*   Budesonide
*   Ropivacaine
*   NIVOLUMAB (còn được biết đến với tên Opdivo)
*   Prednisone
*   ATEZOLIZUMAB (còn được biết đến với tên Tecentriq)
*   Alectinib
*   Amifostine

Tuy nhiên, thông tin được cung cấp không nêu rõ mối liên hệ điều trị của các loại thuốc này đối với bệnh ung thư phổi.

Lưu ý: Thông tin này chỉ mang tính tham khảo và không thể thay thế cho lời khuyên, chẩn đoán hoặc điều trị y tế chuyên nghiệp.
2025-11-23 02:12:29,033 - INFO - Final title: None
2025-11-23 02:12:29,033 - INFO - End time: 1763838749.0333047
2025-11-23 02:12:29,033 - INFO - Total time for entire processing: 21.00855851173401
2025-11-23 02:12:56,056 - INFO - WebSocket connection closed.
2025-11-23 02:13:12,601 - INFO - Server is shutting down...
2025-11-23 02:13:15,707 - INFO - Server is starting up...
2025-11-23 02:13:15,707 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:13:16,684 - INFO - Server is starting up...
2025-11-23 02:13:16,684 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:13:17,691 - INFO - Server is starting up...
2025-11-23 02:13:17,691 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:13:23,202 - INFO - WebSocket connection established.
2025-11-23 02:13:23,205 - INFO - Start time: 1763838803.205751
2025-11-23 02:13:23,205 - INFO - Pipeline started for question: 'Whyyy ?'
2025-11-23 02:13:23,205 - INFO - Is fisrt: False
2025-11-23 02:13:23,205 - INFO - Running tasks in parallel...
2025-11-23 02:13:31,613 - INFO - Plan created: {
  "query_type": "unplannable",
  "thought": "The user's query 'Why?' is too ambiguous and does not contain any recognizable biomedical entities (like genes, diseases, compounds, etc.) that can be used to query the SPOKE database. Therefore, no execution plan can be generated.",
  "entities": [],
  "plan": []
}
2025-11-23 02:13:31,613 - INFO - Context store: {}
2025-11-23 02:13:31,618 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 02:13:32,443 - INFO - Final answer generated.
2025-11-23 02:13:32,443 - INFO - Final answer: Tôi xin lỗi, nhưng tôi không tìm thấy thông tin nào về câu hỏi "Why?".
2025-11-23 02:13:32,443 - INFO - Final title: None
2025-11-23 02:13:32,443 - INFO - End time: 1763838812.4434502
2025-11-23 02:13:32,443 - INFO - Total time for entire processing: 9.237699270248413
2025-11-23 02:13:43,035 - INFO - WebSocket connection closed.
2025-11-23 02:13:43,149 - INFO - Server is shutting down...
2025-11-23 02:13:46,163 - INFO - Server is starting up...
2025-11-23 02:13:46,163 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:13:51,280 - INFO - WebSocket connection established.
2025-11-23 02:13:51,280 - INFO - Start time: 1763838831.2801816
2025-11-23 02:13:51,280 - INFO - Pipeline started for question: 'Whyyy ?'
2025-11-23 02:13:51,285 - INFO - Is fisrt: True
2025-11-23 02:13:51,286 - INFO - Running tasks in parallel...
2025-11-23 02:14:03,066 - INFO - Plan created: {
  "query_type": "unplannable",
  "thought": "The user's query 'Why?' is too ambiguous and does not contain any recognizable biomedical entities (like genes, diseases, compounds, etc.) that can be used to query the SPOKE database. Therefore, no execution plan can be generated.",
  "entities": [],
  "plan": []
}
2025-11-23 02:14:03,070 - INFO - Context store: {}
2025-11-23 02:14:03,071 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 02:14:03,883 - INFO - Final answer generated.
2025-11-23 02:14:03,883 - INFO - Final topic generated.
2025-11-23 02:14:04,608 - INFO - Final answer: Tôi xin lỗi, nhưng tôi không tìm thấy thông tin nào về câu hỏi "Why?".
2025-11-23 02:14:04,608 - INFO - Final title: General Discussion
2025-11-23 02:14:04,622 - INFO - End time: 1763838844.6221058
2025-11-23 02:14:04,622 - INFO - Total time for entire processing: 13.34192419052124
2025-11-23 02:14:35,762 - INFO - WebSocket connection closed.
2025-11-23 02:14:35,864 - INFO - Server is shutting down...
2025-11-23 02:14:38,959 - INFO - Server is starting up...
2025-11-23 02:14:38,962 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-23 02:14:43,292 - INFO - WebSocket connection established.
2025-11-23 02:14:43,299 - INFO - Start time: 1763838883.2990074
2025-11-23 02:14:43,299 - INFO - Pipeline started for question: 'Tại sao, tôi không hiểu ?'
2025-11-23 02:14:43,300 - INFO - Is fisrt: True
2025-11-23 02:14:43,300 - INFO - Running tasks in parallel...
2025-11-23 02:14:52,594 - INFO - Plan created: {
  "query_type": "unanswerable",
  "thought": "The user's query 'I don't understand why?' is too vague and does not contain any recognizable biomedical entities (like genes, diseases, compounds) or relationships that can be mapped to the SPOKE API. Therefore, a query plan cannot be generated.",
  "entities": [],
  "plan": []
}
2025-11-23 02:14:52,594 - INFO - Context store: {}
2025-11-23 02:14:52,598 - INFO - Execution completed. Final Context Store is ready.
2025-11-23 02:14:53,429 - INFO - Final answer generated.
2025-11-23 02:14:53,430 - INFO - Final topic generated.
2025-11-23 02:14:54,234 - INFO - Final answer: Chào bạn, rất tiếc, tôi không tìm thấy thông tin nào liên quan đến câu hỏi "Tại sao, tôi không hiểu ?" trong cơ sở dữ liệu của mình.
2025-11-23 02:14:54,236 - INFO - Final title: Không hiểu vấn đề gì?
2025-11-23 02:14:54,236 - INFO - End time: 1763838894.236295
2025-11-23 02:14:54,236 - INFO - Total time for entire processing: 10.93728756904602
2025-11-23 02:15:20,127 - INFO - WebSocket connection closed.
2025-11-23 02:15:22,308 - INFO - Server is shutting down...
