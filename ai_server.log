2025-11-16 03:34:53,828 - INFO - Server is starting up...
2025-11-16 03:34:53,853 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-16 03:35:00,645 - INFO - WebSocket connection established.
2025-11-16 03:36:41,589 - INFO - Start time: 1763239001.5890622
2025-11-16 03:36:41,589 - INFO - Pipeline started for question: 'What adverse event is caused by Fulvestrant ?'
2025-11-16 03:36:50,976 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for side effects (adverse events) caused by a compound. I will start with the Compound 'Fulvestrant' and find its neighboring SideEffect nodes using the CAUSES_CcSE edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-16 03:36:52,821 - INFO - Execution completed. Final Context Store is ready.
2025-11-16 03:37:07,020 - INFO - Final answer generated.
2025-11-16 03:37:07,021 - INFO - End time: 1763239027.0219877
2025-11-16 03:37:07,023 - INFO - Total time for entire processing: 25.43292546272278
2025-11-16 03:45:45,816 - INFO - WebSocket connection closed.
2025-11-17 10:19:14,403 - INFO - Server is starting up...
2025-11-17 10:19:14,430 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 10:19:42,410 - INFO - WebSocket connection established.
2025-11-17 10:19:42,410 - INFO - Start time: 1763349582.410911
2025-11-17 10:19:42,425 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 10:19:51,477 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for symptoms of a compound. I will find the 'Compound' node for 'Aspirin' and then find its neighboring 'Symptom' nodes connected by the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get symptoms caused by 'Aspirin'",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 10:19:53,300 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 10:19:53,300 - INFO - Final answer generated.
2025-11-17 10:19:53,300 - INFO - End time: 1763349593.3003182
2025-11-17 10:19:53,300 - INFO - Total time for entire processing: 10.88940715789795
2025-11-17 10:20:40,189 - INFO - WebSocket connection closed.
2025-11-17 10:20:53,150 - INFO - Server is shutting down...
2025-11-17 10:21:41,672 - INFO - Server is starting up...
2025-11-17 10:21:41,675 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 10:22:07,716 - INFO - WebSocket connection established.
2025-11-17 10:22:07,716 - INFO - Start time: 1763349727.7168715
2025-11-17 10:22:07,716 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 10:22:17,646 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the symptoms of Aspirin. In the SPOKE schema, this relationship is modeled as a Compound causing a SideEffect. Therefore, this is a one-hop query from the Compound 'Aspirin' to the SideEffect node type via the CAUSES_CcSE edge.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Aspirin'.",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 10:22:18,684 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 10:22:30,287 - INFO - Final answer generated.
2025-11-17 10:22:30,287 - INFO - End time: 1763349750.2879412
2025-11-17 10:22:30,287 - INFO - Total time for entire processing: 22.571069717407227
2025-11-17 10:25:22,938 - INFO - WebSocket connection closed.
2025-11-17 10:25:28,457 - INFO - WebSocket connection established.
2025-11-17 10:25:28,457 - INFO - Start time: 1763349928.4579148
2025-11-17 10:25:28,457 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 10:25:40,050 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the symptoms of Aspirin. In the SPOKE schema, this relationship is modeled as a Compound causing a SideEffect. Therefore, this is a one-hop query from the Compound 'Aspirin' to the SideEffect node type via the CAUSES_CcSE edge.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Aspirin'.",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 10:25:40,886 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 10:26:00,469 - INFO - Final answer generated.
2025-11-17 10:26:00,469 - INFO - End time: 1763349960.4699156
2025-11-17 10:26:00,469 - INFO - Total time for entire processing: 32.01200079917908
2025-11-17 10:26:19,534 - INFO - WebSocket connection closed.
2025-11-17 10:26:19,650 - INFO - Server is shutting down...
2025-11-17 10:57:26,868 - INFO - Server is starting up...
2025-11-17 10:57:26,883 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 10:57:32,051 - INFO - WebSocket connection established.
2025-11-17 10:57:32,061 - INFO - Start time: 1763351852.0616202
2025-11-17 10:57:32,062 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 10:57:49,191 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the symptoms of Aspirin. In the SPOKE schema, the adverse effects of a compound are represented by the 'SideEffect' node type. The relationship is Compound-CAUSES_CcSE-SideEffect. Therefore, this is a one-hop query to find all SideEffect nodes connected to the Compound 'Aspirin'.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by 'Aspirin'",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 10:57:50,910 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27968626,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Lightheadedness",
          "identifier": "C0220870",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968609,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Tinnitus",
          "identifier": "C0040264",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968484,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Syncope",
          "identifier": "C0039070",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968327,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Rash",
          "identifier": "C0015230",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27970405,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Arthritic pains",
          "identifier": "C0857177",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968307,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Anaemia",
          "identifier": "C0002871",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968317,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Chest pain",
          "identifier": "C0008031",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969054,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatocellular injury",
          "identifier": "C0151763",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968326,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Dyspnoea",
          "identifier": "C0013404",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969624,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Peptic ulcer",
          "identifier": "C0030920",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969785,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Metabolic acidosis",
          "identifier": "C0220981",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27970402,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Reye's syndrome",
          "identifier": "C0035400",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968415,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Ulcer",
          "identifier": "C0041582",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969745,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Breast feeding",
          "identifier": "C0006147",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-17 10:57:50,913 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 10:58:01,199 - INFO - Final answer generated.
2025-11-17 10:58:01,199 - INFO - End time: 1763351881.1999717
2025-11-17 10:58:01,199 - INFO - Total time for entire processing: 29.138351440429688
2025-11-17 11:00:21,115 - INFO - WebSocket connection closed.
2025-11-17 11:14:34,792 - INFO - Server is shutting down...
2025-11-17 11:14:38,324 - INFO - Server is starting up...
2025-11-17 11:14:38,327 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 11:15:06,892 - INFO - Server is shutting down...
2025-11-17 11:15:07,881 - INFO - Server is starting up...
2025-11-17 11:15:07,881 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 11:15:17,369 - INFO - Server is shutting down...
2025-11-17 11:15:18,412 - INFO - Server is starting up...
2025-11-17 11:15:18,412 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 11:15:28,785 - INFO - Server is shutting down...
2025-11-17 11:25:14,551 - INFO - Server is starting up...
2025-11-17 11:25:14,553 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 11:25:22,630 - INFO - WebSocket connection established.
2025-11-17 11:25:22,636 - INFO - Start time: 1763353522.6366348
2025-11-17 11:25:22,636 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 11:25:36,962 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the symptoms of Aspirin. In the SPOKE schema, the adverse effects of a compound are represented by the 'SideEffect' node type. The relationship is Compound-CAUSES_CcSE-SideEffect. Therefore, this is a one-hop query to find all SideEffect nodes connected to the Compound 'Aspirin'.",
  "entities": [
    {
      "name_in_query": "Aspirin",
      "normalized_type": "Compound",
      "id_placeholder": "aspirin_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by 'Aspirin'",
      "api_call": "/api/v1/neighborhood/Compound/name/Aspirin?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-17 11:25:38,829 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27968626,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Lightheadedness",
          "identifier": "C0220870",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968609,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Tinnitus",
          "identifier": "C0040264",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968484,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Syncope",
          "identifier": "C0039070",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968327,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Rash",
          "identifier": "C0015230",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27970405,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Arthritic pains",
          "identifier": "C0857177",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968307,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Anaemia",
          "identifier": "C0002871",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968317,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Chest pain",
          "identifier": "C0008031",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969054,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatocellular injury",
          "identifier": "C0151763",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968326,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Dyspnoea",
          "identifier": "C0013404",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969624,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Peptic ulcer",
          "identifier": "C0030920",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969785,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Metabolic acidosis",
          "identifier": "C0220981",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27970402,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Reye's syndrome",
          "identifier": "C0035400",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968415,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Ulcer",
          "identifier": "C0041582",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969745,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Breast feeding",
          "identifier": "C0006147",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-17 11:25:38,831 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 11:25:46,901 - INFO - Final answer generated.
2025-11-17 11:25:46,917 - INFO - End time: 1763353546.9179008
2025-11-17 11:25:46,917 - INFO - Total time for entire processing: 24.2812659740448
2025-11-17 13:26:47,931 - INFO - Server is starting up...
2025-11-17 13:26:47,940 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 13:28:20,704 - INFO - Server is shutting down...
2025-11-17 13:28:53,505 - INFO - Server is starting up...
2025-11-17 13:28:53,508 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 13:29:26,340 - INFO - Server is shutting down...
2025-11-17 13:29:28,862 - INFO - Server is starting up...
2025-11-17 13:29:28,872 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-17 13:29:47,304 - INFO - WebSocket connection established.
2025-11-17 13:29:47,310 - INFO - Start time: 1763360987.310555
2025-11-17 13:29:47,310 - INFO - Pipeline started for question: 'And what are their symptoms?'
2025-11-17 13:30:00,402 - INFO - Plan created: {
  "query_type": "complex",
  "thought": "This is a disjunctive (OR) query. The user wants to find all symptoms presented by 'ovarian tumors' and all symptoms presented by 'colorectal cancer'. Plan: 1. Get symptoms for 'ovarian tumors' (Set A). 2. Get symptoms for 'colorectal cancer' (Set B). 3. Combine the two sets using a UNION operation.",
  "entities": [
    {
      "name_in_query": "ovarian tumors",
      "normalized_type": "Disease",
      "id_placeholder": "ovarian_tumors_entity"
    },
    {
      "name_in_query": "colorectal cancer",
      "normalized_type": "Disease",
      "id_placeholder": "colorectal_cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get symptoms for 'ovarian tumors' (Set A)",
      "api_call": "/api/v1/neighborhood/Disease/name/ovarian tumors?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "symptoms_A"
    },
    {
      "step": 2,
      "description": "Get symptoms for 'colorectal cancer' (Set B)",
      "api_call": "/api/v1/neighborhood/Disease/name/colorectal cancer?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "symptoms_B"
    },
    {
      "step": 3,
      "description": "Find union of symptom lists",
      "api_call": null,
      "logic": "UNION",
      "inputs": [
        "symptoms_A",
        "symptoms_B"
      ],
      "store_as": "final_result"
    }
  ]
}
2025-11-17 13:30:06,069 - INFO - Context store: {
  "symptoms_A": [],
  "symptoms_B": [
    {
      "data": {
        "id": 36677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcoma",
          "obsolete": true,
          "identifier": "D012509",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 37677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Leiomyosarcoma",
          "obsolete": true,
          "identifier": "D007890",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 24121,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Postoperative Nausea and Vomiting",
          "identifier": "D020250",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D020250"
        }
      }
    },
    {
      "data": {
        "id": 24158,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypercalciuria",
          "identifier": "D053565",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D053565"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23894,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Constipation",
          "identifier": "D003248",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003248"
        }
      }
    },
    {
      "data": {
        "id": 23858,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypoxia",
          "identifier": "D000860",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000860"
        }
      }
    },
    {
      "data": {
        "id": 24170,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcopenia",
          "identifier": "D055948",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D055948"
        }
      }
    },
    {
      "data": {
        "id": 24176,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Obesity, Abdominal",
          "identifier": "D056128",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D056128"
        }
      }
    },
    {
      "data": {
        "id": 24103,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cafe-au-Lait Spots",
          "identifier": "D019080",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D019080"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 23902,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Diarrhea",
          "identifier": "D003967",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003967"
        }
      }
    },
    {
      "data": {
        "id": 24186,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Visceral Pain",
          "identifier": "D059265",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059265"
        }
      }
    }
  ],
  "final_result": [
    {
      "data": {
        "id": 36677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcoma",
          "obsolete": true,
          "identifier": "D012509",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 37677,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Leiomyosarcoma",
          "obsolete": true,
          "identifier": "D007890",
          "source": "HPO"
        }
      }
    },
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 24121,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Postoperative Nausea and Vomiting",
          "identifier": "D020250",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D020250"
        }
      }
    },
    {
      "data": {
        "id": 24158,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypercalciuria",
          "identifier": "D053565",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D053565"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23894,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Constipation",
          "identifier": "D003248",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003248"
        }
      }
    },
    {
      "data": {
        "id": 23858,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hypoxia",
          "identifier": "D000860",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000860"
        }
      }
    },
    {
      "data": {
        "id": 24170,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Sarcopenia",
          "identifier": "D055948",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D055948"
        }
      }
    },
    {
      "data": {
        "id": 24176,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Obesity, Abdominal",
          "identifier": "D056128",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D056128"
        }
      }
    },
    {
      "data": {
        "id": 24103,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cafe-au-Lait Spots",
          "identifier": "D019080",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D019080"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 23902,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Diarrhea",
          "identifier": "D003967",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D003967"
        }
      }
    },
    {
      "data": {
        "id": 24186,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Visceral Pain",
          "identifier": "D059265",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059265"
        }
      }
    }
  ]
}
2025-11-17 13:30:06,076 - INFO - Execution completed. Final Context Store is ready.
2025-11-17 13:30:18,106 - INFO - Final answer generated.
2025-11-17 13:30:18,115 - INFO - End time: 1763361018.106685
2025-11-17 13:30:18,115 - INFO - Total time for entire processing: 30.796129941940308
2025-11-17 13:34:11,038 - INFO - WebSocket connection closed.
2025-11-17 13:34:11,152 - INFO - Server is shutting down...
2025-11-18 17:47:09,799 - INFO - Server is starting up...
2025-11-18 17:47:09,828 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 17:47:14,918 - INFO - WebSocket connection established.
2025-11-18 17:47:31,819 - INFO - Start time: 1763462851.8198304
2025-11-18 17:47:31,819 - INFO - Pipeline started for question: 'triệu chứng của bệnh ung thư'
2025-11-18 17:47:44,452 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for symptoms of cancer. I will find the 'Disease' node for 'cancer' and then find all connected 'Symptom' nodes via the 'PRESENTS_DpS' edge.",
  "entities": [
    {
      "name_in_query": "cancer",
      "normalized_type": "Disease",
      "id_placeholder": "cancer_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get symptoms presented by the disease 'cancer'",
      "api_call": "/api/v1/neighborhood/Disease/name/cancer?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 17:47:46,192 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 23836,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hyperthermia",
          "identifier": "D000084462",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000084462"
        }
      }
    },
    {
      "data": {
        "id": 23813,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Compassion Fatigue",
          "identifier": "D000068376",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000068376"
        }
      }
    },
    {
      "data": {
        "id": 24109,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Aging, Premature",
          "identifier": "D019588",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D019588"
        }
      }
    },
    {
      "data": {
        "id": 23934,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Feminization",
          "identifier": "D005262",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005262"
        }
      }
    },
    {
      "data": {
        "id": 24072,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Vomiting",
          "identifier": "D014839",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D014839"
        }
      }
    },
    {
      "data": {
        "id": 23933,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Mental Fatigue",
          "identifier": "D005222",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005222"
        }
      }
    },
    {
      "data": {
        "id": 23932,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fatigue",
          "identifier": "D005221",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005221"
        }
      }
    },
    {
      "data": {
        "id": 23938,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fever",
          "identifier": "D005334",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005334"
        }
      }
    },
    {
      "data": {
        "id": 23878,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Cachexia",
          "identifier": "D002100",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D002100"
        }
      }
    },
    {
      "data": {
        "id": 23964,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Hiccup",
          "identifier": "D006606",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D006606"
        }
      }
    },
    {
      "data": {
        "id": 23939,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Fever of Unknown Origin",
          "identifier": "D005335",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D005335"
        }
      }
    },
    {
      "data": {
        "id": 24183,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nociceptive Pain",
          "identifier": "D059226",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D059226"
        }
      }
    },
    {
      "data": {
        "id": 23907,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Dysgeusia",
          "identifier": "D004408",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D004408"
        }
      }
    },
    {
      "data": {
        "id": 23856,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Anorexia",
          "identifier": "D000855",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D000855"
        }
      }
    },
    {
      "data": {
        "id": 24000,
        "neo4j_type": "Symptom",
        "neo4j_root": 0,
        "properties": {
          "name": "Nausea",
          "identifier": "D009325",
          "license": "CC0 1.0",
          "source": "MeSH",
          "url": "http://identifiers.org/mesh/D009325"
        }
      }
    }
  ]
}
2025-11-18 17:47:46,199 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 17:47:57,361 - INFO - Final answer generated.
2025-11-18 17:47:57,362 - INFO - End time: 1763462877.3626935
2025-11-18 17:47:57,362 - INFO - Total time for entire processing: 25.542863130569458
2025-11-18 17:57:39,455 - INFO - WebSocket connection closed.
2025-11-18 17:59:02,560 - INFO - WebSocket connection established.
2025-11-18 17:59:07,283 - INFO - WebSocket connection closed.
2025-11-18 19:01:34,413 - INFO - WebSocket connection established.
2025-11-18 19:01:59,612 - INFO - Start time: 1763467319.6128166
2025-11-18 19:01:59,612 - INFO - Pipeline started for question: 'what are side effects of Fulvestrant'
2025-11-18 19:02:13,543 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for side effects of a compound. The plan is to start with the Compound 'Fulvestrant' and find its neighboring SideEffect nodes via the CAUSES_CcSE edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 19:02:15,520 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-18 19:02:15,524 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 19:02:26,499 - INFO - Final answer generated.
2025-11-18 19:02:26,499 - INFO - End time: 1763467346.4993007
2025-11-18 19:02:26,499 - INFO - Total time for entire processing: 26.886484146118164
2025-11-18 19:03:05,573 - INFO - Start time: 1763467385.5737133
2025-11-18 19:03:05,573 - INFO - Pipeline started for question: 'Những tác dụng phụ của thuốc Fulvestrant là gì ?'
2025-11-18 19:03:59,790 - ERROR - Planning failed: Gemini API call failed
2025-11-18 19:05:15,814 - INFO - Start time: 1763467515.8143368
2025-11-18 19:05:15,816 - INFO - Pipeline started for question: 'Những tác dụng phụ của thuốc Fulvestrant là gì'
2025-11-18 19:05:34,066 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "The user is asking for the side effects of the drug 'Fulvestrant'. This is a one-hop query from a Compound to a SideEffect. I will use the /neighborhood endpoint to find 'SideEffect' nodes connected to the 'Compound' 'Fulvestrant' via the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 19:05:35,417 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-18 19:05:35,419 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 19:05:59,772 - INFO - Final answer generated.
2025-11-18 19:05:59,775 - INFO - End time: 1763467559.775587
2025-11-18 19:05:59,775 - INFO - Total time for entire processing: 43.96125030517578
2025-11-18 19:22:07,803 - INFO - WebSocket connection closed.
2025-11-18 19:22:07,905 - INFO - Server is shutting down...
2025-11-18 19:22:15,775 - INFO - Server is starting up...
2025-11-18 19:22:15,781 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 19:23:06,524 - INFO - WebSocket connection established.
2025-11-18 19:23:15,484 - INFO - Start time: 1763468595.4842932
2025-11-18 19:23:15,485 - INFO - Pipeline started for question: 'hii'
2025-11-18 19:23:29,556 - INFO - Plan created: {
  "query_type": "unsupported",
  "thought": "The user provided a greeting ('Hii') instead of a biomedical question. I cannot parse any entities or relationships from this input, so I cannot generate a valid execution plan.",
  "entities": [],
  "plan": [
    {
      "step": 1,
      "description": "Cannot generate a plan. The user input is a greeting, not a valid biomedical query.",
      "api_call": null,
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 19:23:29,560 - INFO - Context store: {
  "final_result": []
}
2025-11-18 19:23:29,561 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 19:23:29,563 - INFO - Final answer generated.
2025-11-18 19:23:29,563 - INFO - End time: 1763468609.563615
2025-11-18 19:23:29,563 - INFO - Total time for entire processing: 14.07932186126709
2025-11-18 19:23:59,527 - INFO - Start time: 1763468639.5279093
2025-11-18 19:23:59,527 - INFO - Pipeline started for question: 'tại sao'
2025-11-18 19:24:13,737 - INFO - Plan created: {
  "query_type": "unplannable",
  "thought": "The user's query, 'T\u1ea1i sao b\u1ea1n kh\u00f4ng th\u1ec3 t\u00ecm th\u1ea5y c\u00e2u tr\u1ea3 l\u1eddi cu\u1ed1i c\u00f9ng cho c\u00e2u h\u1ecfi c\u1ee7a t\u00f4i?', translates to 'Why can't you find the final answer to my question?'. This is a meta-question about the system's capabilities, not a biomedical query. It contains no identifiable biomedical entities and cannot be mapped to the SPOKE API schema. Therefore, no execution plan can be generated.",
  "entities": [],
  "plan": []
}
2025-11-18 19:24:13,740 - INFO - Context store: {}
2025-11-18 19:24:13,740 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 19:24:13,740 - INFO - Final answer generated.
2025-11-18 19:24:13,743 - INFO - End time: 1763468653.7434933
2025-11-18 19:24:13,743 - INFO - Total time for entire processing: 14.21558403968811
2025-11-18 20:12:31,780 - INFO - WebSocket connection closed.
2025-11-18 20:14:58,944 - INFO - WebSocket connection established.
2025-11-18 20:15:20,882 - INFO - Start time: 1763471720.8822622
2025-11-18 20:15:20,882 - INFO - Pipeline started for question: 'What are side effects of Fulvestrant'
2025-11-18 20:15:33,545 - INFO - Plan created: {
  "query_type": "one-hop",
  "thought": "This is a one-hop query. The user is asking for the side effects of a specific compound. The plan is to use the /neighborhood API to find 'SideEffect' nodes connected to the 'Compound' node named 'Fulvestrant' via the 'CAUSES_CcSE' edge.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Get side effects caused by the compound 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "final_result"
    }
  ]
}
2025-11-18 20:15:35,496 - INFO - Context store: {
  "final_result": [
    {
      "data": {
        "id": 27969904,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Venous thromboembolism",
          "identifier": "C1861172",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968305,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Gastrointestinal pain",
          "identifier": "C0687713",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968335,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Haemoglobin",
          "identifier": "C0518015",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968382,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Angioedema",
          "identifier": "C0002994",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969279,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Bone pain",
          "identifier": "C0151825",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968358,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Urinary tract infection",
          "identifier": "C0042029",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969211,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vulvovaginal candidiasis",
          "identifier": "C0700345",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969210,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Vaginal moniliasis",
          "identifier": "C0006852",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969098,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Hepatic enzyme increased",
          "identifier": "C0235996",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968750,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Injection site haematoma",
          "identifier": "C0542008",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27969242,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Leukorrhea",
          "identifier": "C0023533",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968333,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Headache",
          "identifier": "C0018681",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968805,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Malnutrition",
          "identifier": "C0162429",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968321,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Depression",
          "identifier": "C0011570",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    },
    {
      "data": {
        "id": 27968451,
        "neo4j_type": "SideEffect",
        "neo4j_root": 0,
        "properties": {
          "name": "Infestation",
          "identifier": "C1384353",
          "sources": [
            "SIDER 4.1"
          ]
        }
      }
    }
  ]
}
2025-11-18 20:15:35,497 - INFO - Execution completed. Final Context Store is ready.
2025-11-18 20:15:44,526 - INFO - Final answer generated.
2025-11-18 20:15:44,527 - INFO - End time: 1763471744.527746
2025-11-18 20:15:44,527 - INFO - Total time for entire processing: 23.64548373222351
2025-11-18 20:29:39,146 - INFO - Start time: 1763472579.1256485
2025-11-18 20:29:39,172 - INFO - Pipeline started for question: 'Why'
2025-11-18 20:30:33,812 - INFO - Plan created: {
  "query_type": "complex",
  "thought": "The user is asking for the mechanism behind Fulvestrant's side effects. A good way to answer this is to find the biological pathways affected by the drug and the pathways implicated in its side effects, and then find the overlap. The plan is: 1. Find proteins that Fulvestrant interacts with. 2. Find the genes that encode these proteins. 3. Find the pathways these genes participate in (Drug Pathways). 4. Find the side effects caused by Fulvestrant. 5. Find the genes associated with these side effects. 6. Find the pathways these side effect genes participate in (Side Effect Pathways). 7. Find the intersection of the Drug Pathways and Side Effect Pathways to identify the shared biological mechanisms.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Find proteins that 'Fulvestrant' interacts with.",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=INTERACTS_PiC&node_filters=Protein",
      "logic": null,
      "inputs": null,
      "store_as": "drug_proteins"
    },
    {
      "step": 2,
      "description": "Find genes that encode these proteins.",
      "api_call": "/api/v1/neighborhood/{drug_proteins.type}/name/{drug_proteins.name}?edge_filters=ENCODES_GeP&node_filters=Gene",
      "logic": null,
      "inputs": [
        "drug_proteins"
      ],
      "store_as": "drug_genes"
    },
    {
      "step": 3,
      "description": "Find pathways associated with the drug's target genes.",
      "api_call": "/api/v1/neighborhood/{drug_genes.type}/name/{drug_genes.name}?edge_filters=PARTICIPATES_GpPW&node_filters=Pathway",
      "logic": null,
      "inputs": [
        "drug_genes"
      ],
      "store_as": "drug_pathways"
    },
    {
      "step": 4,
      "description": "Get side effects caused by 'Fulvestrant'.",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=CAUSES_CcSE&node_filters=SideEffect",
      "logic": null,
      "inputs": null,
      "store_as": "side_effects"
    },
    {
      "step": 5,
      "description": "Find genes associated with these side effects.",
      "api_call": "/api/v1/neighborhood/{side_effects.type}/name/{side_effects.name}?edge_filters=ASSOCIATES_GaS&node_filters=Gene",
      "logic": null,
      "inputs": [
        "side_effects"
      ],
      "store_as": "side_effect_genes"
    },
    {
      "step": 6,
      "description": "Find pathways associated with the side effect genes.",
      "api_call": "/api/v1/neighborhood/{side_effect_genes.type}/name/{side_effect_genes.name}?edge_filters=PARTICIPATES_GpPW&node_filters=Pathway",
      "logic": null,
      "inputs": [
        "side_effect_genes"
      ],
      "store_as": "side_effect_pathways"
    },
    {
      "step": 7,
      "description": "Find the intersection of pathways to explain the mechanism.",
      "api_call": null,
      "logic": "INTERSECTION",
      "inputs": [
        "drug_pathways",
        "side_effect_pathways"
      ],
      "store_as": "final_result"
    }
  ]
}
2025-11-18 20:31:11,443 - ERROR - An error occurred in the AI pipeline: argument of type 'NoneType' is not iterable
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 118, in run_full_pipeline
    context_store = await executor.execute_plan(plan, standalone_question)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\modules\spoke_executor.py", line 79, in execute_plan
    if step["store_as"] in future_step.get("inputs", []):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable
2025-11-18 20:42:08,175 - INFO - WebSocket connection closed.
2025-11-18 20:42:08,266 - INFO - Server is shutting down...
2025-11-18 20:42:12,714 - INFO - Server is starting up...
2025-11-18 20:42:12,715 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 20:42:44,277 - INFO - Server is shutting down...
2025-11-18 20:42:45,356 - INFO - Server is starting up...
2025-11-18 20:42:45,356 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-18 20:42:57,488 - INFO - Server is shutting down...
