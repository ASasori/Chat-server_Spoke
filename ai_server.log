2025-11-03 00:58:35,248 - INFO - Server is starting up...
2025-11-03 00:58:35,253 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-03 00:59:01,865 - INFO - WebSocket connection established.
2025-11-03 00:59:01,870 - INFO - Pipeline started for question: 'What symptoms are presented by diseases that are treated by Fulvestrant?'
2025-11-03 00:59:13,937 - ERROR - An error occurred in the AI pipeline: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 105, in run_full_pipeline
    plan = await search_module.get_execution_plan(standalone_question)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-11-03 00:59:13,937 - INFO - WebSocket connection closed.
2025-11-03 01:00:12,063 - INFO - Server is shutting down...
2025-11-03 01:06:34,395 - INFO - Server is starting up...
2025-11-03 01:06:34,397 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-03 01:06:35,306 - INFO - Server is shutting down...
2025-11-03 01:21:09,031 - INFO - Server is starting up...
2025-11-03 01:21:09,033 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-03 01:21:18,165 - INFO - WebSocket connection established.
2025-11-03 01:21:18,173 - INFO - Pipeline started for question: 'What symptoms are presented by diseases that are treated by Fulvestrant?'
2025-11-03 01:21:28,461 - INFO - Plan created: {
  "query_type": "path",
  "thought": "This is a multi-hop path query (Compound -> Disease -> Symptom). Plan: 1. (Hop 1) Use /neighborhood to find 'Diseases' treated by the 'Compound' named 'Fulvestrant'. 2. (Hop 2) Expand the resulting list of diseases. The system will loop over this list, using each disease's 'name' to find the 'Symptoms' they present.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Hop 1: Get diseases treated by 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=TREATS_CtD&node_filters=Disease",
      "logic": null,
      "inputs": null,
      "store_as": "disease_list"
    },
    {
      "step": 2,
      "description": "Hop 2: Get symptoms presented by those diseases",
      "api_call": "/api/v1/neighborhood/{disease_list.type}/name/{disease_list.name}?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": [
        "disease_list"
      ],
      "store_as": "final_result"
    }
  ]
}
2025-11-03 01:22:45,685 - INFO - Execution completed. Final Context Store is ready.
2025-11-03 01:22:45,685 - ERROR - An error occurred in the AI pipeline: AnswerGenerator.generate_final_answer() got an unexpected keyword argument 'history'
Traceback (most recent call last):
  File "E:\HOCTAPCNTT\HOC KI 9\PROJECT\AKE\server_ai_main.py", line 120, in run_full_pipeline
    final_answer = await answer_module.generate_final_answer(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AnswerGenerator.generate_final_answer() got an unexpected keyword argument 'history'
2025-11-03 01:22:45,691 - INFO - WebSocket connection closed.
2025-11-03 01:23:55,518 - INFO - Server is shutting down...
2025-11-03 01:23:58,641 - INFO - Server is starting up...
2025-11-03 01:23:58,642 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-03 01:27:39,484 - INFO - Server is shutting down...
2025-11-03 01:27:40,613 - INFO - Server is starting up...
2025-11-03 01:27:40,614 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-03 01:30:59,060 - INFO - Server is shutting down...
2025-11-03 01:31:00,177 - INFO - Server is starting up...
2025-11-03 01:31:00,177 - INFO - ==================== ALL AI MODULES INITIALIZED SUCCESSFULLY ====================
2025-11-03 01:31:18,909 - INFO - WebSocket connection established.
2025-11-03 01:31:18,913 - INFO - Pipeline started for question: 'What symptoms are presented by diseases that are treated by Fulvestrant?'
2025-11-03 01:31:29,107 - INFO - Plan created: {
  "query_type": "path",
  "thought": "This is a multi-hop path query (Compound -> Disease -> Symptom). Plan: 1. (Hop 1) Use /neighborhood to find 'Diseases' treated by the 'Compound' named 'Fulvestrant'. 2. (Hop 2) Expand the resulting list of diseases. The system will loop over this list, using each disease's 'name' to find the 'Symptoms' they present.",
  "entities": [
    {
      "name_in_query": "Fulvestrant",
      "normalized_type": "Compound",
      "id_placeholder": "fulvestrant_entity"
    }
  ],
  "plan": [
    {
      "step": 1,
      "description": "Hop 1: Get diseases treated by 'Fulvestrant'",
      "api_call": "/api/v1/neighborhood/Compound/name/Fulvestrant?edge_filters=TREATS_CtD&node_filters=Disease",
      "logic": null,
      "inputs": null,
      "store_as": "disease_list"
    },
    {
      "step": 2,
      "description": "Hop 2: Get symptoms presented by those diseases",
      "api_call": "/api/v1/neighborhood/{disease_list.type}/name/{disease_list.name}?edge_filters=PRESENTS_DpS&node_filters=Symptom",
      "logic": null,
      "inputs": [
        "disease_list"
      ],
      "store_as": "final_result"
    }
  ]
}
2025-11-03 01:32:42,298 - INFO - Execution completed. Final Context Store is ready.
2025-11-03 01:32:42,300 - INFO - Final answer generated.
2025-11-03 01:32:42,301 - ERROR - An error occurred in the WebSocket connection: Object of type coroutine is not JSON serializable
2025-11-03 01:35:37,622 - INFO - Server is shutting down...
